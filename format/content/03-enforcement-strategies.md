# ç¬¬ 3 ç« ï¼šè§„èŒƒæ‰§è¡Œç­–ç•¥

## æ¦‚è¿°

åˆ¶å®šä»£ç è§„èŒƒåªæ˜¯ç¬¬ä¸€æ­¥ï¼Œå…³é”®åœ¨äºå¦‚ä½•æœ‰æ•ˆåœ°æ‰§è¡Œè¿™äº›è§„èŒƒã€‚æœ¬ç« å°†æ¢è®¨è§„èŒƒæ‰§è¡Œçš„å„ç§ç­–ç•¥ï¼Œä»å·¥å…·è‡ªåŠ¨åŒ–åˆ°å›¢é˜Ÿæ–‡åŒ–å»ºè®¾ï¼Œå¸®åŠ©å›¢é˜Ÿå°†è§„èŒƒä»ç†è®ºè½¬åŒ–ä¸ºå®è·µã€‚

## ä¸€ã€è§„èŒƒæ‰§è¡Œçš„å±‚æ¬¡

### 1.1 æ‰§è¡Œç­–ç•¥å±‚çº§

ä»£ç è§„èŒƒæ‰§è¡Œå¯ä»¥åœ¨å¤šä¸ªå±‚çº§è¿›è¡Œï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„é˜²æŠ¤ç½‘ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡åŒ–å±‚: å›¢é˜Ÿå…±è¯†ä¸è‡ªè§‰æ‰§è¡Œ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æµç¨‹å±‚: ä»£ç å®¡æŸ¥ä¸åé¦ˆ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¥ç¨‹å±‚: CI/CD é›†æˆæ£€æŸ¥                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¥å…·å±‚: ç¼–è¾‘å™¨é›†æˆä¸ Git Hooks                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ¯å±‚ä½œç”¨:**
- **æ–‡åŒ–å±‚**: å»ºç«‹è§„èŒƒæ„è¯†ï¼Œä»æºå¤´ä¿è¯è§„èŒƒéµå¾ª
- **æµç¨‹å±‚**: äººå·¥å®¡æ ¸ä¸è®¨è®ºï¼Œæ•è·ç»†å¾®æˆ–å¤æ‚é—®é¢˜
- **å·¥ç¨‹å±‚**: è‡ªåŠ¨åŒ–éªŒè¯ï¼Œé˜»æ­¢ä¸åˆè§„ä»£ç è¿›å…¥ä¸»åˆ†æ”¯
- **å·¥å…·å±‚**: å³æ—¶åé¦ˆï¼Œåœ¨ç¼–ç é˜¶æ®µå°±å‘ç°é—®é¢˜

> **ğŸ’¡ æç¤º**  
> æœ€æœ‰æ•ˆçš„è§„èŒƒæ‰§è¡Œæˆ˜ç•¥ç»“åˆäº†å¤šä¸ªå±‚çº§ï¼Œæ—¢æœ‰è‡ªåŠ¨åŒ–å·¥å…·æä¾›å³æ—¶åé¦ˆï¼Œä¹Ÿæœ‰å›¢é˜Ÿæ–‡åŒ–ä¿ƒè¿›è‡ªè§‰éµå®ˆã€‚

### 1.2 æ‰§è¡Œå¼ºåº¦çš„é€‰æ‹©

è§„èŒƒæ‰§è¡Œçš„å¼ºåº¦åº”æ ¹æ®é¡¹ç›®é˜¶æ®µå’Œå›¢é˜Ÿæƒ…å†µè¿›è¡Œè°ƒæ•´ï¼š

| æ‰§è¡Œå¼ºåº¦ | é€‚ç”¨åœºæ™¯ | å®æ–½æ–¹å¼ |
|---------|---------|---------|
| ä¸¥æ ¼æ¨¡å¼ | æ ¸å¿ƒåº“ã€å…³é”®ç³»ç»Ÿ | æ‰€æœ‰è§„åˆ™å¼ºåˆ¶æ‰§è¡Œï¼ŒCI é˜»æ–­éƒ¨ç½² |
| æ ‡å‡†æ¨¡å¼ | ä¸€èˆ¬ä¸šåŠ¡é¡¹ç›® | æ ¸å¿ƒè§„åˆ™å¼ºåˆ¶ï¼Œé£æ ¼è§„åˆ™è­¦å‘Š |
| å¼•å¯¼æ¨¡å¼ | é¡¹ç›®æ—©æœŸã€è§„èŒƒè¿‡æ¸¡æœŸ | ä¸»è¦ä»¥è­¦å‘Šå’Œå»ºè®®ä¸ºä¸» |
| æ•™è‚²æ¨¡å¼ | æ–°å›¢é˜Ÿã€åŸ¹è®­é˜¶æ®µ | ä»…æä¾›åé¦ˆï¼Œä¸é˜»æ–­ä»»ä½•æµç¨‹ |

**æ‰§è¡Œå¼ºåº¦ç¤ºä¾‹ï¼š**

```javascript
// ESLint é…ç½® - ä¸¥æ ¼æ¨¡å¼
{
  "rules": {
    "no-console": "error",        // ç¦æ­¢ console
    "no-unused-vars": "error",    // ç¦æ­¢æœªä½¿ç”¨çš„å˜é‡
    "quotes": ["error", "single"] // å¼ºåˆ¶å•å¼•å·
  }
}

// ESLint é…ç½® - å¼•å¯¼æ¨¡å¼
{
  "rules": {
    "no-console": "warn",         // è­¦å‘Šä½†å…è®¸ console
    "no-unused-vars": "error",    // ä»ç„¶ç¦æ­¢æœªä½¿ç”¨çš„å˜é‡
    "quotes": "off"               // ä¸å¼ºåˆ¶å¼•å·é£æ ¼
  }
}
```

> **ğŸ“Š æœ€ä½³å®è·µ**  
> å›¢é˜Ÿé€šå¸¸ä»è¾ƒå®½æ¾çš„æ‰§è¡Œå¼ºåº¦å¼€å§‹ï¼Œéšç€æˆå‘˜é€‚åº”å’Œè§„èŒƒæˆç†Ÿåº¦æé«˜ï¼Œé€æ­¥æé«˜æ‰§è¡Œå¼ºåº¦ã€‚æ ¹æ®è°ƒæŸ¥ï¼Œè¿™ç§æ¸è¿›å¼ç­–ç•¥çš„æˆåŠŸç‡æ¯”ä¸€æ­¥åˆ°ä½é«˜å‡ºçº¦ 65%ã€‚

## äºŒã€ç¼–è¾‘å™¨é›†æˆ

### 2.1 ä¸»æµç¼–è¾‘å™¨æ’ä»¶é…ç½®

é€šè¿‡ç¼–è¾‘å™¨æ’ä»¶æä¾›å³æ—¶è§„èŒƒåé¦ˆï¼š

**VS Code é…ç½®**

```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
    "source.fixAll.stylelint": true
  },
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact"
  ],
  "stylelint.validate": [
    "css",
    "scss",
    "sass",
    "less"
  ],
  "prettier.requireConfig": true
}
```

**WebStorm é…ç½®**
```
Preferences > Languages & Frameworks > JavaScript > Code Quality Tools > ESLint
âœ“ Automatic ESLint configuration
âœ“ Run eslint --fix on save

Preferences > Languages & Frameworks > Style Sheets > Stylelint
âœ“ Enable
âœ“ Run on save
```

**ç¼–è¾‘å™¨è®¾ç½®å…±äº«**

```
project/
â”œâ”€â”€ .vscode/                # VS Code è®¾ç½®
â”‚   â”œâ”€â”€ settings.json
â”‚   â””â”€â”€ extensions.json     # æ¨èæ‰©å±•
â”œâ”€â”€ .idea/                  # WebStorm è®¾ç½®
â”‚   â””â”€â”€ codeStyles/
â””â”€â”€ .editorconfig           # è·¨ç¼–è¾‘å™¨åŸºç¡€è®¾ç½®
```

### 2.2 å®æ—¶åé¦ˆä¸è‡ªåŠ¨ä¿®å¤

é…ç½®ç¼–è¾‘å™¨å®ç°å®æ—¶åé¦ˆå’Œè‡ªåŠ¨ä¿®å¤åŠŸèƒ½ï¼š

**å®æ—¶åé¦ˆæœºåˆ¶ï¼š**

![ç¼–è¾‘å™¨å®æ—¶åé¦ˆ](https://via.placeholder.com/600x300?text=ç¼–è¾‘å™¨å®æ—¶è§„èŒƒåé¦ˆç¤ºä¾‹)

```javascript
// ç¼–è¾‘å™¨ä¸­çš„å®æ—¶åé¦ˆ
function badFunction(){         // æ³¢æµªçº¿: ç¼ºå°‘ç©ºæ ¼
  var x = 1;                   // æ³¢æµªçº¿: ä½¿ç”¨ let æˆ– const
  console.log(x)               // æ³¢æµªçº¿: ç¼ºå°‘åˆ†å·, é¿å…ä½¿ç”¨ console
  return x                     // æ³¢æµœçº¿: ç¼ºå°‘åˆ†å·
}
```

**è‡ªåŠ¨ä¿®å¤é…ç½®ï¼š**
- **ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤**ï¼šåœ¨ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨åº”ç”¨å¯ä¿®å¤çš„è§„åˆ™
- **å‘½ä»¤é¢æ¿æ‰§è¡Œ**ï¼šé€šè¿‡ç¼–è¾‘å™¨å‘½ä»¤æ‰‹åŠ¨è§¦å‘ä¿®å¤
- **å¿«æ·é”®ç»‘å®š**ï¼šä¸ºå¸¸ç”¨ä¿®å¤æ“ä½œè®¾ç½®é”®ç›˜å¿«æ·é”®

**è‡ªå®šä¹‰ä¿®å¤èŒƒå›´ï¼š**
```json
// éƒ¨åˆ†è§„åˆ™è‡ªåŠ¨ä¿®å¤
{
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
    "source.fixAll.stylelint": true,
    "source.organizeImports": false  // ä¸è‡ªåŠ¨ç»„ç»‡å¯¼å…¥
  }
}
```

> **âš ï¸ æ³¨æ„**  
> æŸäº›è‡ªåŠ¨ä¿®å¤å¯èƒ½æ”¹å˜ä»£ç è¯­ä¹‰ã€‚ç‰¹åˆ«æ˜¯å¯¹äºæ—§é¡¹ç›®ï¼Œå»ºè®®å…ˆåœ¨éå…³é”®ä»£ç ä¸Šè¯•ç”¨è‡ªåŠ¨ä¿®å¤åŠŸèƒ½ï¼Œç¡®è®¤å®‰å…¨åå†å…¨é¢åº”ç”¨ã€‚

## ä¸‰ã€Git Hooks é›†æˆ

### 3.1 pre-commit é’©å­

ä½¿ç”¨ Git pre-commit é’©å­åœ¨ä»£ç æäº¤å‰è¿›è¡Œæ£€æŸ¥ï¼š

**ä½¿ç”¨ husky é…ç½® Git hooks:**

```bash
# å®‰è£… husky å’Œ lint-staged
npm install --save-dev husky lint-staged
```

```json
// package.json
{
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{css,scss,less}": [
      "stylelint --fix"
    ],
    "*.html": [
      "prettier --write"
    ]
  }
}
```

**ä½¿ç”¨ .husky ç›®å½•æ–¹å¼ï¼ˆç°ä»£ huskyï¼‰:**

```bash
# åˆå§‹åŒ– husky
npx husky install

# åˆ›å»º pre-commit é’©å­
npx husky add .husky/pre-commit "npx lint-staged"
```

```
.husky/
â”œâ”€â”€ _/
â”‚   â””â”€â”€ husky.sh
â”œâ”€â”€ pre-commit
â””â”€â”€ commit-msg
```

**lint-staged é…ç½®æ–‡ä»¶åˆ†ç¦»:**

```javascript
// lint-staged.config.js
module.exports = {
  '*.{js,jsx,ts,tsx}': [
    'eslint --fix',
    'prettier --write',
    'jest --bail --findRelatedTests'  // è¿è¡Œç›¸å…³æµ‹è¯•
  ],
  '*.{css,scss,less}': ['stylelint --fix'],
  '*.{json,md}': ['prettier --write']
};
```

### 3.2 commit-msg é’©å­

è§„èŒƒåŒ– Git æäº¤ä¿¡æ¯ï¼š

**ä½¿ç”¨ commitlint:**

```bash
# å®‰è£… commitlint
npm install --save-dev @commitlint/cli @commitlint/config-conventional
```

```js
// commitlint.config.js
module.exports = {
  extends: ['@commitlint/config-conventional'],
  rules: {
    'type-enum': [
      2,
      'always',
      [
        'feat',     // æ–°åŠŸèƒ½
        'fix',      // ä¿®å¤
        'docs',     // æ–‡æ¡£
        'style',    // æ ·å¼è°ƒæ•´
        'refactor', // é‡æ„
        'test',     // æµ‹è¯•
        'chore'     // æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å˜æ›´
      ]
    ],
    'scope-case': [0]  // ä¸éªŒè¯ scope çš„æ ¼å¼
  }
};
```

**Git æäº¤æ¨¡æ¿:**

```
# .gitmessage
<type>(<scope>): <subject>

<body>

<footer>

# ç±»å‹:
#   feat     : æ–°åŠŸèƒ½
#   fix      : ä¿®å¤
#   docs     : æ–‡æ¡£
#   style    : æ ¼å¼è°ƒæ•´
#   refactor : é‡æ„
#   test     : æµ‹è¯•
#   chore    : æ„å»º/å·¥å…·
```

```bash
# é…ç½® Git ä½¿ç”¨æäº¤æ¨¡æ¿
git config --local commit.template .gitmessage
```

### 3.3 è‡ªå®šä¹‰ Git é’©å­

é’ˆå¯¹ç‰¹å®šé¡¹ç›®éœ€æ±‚åˆ›å»ºè‡ªå®šä¹‰ Git é’©å­ï¼š

**æ£€æŸ¥æ•æ„Ÿä¿¡æ¯æ³„éœ²:**

```bash
#!/bin/bash
# .husky/pre-commit

# æ£€æŸ¥æ˜¯å¦åŒ…å« API å¯†é’¥
if git diff --cached | grep -E 'API_KEY|SECRET_KEY|password.*='; then
  echo "è­¦å‘Š: æäº¤åŒ…å«æ½œåœ¨çš„æ•æ„Ÿä¿¡æ¯!"
  exit 1
fi

# ç»§ç»­å…¶ä»–æ£€æŸ¥
npx lint-staged
```

**æ£€æŸ¥å¤§æ–‡ä»¶:**

```bash
#!/bin/bash
# .husky/pre-commit

# æ£€æŸ¥æ–°å¢æ–‡ä»¶å¤§å°
max_size_kb=500
files=$(git diff --cached --name-only --diff-filter=A)

for file in $files; do
  size=$(du -k "$file" | cut -f1)
  if [ $size -gt $max_size_kb ]; then
    echo "é”™è¯¯: $file å¤§å°è¶…è¿‡ ${max_size_kb}KB"
    exit 1
  fi
done
```

> **ğŸ’¡ æç¤º**  
> è™½ç„¶ Git é’©å­æ˜¯å¼ºå¤§çš„è§„èŒƒæ‰§è¡Œå·¥å…·ï¼Œä½†åº”è¯¥é¿å…åœ¨é’©å­ä¸­æ‰§è¡Œè¿‡äºè€—æ—¶çš„æ“ä½œï¼Œä»¥å…å½±å“å¼€å‘æµç¨‹ã€‚é€šå¸¸å°†è€—æ—¶æ£€æŸ¥æ”¾åœ¨ CI/CD æµç¨‹ä¸­æ›´ä¸ºåˆé€‚ã€‚

## å››ã€CI/CD é›†æˆ

### 4.1 æŒç»­é›†æˆæ£€æŸ¥

åœ¨ CI ç¯å¢ƒä¸­é›†æˆä»£ç è§„èŒƒæ£€æŸ¥ï¼š

**GitHub Actions é…ç½®:**

```yaml
# .github/workflows/code-quality.yml
name: Code Quality

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '16'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Lint JavaScript
        run: npm run lint:js
      
      - name: Lint CSS
        run: npm run lint:css
      
      - name: Check formatting
        run: npm run format:check
```

**GitLab CI é…ç½®:**

```yaml
# .gitlab-ci.yml
stages:
  - lint
  - test
  - build

lint-job:
  stage: lint
  image: node:16-alpine
  script:
    - npm ci
    - npm run lint:js
    - npm run lint:css
    - npm run format:check
  artifacts:
    reports:
      junit: lint-results.xml
```

**ç”Ÿæˆè§„èŒƒæ£€æŸ¥æŠ¥å‘Š:**

```bash
# ESLint è¾“å‡º JUnit æ ¼å¼æŠ¥å‘Š
eslint --format junit --output-file reports/eslint.xml src/

# Stylelint è¾“å‡º JUnit æ ¼å¼æŠ¥å‘Š
stylelint --custom-formatter=./node_modules/stylelint-junit-formatter src/**/*.scss > reports/stylelint.xml
```

### 4.2 PR/MR é›†æˆæ£€æŸ¥

åœ¨ä»£ç å®¡æŸ¥é˜¶æ®µé›†æˆè‡ªåŠ¨åŒ–è§„èŒƒæ£€æŸ¥ï¼š

**GitHub PR æ£€æŸ¥:**

```yaml
# .github/workflows/pr-checks.yml
name: Pull Request Checks

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '16'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Lint changed files
        uses: reviewdog/action-eslint@v1
        with:
          reporter: github-pr-review
          fail_on_error: true
          eslint_flags: '--ext .js,.jsx,.ts,.tsx .'
```

**GitLab MR æ£€æŸ¥:**

```yaml
# .gitlab-ci.yml
lint-mr:
  stage: lint
  script:
    - npm ci
    - git diff --name-only origin/main... | grep -E '\.(js|jsx|ts|tsx)$' | xargs eslint
  only:
    - merge_requests
```

**æ£€æŸ¥ç»“æœå¯è§†åŒ–:**

é€šè¿‡åœ¨ PR/MR ä¸­ç›´æ¥å±•ç¤ºæ£€æŸ¥ç»“æœï¼Œæé«˜åé¦ˆæ•ˆç‡ï¼š

![PRæ£€æŸ¥ç»“æœ](https://via.placeholder.com/600x300?text=PRæ£€æŸ¥ç»“æœç¤ºä¾‹)

> **ğŸ“Š æœ€ä½³å®è·µ**  
> ç ”ç©¶è¡¨æ˜ï¼Œå°†è§„èŒƒæ£€æŸ¥ç»“æœç›´æ¥åµŒå…¥åˆ° PR/MR è¯„è®ºä¸­ï¼Œèƒ½å°†è§„èŒƒé—®é¢˜ä¿®å¤ç‡æé«˜çº¦ 40%ï¼Œå› ä¸ºå¼€å‘è€…èƒ½å¤Ÿæ›´ç›´è§‚åœ°çœ‹åˆ°é—®é¢˜å¹¶å¿«é€Ÿä¿®å¤ã€‚

### 4.3 éƒ¨ç½²å‰éªŒè¯

ç¡®ä¿éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ç¬¦åˆè§„èŒƒè¦æ±‚ï¼š

**éƒ¨ç½²å‰éªŒè¯æµç¨‹:**

```yaml
# .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [ main ]

jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Node.js
        uses: actions/setup-node@v3
      - name: Install dependencies
        run: npm ci
      - name: Lint
        run: npm run lint
      - name: Test
        run: npm test
        
  build:
    needs: verify
    runs-on: ubuntu-latest
    steps:
      # æ„å»ºæ­¥éª¤...
      
  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      # éƒ¨ç½²æ­¥éª¤...
```

**ä½¿ç”¨è´¨é‡é—¨ç¦:**

```yaml
# ä½¿ç”¨ SonarQube è´¨é‡é—¨ç¦
quality-gate:
  stage: quality
  script:
    - sonar-scanner
    - |
      if [ $(curl -s -u "${SONAR_TOKEN}:" "${SONAR_HOST}/api/qualitygates/project_status?projectKey=${CI_PROJECT_NAME}" | jq -r '.projectStatus.status') != "OK" ]; then
        echo "è´¨é‡é—¨ç¦æœªé€šè¿‡"
        exit 1
      fi
```

## äº”ã€ä»£ç å®¡æŸ¥ä¸å›¢é˜Ÿåä½œ

### 5.1 ç»“æ„åŒ–ä»£ç å®¡æŸ¥

å°†è§„èŒƒæ£€æŸ¥çº³å…¥ä»£ç å®¡æŸ¥æµç¨‹ï¼š

**ä»£ç å®¡æŸ¥æ¸…å•:**

```markdown
## ä»£ç è§„èŒƒæ£€æŸ¥æ¸…å•

### é€šç”¨è§„èŒƒ
- [ ] ä»£ç æ ¼å¼ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [ ] å‘½åéµå¾ªçº¦å®šçš„é£æ ¼
- [ ] é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£

### JavaScript/TypeScript
- [ ] é¿å…ä½¿ç”¨åºŸå¼ƒçš„ API
- [ ] ç±»å‹å®šä¹‰å®Œæ•´ï¼ˆTypeScriptï¼‰
- [ ] é”™è¯¯å¤„ç†å¦¥å–„

### CSS/SCSS
- [ ] é€‰æ‹©å™¨ç¬¦åˆå‘½åè§„èŒƒ
- [ ] é¿å…è¿‡åº¦åµŒå¥—
- [ ] å“åº”å¼è®¾è®¡åˆç†

### æ€§èƒ½ä¸å®‰å…¨
- [ ] æ— æ˜æ˜¾æ€§èƒ½é—®é¢˜
- [ ] å®‰å…¨å¤„ç†ç”¨æˆ·è¾“å…¥
- [ ] é¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ²
```

**å®¡æŸ¥å·¥å…·é›†æˆ:**

```
GitHub/GitLab + è‡ªåŠ¨åŒ–æ£€æŸ¥ + å®¡æŸ¥æ¨¡æ¿ â†’ é«˜æ•ˆä»£ç å®¡æŸ¥
```

**ä»£ç ç¤ºä¾‹æ ‡æ³¨:**

```javascript
// å®¡æŸ¥ç¤ºä¾‹
function calculateTotal(items) {
  // [QUESTION] è¿™é‡Œæ˜¯å¦éœ€è¦æ£€æŸ¥ items æ˜¯å¦ä¸ºæ•°ç»„?
  return items.reduce((sum, item) => {
    // [SUGGESTION] è€ƒè™‘ä½¿ç”¨å¯ç©ºé“¾æ“ä½œç¬¦ item?.price || 0
    return sum + (item.price || 0);
  }, 0);
}
```

### 5.2 è‡ªåŠ¨åŒ–åé¦ˆæœºåˆ¶

åˆ©ç”¨è‡ªåŠ¨åŒ–å·¥å…·æä¾›è§„èŒƒåé¦ˆï¼š

**ä»£ç æ°”å‘³æ£€æµ‹:**

```yaml
# ä½¿ç”¨ Codeclimate åˆ†æä»£ç è´¨é‡
- name: CodeClimate Analysis
  uses: codeclimate/github-actions@v1
  with:
    reporter-id: ${{ secrets.CC_REPORTER_ID }}
```

**æŠ€æœ¯å€ºåŠ¡è·Ÿè¸ª:**

```javascript
// TODO: éœ€è¦é‡æ„è¿™éƒ¨åˆ†ä»£ç  [TECH_DEBT] [PRIORITY: HIGH]
function legacyFunction() {
  // ä¸´æ—¶è§£å†³æ–¹æ¡ˆ
}
```

**å¯è§†åŒ–æŠ¥å‘Šç”Ÿæˆ:**

```bash
# ç”Ÿæˆ ESLint HTML æŠ¥å‘Š
eslint --format html --output-file reports/eslint-report.html src/

# ä½¿ç”¨ eslint-stats ç”Ÿæˆç»Ÿè®¡æŠ¥å‘Š
npx eslint-stats --json-filenames "./reports/eslint-*.json" --output-html "./reports/stats.html"
```

### 5.3 å›¢é˜Ÿè§„èŒƒæ–‡åŒ–å»ºè®¾

å»ºç«‹ç§¯æçš„ä»£ç è§„èŒƒæ–‡åŒ–ï¼š

**è§„èŒƒçŸ¥è¯†åˆ†äº«:**
- å®šæœŸçš„è§„èŒƒåˆ†äº«ä¼šè®®
- æ–°è§„åˆ™å¼•å…¥å‰çš„å›¢é˜Ÿè®¨è®º
- è§„èŒƒç—›ç‚¹æ”¶é›†ä¸æ”¹è¿›

**è§„èŒƒæ‰§è¡Œæ¿€åŠ±:**
- è®¾ç«‹"ä»£ç è´¨é‡å† å†›"
- å°†è§„èŒƒéµå¾ªåº¦çº³å…¥æŠ€æœ¯è¯„ä¼°
- åˆ†äº«è§„èŒƒå¸¦æ¥çš„æˆåŠŸæ¡ˆä¾‹

**æ¸è¿›å¼è§„èŒƒåº”ç”¨:**

```javascript
// é˜¶æ®µ 1: æ ‡è®°åºŸå¼ƒåšæ³•
/**
 * @deprecated ä½¿ç”¨æ–°çš„ API `newFunction()` æ›¿ä»£
 */
function oldFunction() {
  console.warn('è¯·ä½¿ç”¨ newFunction() æ›¿ä»£');
  return newFunction();
}

// é˜¶æ®µ 2: è¿ç§»æœŸç»“æŸåé€šè¿‡ ESLint ç¦ç”¨
// .eslintrc.js
{
  "rules": {
    "no-restricted-imports": ["error", {
      "paths": [{
        "name": "./old-module",
        "message": "è¯·ä½¿ç”¨ new-module æ›¿ä»£"
      }]
    }]
  }
}
```

> **ğŸ’¡ æç¤º**  
> è§„èŒƒæ–‡åŒ–å»ºè®¾æ˜¯ä¸€ä¸ªé•¿æœŸè¿‡ç¨‹ï¼Œé‡åœ¨åˆ›é€ ç§¯æçš„åé¦ˆå¾ªç¯ã€‚ç ”ç©¶è¡¨æ˜ï¼Œå›¢é˜Ÿæˆå‘˜çœ‹åˆ°è§„èŒƒå¸¦æ¥çš„åˆ‡å®å¥½å¤„åï¼Œè‡ªè§‰éµå®ˆè§„èŒƒçš„æ„æ„¿ä¼šæ˜¾è‘—æé«˜ã€‚

## å…­ã€è§„èŒƒæ‰§è¡Œæ•°æ®ä¸ä¼˜åŒ–

### 6.1 æ‰§è¡Œæ•ˆæœåº¦é‡

è¡¡é‡è§„èŒƒæ‰§è¡Œçš„æ•ˆæœï¼š

**å…³é”®æŒ‡æ ‡:**
- è§„èŒƒè¿è§„ç‡ï¼ˆæŒ‰è§„åˆ™/æ–‡ä»¶/å›¢é˜Ÿï¼‰
- ä¿®å¤æ—¶é—´ï¼ˆä»å‘ç°åˆ°è§£å†³ï¼‰
- PR/MR è´¨é‡æå‡ï¼ˆè§„èŒƒç›¸å…³è¯„è®ºå‡å°‘æ¯”ä¾‹ï¼‰
- å¼€å‘è€…æ»¡æ„åº¦ï¼ˆè§„èŒƒå·¥å…·é“¾ä½¿ç”¨ä½“éªŒï¼‰

**åº¦é‡å·¥å…·:**

```bash
# ESLint ç»Ÿè®¡æŠ¥å‘Š
npx eslint-stats src/

# SonarQube ä»£ç è´¨é‡æŒ‡æ ‡
sonar-scanner \
  -Dsonar.projectKey=myproject \
  -Dsonar.sources=src \
  -Dsonar.host.url=http://localhost:9000 \
  -Dsonar.login=mytoken
```

**å¯è§†åŒ–ä»ªè¡¨ç›˜:**

![è§„èŒƒæ‰§è¡Œä»ªè¡¨ç›˜](https://via.placeholder.com/600x300?text=è§„èŒƒæ‰§è¡Œä»ªè¡¨ç›˜ç¤ºä¾‹)

### 6.2 æŒç»­ä¼˜åŒ–ç­–ç•¥

åŸºäºæ•°æ®ä¸æ–­ä¼˜åŒ–è§„èŒƒæ‰§è¡Œï¼š

**è§„åˆ™è°ƒæ•´æµç¨‹:**

```
æ•°æ®æ”¶é›† â†’ åˆ†æé—®é¢˜è§„åˆ™ â†’ è°ƒæ•´è§„åˆ™ â†’ è¯•è¡Œ â†’ å…¨é¢æ¨å¹¿
```

**ç‰ˆæœ¬æ§åˆ¶é…ç½®:**

```javascript
// .eslintrc.js
module.exports = {
  extends: [
    './eslint-config/base',
    './eslint-config/react',
    './eslint-config/typescript',
  ],
  rules: {
    // é¡¹ç›®ç‰¹å®šè¦†ç›–
  }
};
```

**æ¸è¿›å¼å¼ºåŒ–:**

```json
// ç¬¬ä¸€é˜¶æ®µ: ä¸»è¦è§„åˆ™è®¾ç½®ä¸ºè­¦å‘Š
{
  "rules": {
    "complexity": ["warn", 10],
    "max-depth": ["warn", 3]
  }
}

// ç¬¬äºŒé˜¶æ®µ: æå‡ä¸ºé”™è¯¯
{
  "rules": {
    "complexity": ["error", 10],
    "max-depth": ["error", 3]
  }
}

// ç¬¬ä¸‰é˜¶æ®µ: è°ƒæ•´é˜ˆå€¼æ›´ä¸¥æ ¼
{
  "rules": {
    "complexity": ["error", 8],
    "max-depth": ["error", 2]
  }
}
```

## å­¦ä¹ å»ºè®®

> **ğŸ“š è¿›é˜¶è·¯å¾„**
> 
> 1. **ä»ç¼–è¾‘å™¨é›†æˆå¼€å§‹**ï¼šé¦–å…ˆé…ç½®å¼€å‘ç¯å¢ƒï¼Œè·å¾—å³æ—¶åé¦ˆ
> 2. **æ¸è¿›å¼å¼•å…¥ Git Hooks**ï¼šåœ¨æœ¬åœ°æäº¤å‰æ•è·é—®é¢˜
> 3. **å»ºç«‹ CI/CD æ£€æŸ¥**ï¼šç¡®ä¿å›¢é˜Ÿå±‚é¢çš„è§„èŒƒæ‰§è¡Œ
> 4. **å®Œå–„ä»£ç å®¡æŸ¥æµç¨‹**ï¼šç»“åˆè‡ªåŠ¨åŒ–å’Œäººå·¥å®¡æŸ¥
> 5. **åº¦é‡ä¸ä¼˜åŒ–**ï¼šåŸºäºæ•°æ®æŒç»­æ”¹è¿›è§„èŒƒæ‰§è¡Œ

> **âš ï¸ å¸¸è§è¯¯åŒº**
> 
> - **è¿‡åº¦è‡ªåŠ¨åŒ–**ï¼šè¯•å›¾è‡ªåŠ¨åŒ–æ£€æŸ¥æ‰€æœ‰è§„åˆ™ï¼Œå¿½è§†äººå·¥åˆ¤æ–­ä»·å€¼
> - **æ£€æŸ¥è€Œä¸ä¿®å¤**ï¼šåªæŠ¥å‘Šé—®é¢˜ä½†ä¸æä¾›ä¿®å¤æ–¹æ¡ˆ
> - **å¿½è§†è§„èŒƒä¾‹å¤–**ï¼šæ²¡æœ‰æä¾›åˆç†çš„è§„åˆ™ç¦ç”¨æœºåˆ¶
> - **æ‰§è¡Œè¿‡äºä¸¥æ ¼**ï¼šåˆæœŸå°±è®¾ç½®è¿‡é«˜æ ‡å‡†å¯¼è‡´å›¢é˜ŸæŠµè§¦
> - **ç¼ºä¹æŒç»­å…³æ³¨**ï¼šè§„èŒƒå·¥å…·é…ç½®ä¸€æ¬¡åé•¿æœŸä¸æ›´æ–°

## å‚è€ƒèµ„æ–™

- [Husky - Git hooks made easy](https://typicode.github.io/husky/) - Git hooks å·¥å…·å®˜æ–¹æ–‡æ¡£
- [lint-staged - Run linters on git staged files](https://github.com/okonet/lint-staged) - é’ˆå¯¹æš‚å­˜æ–‡ä»¶çš„æ£€æŸ¥å·¥å…·
- [GitHub Actions Documentation](https://docs.github.com/en/actions) - GitHub CI/CD é›†æˆæŒ‡å—
- [GitLab CI/CD Documentation](https://docs.gitlab.com/ee/ci/) - GitLab CI/CD é›†æˆæŒ‡å—
- [SonarQube Documentation](https://docs.sonarqube.org/) - ä»£ç è´¨é‡ç®¡ç†å¹³å°

---

**ä¸‹ä¸€ç« ** â†’ [ç¬¬ 4 ç« ï¼šè§„èŒƒå·¥å…·å‘å±•å²](./04-tools-history.md)
