# ç¬¬ 5 ç« ï¼šå·¥å…·å¯¹æ¯”ä¸é€‰æ‹©

## æ¦‚è¿°

å‰ç«¯ä»£ç è§„èŒƒé¢†åŸŸæœ‰å¤šç§å·¥å…·ï¼Œæ¯ç§éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ã€‚æœ¬ç« å°†å¯¹ä¸»è¦è§„èŒƒå·¥å…·è¿›è¡Œå…¨é¢å¯¹æ¯”ï¼Œå¸®åŠ©å¼€å‘è€…åŸºäºé¡¹ç›®éœ€æ±‚åšå‡ºæ˜æ™ºçš„é€‰æ‹©ã€‚æ— è®ºæ˜¯é€‰æ‹©å•ä¸€å·¥å…·è¿˜æ˜¯ç»„åˆä½¿ç”¨å¤šä¸ªå·¥å…·ï¼Œç†è§£å®ƒä»¬çš„å·®å¼‚å’ŒååŒæ–¹å¼éƒ½è‡³å…³é‡è¦ã€‚

## ä¸€ã€ä¸»è¦å·¥å…·æ¦‚è§ˆ

### 1.1 å·¥å…·ç”Ÿæ€å…¨æ™¯

å½“å‰å‰ç«¯è§„èŒƒå·¥å…·ç”Ÿæ€ä¸»è¦ç”±ä¸‰å¤§ç±»å·¥å…·æ„æˆï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä»£ç è§„èŒƒå·¥å…·                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ JavaScript/TypeScript â”‚    æ ¼å¼åŒ–å·¥å…·    â”‚   CSS è§„èŒƒå·¥å…·  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   ESLint    â”‚   â”‚  â”‚ Prettier â”‚   â”‚  â”‚Stylelintâ”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  JSHint     â”‚   â”‚  â”‚ EditorConfigâ”‚  â”‚ PostCSS â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸»æµå·¥å…·ç»„åˆï¼š**
- **åŸºç¡€ç»„åˆ**ï¼šESLint + Prettier
- **å®Œæ•´ç»„åˆ**ï¼šESLint + Prettier + Stylelint
- **ç‰¹æ®Šåœºæ™¯**ï¼šESLint + Prettier + Stylelint + EditorConfig

### 1.2 å·¥å…·å®šä½æ¯”è¾ƒ

å„å·¥å…·åœ¨è§„èŒƒæ‰§è¡Œä¸­æ‰¿æ‹…ä¸åŒçš„è§’è‰²ï¼š

| å·¥å…· | ä¸»è¦èŒè´£ | å…³æ³¨ç‚¹ | æ‰§è¡Œæ–¹å¼ |
|------|---------|-------|---------|
| ESLint | ä»£ç è´¨é‡ä¸é£æ ¼æ£€æŸ¥ | é€»è¾‘é—®é¢˜ã€æœ€ä½³å®è·µã€é£æ ¼è§„èŒƒ | è§„åˆ™é©±åŠ¨ï¼Œå¯é…ç½® |
| Prettier | ä»£ç æ ¼å¼åŒ– | ä»£ç æ ¼å¼ä¸€è‡´æ€§ | å›ºæ‰§å·±è§ï¼Œå°‘é‡é…ç½® |
| Stylelint | CSS ä»£ç è´¨é‡ä¸é£æ ¼ | CSS è§„èŒƒä¸æœ€ä½³å®è·µ | è§„åˆ™é©±åŠ¨ï¼Œç±»ä¼¼ ESLint |
| EditorConfig | åŸºç¡€ç¼–è¾‘å™¨è®¾ç½® | ç¼©è¿›ã€æ¢è¡Œç¬¦ã€å­—ç¬¦é›† | ç®€å•å®šä¹‰ï¼Œç¼–è¾‘å™¨åŸç”Ÿæ”¯æŒ |

**åŠŸèƒ½è¾¹ç•Œï¼š**
```
         ä»£ç è´¨é‡                          ä»£ç æ ¼å¼
           â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
ESLint  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Prettier                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Stylelint â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
EditorConfig                       â”œâ”€â”€â”€â”€â”¤
```

> **ğŸ’¡ æç¤º**  
> ç†è§£å·¥å…·çš„è¾¹ç•Œå’Œé‡å åŒºåŸŸæœ‰åŠ©äºé¿å…å†²çªï¼Œå¹¶å»ºç«‹é«˜æ•ˆçš„åä½œæ¨¡å¼ã€‚

## äºŒã€ESLint vs JSHint vs TSLint

### 2.1 åŠŸèƒ½å¯¹æ¯”

ä¼ ç»Ÿçš„ JavaScript ä»£ç æ£€æŸ¥å·¥å…·å„æœ‰ç‰¹ç‚¹ï¼š

| ç‰¹æ€§ | ESLint | JSHint | TSLint(å·²å¼ƒç”¨) |
|------|--------|--------|--------------|
| å¯é…ç½®æ€§ | æé«˜ | ä¸­ç­‰ | é«˜ |
| è‡ªå®šä¹‰è§„åˆ™ | âœ“ æ”¯æŒ | âœ— ä¸æ”¯æŒ | âœ“ æ”¯æŒ |
| è‡ªåŠ¨ä¿®å¤ | âœ“ å…¨é¢æ”¯æŒ | âœ— ä¸æ”¯æŒ | âœ“ éƒ¨åˆ†æ”¯æŒ |
| TypeScript | âœ“ é€šè¿‡æ’ä»¶ | âœ— ä¸æ”¯æŒ | âœ“ åŸç”Ÿæ”¯æŒ |
| æ’ä»¶ç”Ÿæ€ | æå…¶ä¸°å¯Œ | å‡ ä¹æ²¡æœ‰ | ä¸­ç­‰ |
| ç¤¾åŒºæ´»è·ƒåº¦ | éå¸¸æ´»è·ƒ | ä½ | åœæ­¢ç»´æŠ¤ |

**é…ç½®ç¤ºä¾‹å¯¹æ¯”ï¼š**

```javascript
// JSHint é…ç½® (.jshintrc)
{
  "esversion": 6,
  "node": true,
  "undef": true,
  "unused": true
}

// ESLint é…ç½® (.eslintrc.js)
module.exports = {
  "env": {
    "browser": true,
    "es6": true,
    "node": true
  },
  "extends": "eslint:recommended",
  "rules": {
    "no-unused-vars": "error",
    "semi": ["error", "always"]
  },
  "plugins": ["react"]
}

// TSLint é…ç½® (tslint.json) - å·²å¼ƒç”¨
{
  "rules": {
    "no-unused-variable": true,
    "semicolon": [true, "always"]
  }
}
```

### 2.2 æ€§èƒ½ä¸å¯æ‰©å±•æ€§

å·¥å…·çš„æ€§èƒ½å·®å¼‚åœ¨å¤§å‹é¡¹ç›®ä¸­å°¤ä¸ºæ˜æ˜¾ï¼š

**è§£ææ€§èƒ½å¯¹æ¯”ï¼š**
- **ESLint**: ä½¿ç”¨è‡ªå®šä¹‰è§£æå™¨ï¼Œå…è®¸æ’ä»¶æ‰©å±•ï¼Œä½†å¯èƒ½è¾ƒæ…¢
- **JSHint**: ç®€å•å¿«é€Ÿï¼Œä½†åŠŸèƒ½æœ‰é™
- **TSLint**: è§£ææ€§èƒ½è‰¯å¥½ï¼Œä½†å·²å¼ƒç”¨

**å¯æ‰©å±•æ€§å¯¹æ¯”ï¼š**
```
ESLint â”€â”€ è§„åˆ™ â”€â”€ æ’ä»¶ â”€â”€ é…ç½® â”€â”€ è§£æå™¨ â”€â”€ ç¯å¢ƒ
JSHint â”€â”€ è§„åˆ™ â”€â”€ (æœ‰é™çš„æ‰©å±•é€‰é¡¹)
TSLint â”€â”€ è§„åˆ™ â”€â”€ é…ç½®
```

> **ğŸ“Š æ•°æ®è¯´æ˜**  
> åœ¨ä¸€ä¸ªæ‹¥æœ‰ 1000 ä¸ªæ–‡ä»¶çš„ä¸­å‹é¡¹ç›®æµ‹è¯•ä¸­ï¼ŒESLint é…ç½®äº† 100+ è§„åˆ™çš„æ£€æŸ¥æ—¶é—´çº¦ä¸º JSHint çš„ 2-3 å€ï¼Œä½†æä¾›äº†æ›´å…¨é¢çš„æ£€æŸ¥å’Œè‡ªåŠ¨ä¿®å¤èƒ½åŠ›ã€‚

### 2.3 TypeScript æ”¯æŒ

TypeScript é¡¹ç›®çš„å·¥å…·é€‰æ‹©ï¼š

**ESLint ä¸ TypeScriptï¼š**
```javascript
// @typescript-eslint é…ç½®
module.exports = {
  parser: "@typescript-eslint/parser",
  plugins: ["@typescript-eslint"],
  extends: [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended"
  ],
  rules: {
    "@typescript-eslint/explicit-function-return-type": "warn"
  }
};
```

**TSLint åˆ° ESLint çš„è¿ç§»ï¼š**
```bash
# å®‰è£…å¿…è¦ä¾èµ–
npm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin

# è¿ç§»å·¥å…·
npx tslint-to-eslint-config
```

**è¿ç§»æ¡ˆä¾‹ç ”ç©¶ï¼š**
Angular å›¢é˜Ÿäº 2019 å¹´ä» TSLint è¿ç§»åˆ° ESLintï¼Œè¿™ä¸€è¶‹åŠ¿åŠ é€Ÿäº† TSLint çš„å¼ƒç”¨ï¼Œå¹¶ä½¿ ESLint æˆä¸º TypeScript é¡¹ç›®çš„æ ‡å‡†å·¥å…·ã€‚

## ä¸‰ã€Prettier vs å…¶ä»–æ ¼å¼åŒ–å·¥å…·

### 3.1 æ ¼å¼åŒ–å·¥å…·å¯¹æ¯”

Prettier ä¸å…¶ä»–æ ¼å¼åŒ–æ–¹æ¡ˆçš„æ¯”è¾ƒï¼š

| ç‰¹æ€§ | Prettier | ESLint æ ¼å¼è§„åˆ™ | EditorConfig | ç¼–è¾‘å™¨å†…ç½®æ ¼å¼åŒ– |
|------|----------|--------------|-------------|----------------|
| æ”¯æŒè¯­è¨€ | å¤šè¯­è¨€ | ä»… JS/TS | æ‰€æœ‰è¯­è¨€ | å–å†³äºç¼–è¾‘å™¨ |
| ä¸€è‡´æ€§ | æé«˜ | ä¸­ç­‰ | ä»…åŸºç¡€è®¾ç½® | ç¼–è¾‘å™¨é—´å·®å¼‚å¤§ |
| é…ç½®å¤æ‚åº¦ | æä½ | é«˜ | æä½ | ä¸­ç­‰ |
| æ ¼å¼åŒ–ç†å¿µ | å›ºæ‰§å·±è§ | å¯é…ç½® | åŸºç¡€è§„åˆ™ | å¯å˜ |
| é›†æˆéš¾åº¦ | å®¹æ˜“ | ä¸­ç­‰ | åŸç”Ÿæ”¯æŒ | åŸç”Ÿ |

**å„å·¥å…·é€‚ç”¨åœºæ™¯ï¼š**

```
Prettier â”€â”€â”€â”€ å¤šè¯­è¨€é¡¹ç›®ã€å›¢é˜Ÿåä½œã€ç»Ÿä¸€æ ¼å¼
ESLintæ ¼å¼ â”€â”€  JavaScript/TypeScript ä¸“æ³¨é¡¹ç›®ã€ä¸è´¨é‡è§„åˆ™ç´§å¯†ç»“åˆ
EditorConfig â”€ è·¨ç¼–è¾‘å™¨åŸºç¡€è®¾ç½®ã€ä¸å…¶ä»–å·¥å…·é…åˆ
```

### 3.2 Prettier çš„ç‹¬ç‰¹ä»·å€¼

Prettier è§£å†³çš„æ ¸å¿ƒé—®é¢˜ä¸å…¶åˆ›æ–°æ–¹å¼ï¼š

**é‡æ–°æ ¼å¼åŒ–è€Œéè°ƒæ•´ï¼š**
```javascript
// ä¸è®ºåŸå§‹ä»£ç å¦‚ä½•æ ¼å¼åŒ–:
function example(a,b){return a+b;}
// æˆ–
function example(
  a,
  b
) { return a + b; }

// Prettier å§‹ç»ˆè¾“å‡ºä¸€è‡´ç»“æœ:
function example(a, b) {
  return a + b;
}
```

**æ¶ˆé™¤é£æ ¼è®¨è®ºï¼š**

```javascript
// å›¢é˜Ÿä¸å†éœ€è¦è®¨è®º:
// 1. æ˜¯å¦ä½¿ç”¨åˆ†å·?
// 2. å•å¼•å·è¿˜æ˜¯åŒå¼•å·?
// 3. æœ«å°¾é€—å·?
// 4. ç¼©è¿›å‡ ä¸ªç©ºæ ¼?

// è€Œæ˜¯ç®€å•åœ°é…ç½®:
module.exports = {
  semi: true,
  singleQuote: true,
  trailingComma: 'all',
  tabWidth: 2,
};
```

> **ğŸŒŸ ä»·å€¼è§‚ç‚¹**  
> Prettier æœ€å¤§çš„ä»·å€¼ä¸æ˜¯æŠ€æœ¯æ€§çš„ï¼Œè€Œæ˜¯ç¤¾ä¼šæ€§çš„ï¼šå®ƒé€šè¿‡æ¶ˆé™¤ä»£ç æ ¼å¼åŒ–çš„äº‰è®ºï¼Œè®©å›¢é˜Ÿä¸“æ³¨äºæ›´é‡è¦çš„ä»£ç è´¨é‡é—®é¢˜ã€‚

### 3.3 ä½•æ—¶ä¸ä½¿ç”¨ Prettier

å¹¶éæ‰€æœ‰é¡¹ç›®éƒ½é€‚åˆä½¿ç”¨ Prettierï¼š

**ä¸é€‚åˆçš„åœºæ™¯ï¼š**
- **é«˜åº¦å®šåˆ¶çš„æ ¼å¼è¦æ±‚**ï¼šéœ€è¦éå¸¸ç‰¹æ®Šçš„æ ¼å¼æ§åˆ¶
- **ä¸å·²æœ‰é£æ ¼å†²çª**ï¼šå¤§å‹é—ç•™é¡¹ç›®çš„æ¸è¿›å¼è°ƒæ•´
- **ç‰¹å®šé¢†åŸŸä»£ç **ï¼šå¦‚æŸäº› DSL æˆ–ç‰¹æ®Šè¯­æ³•ç»“æ„

**ä¸å›¢é˜Ÿé£æ ¼åå¥½ä¸ç¬¦ï¼š**
```javascript
// å›¢é˜Ÿåå¥½:
function example(
  longArgument1,
  longArgument2
) {
  // å¤„ç†é€»è¾‘
}

// Prettier å¯èƒ½æ ¼å¼åŒ–ä¸º:
function example(longArgument1, longArgument2) {
  // å¤„ç†é€»è¾‘
}
```

**æ›¿ä»£æ–¹æ¡ˆï¼š**
- ä»…ä½¿ç”¨ ESLint æ ¼å¼è§„åˆ™
- ä½¿ç”¨ EditorConfig + ç¼–è¾‘å™¨æ ¼å¼åŒ–
- ä½¿ç”¨ç‰¹å®šé¢†åŸŸçš„æ ¼å¼åŒ–å·¥å…·

## å››ã€Stylelint vs å…¶ä»– CSS å·¥å…·

### 4.1 CSS å·¥å…·ç”Ÿæ€

CSS è§„èŒƒå·¥å…·çš„æ¯”è¾ƒï¼š

| å·¥å…· | ä¸»è¦åŠŸèƒ½ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|-----|---------|-----|------|
| Stylelint | CSS è§„èŒƒæ£€æŸ¥ | æ’ä»¶æ¶æ„ã€è§„åˆ™ä¸°å¯Œ | é…ç½®ç›¸å¯¹å¤æ‚ |
| PostCSS | CSS è½¬æ¢å¤„ç† | çµæ´»ã€æ’ä»¶ä¸°å¯Œ | ä¸»è¦æ˜¯è½¬æ¢è€Œéè§„èŒƒ |
| SCSS/Less Linters | é¢„å¤„ç†å™¨æ£€æŸ¥ | ç‰¹å®šè¯­æ³•æ”¯æŒ | ç”Ÿæ€è¾ƒå°ï¼Œç»´æŠ¤ä¸æ´»è·ƒ |
| CSS Modules | å±€éƒ¨ä½œç”¨åŸŸ | è§£å†³å…¨å±€æ±¡æŸ“ | éè§„èŒƒå·¥å…·ï¼Œä¸è§„èŒƒäº’è¡¥ |

**å…¸å‹çš„ CSS å·¥å…·é“¾ï¼š**

```
æºæ–‡ä»¶ â†’ Stylelint â†’ PostCSS â†’ å‹ç¼© â†’ äº§ç‰©
```

### 4.2 Stylelint çš„æ ¸å¿ƒä¼˜åŠ¿

Stylelint åœ¨ CSS è§„èŒƒé¢†åŸŸçš„ç‹¬ç‰¹ä»·å€¼ï¼š

**æ’ä»¶æ¶æ„ä¸è§„åˆ™ä½“ç³»ï¼š**
```javascript
// stylelint.config.js
module.exports = {
  extends: [
    'stylelint-config-standard',
    'stylelint-config-rational-order' // å±æ€§æ’åºæ’ä»¶
  ],
  plugins: [
    'stylelint-scss', // SCSS æ”¯æŒ
    'stylelint-order' // å±æ€§é¡ºåº
  ],
  rules: {
    'order/properties-order': [], // ä½¿ç”¨ rational-order çš„é¡ºåº
    'color-hex-case': 'lower',
    'at-rule-no-unknown': null, // ç¦ç”¨åŸºç¡€è§„åˆ™
    'scss/at-rule-no-unknown': true // å¯ç”¨ SCSS è§„åˆ™
  }
};
```

**å¤šç§é¢„å¤„ç†å™¨æ”¯æŒï¼š**
```scss
// SCSS è¯­æ³•æ£€æŸ¥ç¤ºä¾‹
@mixin button($color) {
  background-color: $color;
  border: 1px solid darken($color, 10%);
  
  &:hover {
    background-color: lighten($color, 10%);
  }
}

.button {
  @include button(blue);
}
```

**å¼ºå¤§çš„è‡ªå®šä¹‰è§„åˆ™ï¼š**
```javascript
// è‡ªå®šä¹‰ Stylelint è§„åˆ™
module.exports = {
  ruleName: 'company/custom-property-pattern',
  rule: function(primaryOption) {
    return function(root, result) {
      // å®ç°è§„åˆ™é€»è¾‘
    };
  }
};
```

### 4.3 ä½•æ—¶ä½¿ç”¨å…¶ä»– CSS å·¥å…·

ä¸åŒåœºæ™¯ä¸‹çš„ CSS å·¥å…·é€‰æ‹©ï¼š

**PostCSS æœ€é€‚åˆçš„åœºæ™¯ï¼š**
- éœ€è¦è‡ªåŠ¨å‰ç¼€ã€å˜é‡è½¬æ¢ç­‰å¤„ç†
- ä¸ç°ä»£æ„å»ºç³»ç»Ÿæ·±åº¦é›†æˆ
- éœ€è¦å¤æ‚çš„ CSS è½¬æ¢æµç¨‹

```javascript
// postcss.config.js
module.exports = {
  plugins: [
    require('autoprefixer'),
    require('postcss-preset-env')({
      stage: 3,
      features: {
        'nesting-rules': true
      }
    })
  ]
};
```

**SCSS/Less å†…ç½® Linter é€‚åˆï¼š**
- ç®€å•é¡¹ç›®ï¼Œä¸æƒ³å¼•å…¥é¢å¤–å·¥å…·
- ä»…å…³æ³¨é¢„å¤„ç†å™¨è¯­æ³•æ£€æŸ¥
- ä¸é¢„å¤„ç†å™¨å·¥ä½œæµç´§å¯†ç»“åˆ

```bash
# SCSS å†…ç½® lint
sass-lint myfile.scss

# Less å†…ç½® lint
lessc --lint myfile.less
```

## äº”ã€å·¥å…·é€‰æ‹©ç­–ç•¥

### 5.1 é¡¹ç›®éœ€æ±‚åˆ†æ

é€‰æ‹©å·¥å…·å‰åº”è€ƒè™‘çš„å…³é”®å› ç´ ï¼š

**æŠ€æœ¯æ ˆéœ€æ±‚ï¼š**
- **JavaScript/TypeScript**ï¼šESLint + Prettier
- **React**ï¼š+ eslint-plugin-react + eslint-plugin-react-hooks
- **Vue**ï¼š+ eslint-plugin-vue + vue-eslint-parser
- **CSS/SCSS**ï¼š+ Stylelint

**å›¢é˜Ÿå› ç´ ï¼š**
- å›¢é˜Ÿè§„æ¨¡ä¸ç»éªŒæ°´å¹³
- ç°æœ‰å·¥å…·é“¾å’Œä¹ æƒ¯
- è§„èŒƒæ„è¯†å’Œæ‰§è¡ŒåŠ›åº¦

**é¡¹ç›®ç‰¹ç‚¹ï¼š**
- é¡¹ç›®è§„æ¨¡å’Œå¤æ‚åº¦
- ç”Ÿå‘½å‘¨æœŸé•¿åº¦
- ç»´æŠ¤å›¢é˜Ÿç¨³å®šæ€§

> **ğŸ’¡ å†³ç­–æ¡†æ¶**  
> å·¥å…·é€‰æ‹©åº”åŸºäº"æœ€å°å¿…è¦å¤æ‚åº¦"åŸåˆ™ï¼šé€‰æ‹©èƒ½æ»¡è¶³éœ€æ±‚çš„æœ€ç®€å·¥å…·ç»„åˆï¼Œé¿å…è¿‡åº¦å·¥ç¨‹åŒ–ã€‚

### 5.2 ä¸åŒé¡¹ç›®ç±»å‹çš„æ¨èç»„åˆ

é’ˆå¯¹ä¸åŒç±»å‹é¡¹ç›®çš„å·¥å…·ç»„åˆæ¨èï¼š

**å°å‹ä¸ªäººé¡¹ç›®ï¼š**
```json
{
  "devDependencies": {
    "eslint": "^8.0.0",
    "eslint-config-standard": "^17.0.0",
    "prettier": "^2.7.1"
  },
  "scripts": {
    "lint": "eslint src/",
    "format": "prettier --write src/"
  }
}
```

**ä¸­å‹å›¢é˜Ÿé¡¹ç›®ï¼š**
```json
{
  "devDependencies": {
    "eslint": "^8.0.0",
    "eslint-plugin-react": "^7.30.0",
    "eslint-config-airbnb": "^19.0.4",
    "eslint-config-prettier": "^8.5.0",
    "prettier": "^2.7.1",
    "stylelint": "^14.9.1",
    "stylelint-config-standard": "^26.0.0"
  },
  "scripts": {
    "lint:js": "eslint --ext .js,.jsx src/",
    "lint:css": "stylelint \"src/**/*.css\"",
    "lint": "npm run lint:js && npm run lint:css",
    "format": "prettier --write \"src/**/*.{js,jsx,json,css}\""
  }
}
```

**å¤§å‹ä¼ä¸šçº§é¡¹ç›®ï¼š**
```json
{
  "devDependencies": {
    "eslint": "^8.0.0",
    "@typescript-eslint/eslint-plugin": "^5.30.0",
    "@typescript-eslint/parser": "^5.30.0",
    "eslint-plugin-react": "^7.30.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-import": "^2.26.0",
    "eslint-plugin-jsx-a11y": "^6.6.0",
    "eslint-config-prettier": "^8.5.0",
    "prettier": "^2.7.1",
    "stylelint": "^14.9.1",
    "stylelint-config-standard-scss": "^4.0.0",
    "husky": "^8.0.1",
    "lint-staged": "^13.0.3"
  },
  "scripts": {
    "lint:js": "eslint --ext .js,.jsx,.ts,.tsx src/",
    "lint:css": "stylelint \"src/**/*.{css,scss}\"",
    "lint": "npm run lint:js && npm run lint:css",
    "format": "prettier --write \"src/**/*.{js,jsx,ts,tsx,json,css,scss}\"",
    "prepare": "husky install"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": ["eslint --fix", "prettier --write"],
    "*.{css,scss}": ["stylelint --fix", "prettier --write"],
    "*.{json,md}": ["prettier --write"]
  }
}
```

### 5.3 æƒè¡¡è€ƒé‡

å·¥å…·é€‰æ‹©ä¸­çš„å¸¸è§æƒè¡¡ï¼š

**çµæ´»æ€§ vs ä¸€è‡´æ€§ï¼š**
```
é«˜çµæ´»æ€§                                      é«˜ä¸€è‡´æ€§
â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
ä»…ç¼–è¾‘å™¨è®¾ç½®     ESLintè‡ªå®šä¹‰é…ç½®      Airbnbè§„èŒƒ     Prettierå›ºå®šè¾“å‡º
```

**é…ç½®å¤æ‚åº¦ vs åŠŸèƒ½å®Œå¤‡æ€§ï¼š**
```
ç®€å•é…ç½®                                      å¤æ‚é…ç½®
â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
æ ‡å‡†é¢„è®¾      ESLintæ¨èè§„åˆ™     å®šåˆ¶è§„åˆ™é›†     å®Œå…¨è‡ªå®šä¹‰
```

**å·¥å…·æ•°é‡ vs ç»´æŠ¤æˆæœ¬ï¼š**
```
å·¥å…·å°‘                                         å·¥å…·å¤š
â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
ESLint     ESLint+Prettier    å®Œæ•´å·¥å…·é“¾     å„ç§ä¸“ç”¨å·¥å…·
```

> **ğŸ”„ åŠ¨æ€é€‚åº”**  
> å·¥å…·é€‰æ‹©ä¸æ˜¯ä¸€æ¬¡æ€§å†³ç­–ï¼Œè€Œåº”éšç€é¡¹ç›®å‘å±•å’Œå›¢é˜Ÿæˆé•¿è€Œè°ƒæ•´ã€‚åˆæœŸå¯ä»¥é‡‡ç”¨ç®€å•é…ç½®ï¼Œéšç€é¡¹ç›®å¤æ‚åº¦å¢åŠ å†é€æ­¥æ‰©å±•å·¥å…·é“¾ã€‚

## å…­ã€å·¥å…·ç»„åˆçš„æœ€ä½³å®è·µ

### 6.1 é¿å…å·¥å…·å†²çª

ç¡®ä¿å¤šå·¥å…·ååŒå·¥ä½œæ—¶é¿å…å†²çªï¼š

**ESLint ä¸ Prettier å†²çªè§£å†³ï¼š**
```javascript
// .eslintrc.js - é¿å…å†²çªçš„é…ç½®
module.exports = {
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'prettier' // å¿…é¡»æ”¾åœ¨æœ€åï¼Œç¦ç”¨å†²çªè§„åˆ™
  ],
  plugins: ['prettier'],
  rules: {
    'prettier/prettier': 'error', // å°†æ ¼å¼é—®é¢˜æŠ¥å‘Šä¸ºé”™è¯¯
    
    // å…³é—­ ESLint ä¸­ä¸ Prettier å†²çªçš„è§„åˆ™
    'arrow-body-style': 'off',
    'prefer-arrow-callback': 'off'
  }
};
```

**ESLint ä¸ Stylelint é¢†åŸŸåˆ†ç¦»ï¼š**
```javascript
// ç¡®ä¿å·¥å…·æ£€æŸ¥çš„æ–‡ä»¶ç±»å‹ä¸é‡å 
"scripts": {
  "lint:js": "eslint --ext .js,.jsx,.ts,.tsx src/",
  "lint:css": "stylelint \"src/**/*.{css,scss}\""
}
```

**EditorConfig åŸºç¡€è®¾ç½®ï¼š**
```
# .editorconfig - åªè®¾ç½®åŸºç¡€å‚æ•°
root = true

[*]
indent_style = space
indent_size = 2
end_of_line = lf
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true
```

### 6.2 ä¼˜åŒ–å·¥å…·æ‰§è¡Œæ•ˆç‡

æé«˜å·¥å…·æ‰§è¡Œæ•ˆç‡çš„ç­–ç•¥ï¼š

**å¢é‡æ£€æŸ¥ï¼š**
```json
"scripts": {
  "lint:changed": "eslint $(git diff --name-only --diff-filter=d | grep -E '\\.js$')"
}
```

**å¹¶è¡Œæ‰§è¡Œï¼š**
```json
"scripts": {
  "lint": "npm-run-all --parallel lint:*",
  "lint:js": "eslint src/",
  "lint:css": "stylelint src/",
  "lint:format": "prettier --check src/"
}
```

**ç¼“å­˜æœºåˆ¶ï¼š**
```bash
# ESLint ç¼“å­˜
eslint --cache src/

# Stylelint ç¼“å­˜
stylelint --cache src/
```

**æ€§èƒ½ä¼˜åŒ–ï¼š**
```javascript
// .eslintrc.js - æ€§èƒ½ä¼˜åŒ–
module.exports = {
  rules: {
    // ç¦ç”¨æ€§èƒ½å¼€é”€å¤§çš„è§„åˆ™
    'import/no-cycle': 'off',
    
    // æˆ–é™çº§ä¸ºè­¦å‘Š
    'import/no-deprecated': 'warn'
  }
};
```

### 6.3 ç»´æŠ¤å·¥å…·é…ç½®

é•¿æœŸç»´æŠ¤å·¥å…·é…ç½®çš„æœ€ä½³å®è·µï¼š

**é›†ä¸­é…ç½®ç®¡ç†ï¼š**
```
project/
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ eslint/
â”‚   â”‚   â”œâ”€â”€ base.js
â”‚   â”‚   â”œâ”€â”€ react.js
â”‚   â”‚   â””â”€â”€ typescript.js
â”‚   â”œâ”€â”€ prettier/
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â””â”€â”€ stylelint/
â”‚       â””â”€â”€ index.js
â””â”€â”€ package.json
```

**é…ç½®æ¨¡å—åŒ–ï¼š**
```javascript
// configs/eslint/base.js
module.exports = {
  env: {
    browser: true,
    es2021: true
  },
  rules: {
    // åŸºç¡€è§„åˆ™
  }
};

// configs/eslint/react.js
module.exports = {
  extends: [
    './base',
    'plugin:react/recommended'
  ],
  rules: {
    // React ç‰¹å®šè§„åˆ™
  }
};
```

**é…ç½®ç‰ˆæœ¬æ§åˆ¶ï¼š**
```bash
# åˆ›å»ºå¯å…±äº«é…ç½®åŒ…
npm init -y
npm install --save-dev eslint prettier

# å‘å¸ƒåˆ°ç§æœ‰ registry
npm publish --access private
```

## å­¦ä¹ å»ºè®®

> **ğŸ“š è¿›é˜¶è·¯å¾„**
> 
> 1. **ä»åŸºç¡€å¼€å§‹**ï¼šå…ˆç†Ÿæ‚‰ ESLint + Prettier çš„åŸºæœ¬é…ç½®
> 2. **äº†è§£å·¥å…·åŸç†**ï¼šæ·±å…¥å­¦ä¹ å·¥å…·çš„å·¥ä½œæœºåˆ¶
> 3. **æ¢ç´¢æ’ä»¶ç”Ÿæ€**ï¼šå°è¯•ä¸é¡¹ç›®ç›¸å…³çš„ä¸“ç”¨æ’ä»¶
> 4. **å®šåˆ¶å›¢é˜Ÿè§„åˆ™**ï¼šæ ¹æ®å›¢é˜Ÿéœ€æ±‚å®šåˆ¶è§„åˆ™é›†
> 5. **å…³æ³¨å·¥å…·å‘å±•**ï¼šå®šæœŸæ›´æ–°å·¥å…·ï¼Œåˆ©ç”¨æ–°ç‰¹æ€§

> **âš ï¸ å¸¸è§è¯¯åŒº**
> 
> - **ç›²ç›®è¿½éšæµè¡Œé…ç½®**ï¼šåº”åŸºäºè‡ªèº«éœ€æ±‚é€‰æ‹©å’Œè°ƒæ•´
> - **è¿‡åº¦é…ç½®**ï¼šé¿å…å¼•å…¥è¿‡å¤šä¸å¿…è¦çš„è§„åˆ™
> - **å·¥å…·æ›¿ä»£æ€è€ƒ**ï¼šè§„èŒƒå·¥å…·åº”è¾…åŠ©è€Œéæ›¿ä»£ä»£ç è´¨é‡çš„æ€è€ƒ
> - **å¿½è§†æ–‡æ¡£**ï¼šå·¥å…·é…ç½®åº”æœ‰æ¸…æ™°çš„æ³¨é‡Šå’Œè¯´æ˜
> - **ç¼ºä¹æŒç»­æ›´æ–°**ï¼šå·¥å…·å’Œé…ç½®åº”å®šæœŸè¯„å®¡å’Œæ›´æ–°

## å‚è€ƒèµ„æ–™

- [ESLint vs JSHint vs TSLint](https://eslint.org/docs/user-guide/migrating-from-jscs) - å®˜æ–¹è¿ç§»æŒ‡å—
- [Prettier vs. Linters](https://prettier.io/docs/en/comparison.html) - Prettier å®˜æ–¹æ¯”è¾ƒæ–‡æ¡£
- [Stylelint Documentation](https://stylelint.io/) - Stylelint å®Œæ•´æŒ‡å—
- [State of JS](https://stateofjs.com/) - JavaScript ç”Ÿæ€ç³»ç»Ÿå¹´åº¦è°ƒæŸ¥
- [GitHub: Awesome ESLint](https://github.com/dustinspecker/awesome-eslint) - ESLint èµ„æºé›†åˆ

---

**ä¸‹ä¸€ç« ** â†’ [ç¬¬ 6 ç« ï¼šå·¥å…·åä½œæ¨¡å¼](./06-tools-integration.md)
