<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¹è±¡å¸¸ç”¨æ–¹æ³• - JavaScript æ·±åº¦å­¦ä¹ </title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/page.css">
</head>
<body>
    <div class="page-layout">
        <div class="doc-panel">
            <h1>å¯¹è±¡å¸¸ç”¨æ–¹æ³•</h1>
            
            <h2>æ¦‚è¿°</h2>
            <p>JavaScript æä¾›äº†ä¸°å¯Œçš„ Object é™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æ¥æ“ä½œå¯¹è±¡ã€‚æŒæ¡è¿™äº›æ–¹æ³•å¯¹äºæ—¥å¸¸å¼€å‘è‡³å…³é‡è¦ã€‚</p>
            
            <h2>ä¸€ã€åˆ›å»ºå¯¹è±¡</h2>
            
            <h3>1.1 Object.create()</h3>
            <p>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨æŒ‡å®šçš„åŸå‹å¯¹è±¡ï¼š</p>
            
            <pre><code>const proto = {
    greet() {
        return 'Hello';
    }
};

const obj = Object.create(proto);
console.log(obj.greet());  // "Hello"

// åˆ›å»ºçº¯å‡€å¯¹è±¡ï¼ˆæ— åŸå‹ï¼‰
const pureObj = Object.create(null);
console.log(pureObj.toString);  // undefined</code></pre>
            
            <h3>1.2 Object.assign()</h3>
            <p>å¤åˆ¶å¯¹è±¡å±æ€§ï¼ˆæµ…æ‹·è´ï¼‰ï¼š</p>
            
            <pre><code>const target = { a: 1 };
const source1 = { b: 2 };
const source2 = { c: 3 };

Object.assign(target, source1, source2);
console.log(target);  // { a: 1, b: 2, c: 3 }</code></pre>
            
            <h2>äºŒã€å±æ€§ç›¸å…³æ–¹æ³•</h2>
            
            <h3>2.1 Object.keys()</h3>
            <p>è¿”å›å¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§åæ•°ç»„ï¼š</p>
            
            <pre><code>const obj = { a: 1, b: 2, c: 3 };
console.log(Object.keys(obj));  // ['a', 'b', 'c']</code></pre>
            
            <h3>2.2 Object.values()</h3>
            <p>è¿”å›å¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§å€¼æ•°ç»„ï¼š</p>
            
            <pre><code>const obj = { a: 1, b: 2, c: 3 };
console.log(Object.values(obj));  // [1, 2, 3]</code></pre>
            
            <h3>2.3 Object.entries()</h3>
            <p>è¿”å›å¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§é”®å€¼å¯¹æ•°ç»„ï¼š</p>
            
            <pre><code>const obj = { a: 1, b: 2, c: 3 };
console.log(Object.entries(obj));
// [['a', 1], ['b', 2], ['c', 3]]

// å¸¸ç”¨äºéå†
for (const [key, value] of Object.entries(obj)) {
    console.log(`${key}: ${value}`);
}</code></pre>
            
            <h3>2.4 Object.fromEntries()</h3>
            <p>entries() çš„é€†æ“ä½œï¼Œå°†é”®å€¼å¯¹æ•°ç»„è½¬æ¢ä¸ºå¯¹è±¡ï¼š</p>
            
            <pre><code>const entries = [['a', 1], ['b', 2]];
const obj = Object.fromEntries(entries);
console.log(obj);  // { a: 1, b: 2 }</code></pre>
            
            <h3>2.5 Object.getOwnPropertyNames()</h3>
            <p>è¿”å›å¯¹è±¡æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾ï¼‰ï¼š</p>
            
            <pre><code>const obj = {};
Object.defineProperty(obj, 'hidden', {
    value: 'secret',
    enumerable: false
});

console.log(Object.keys(obj));  // []
console.log(Object.getOwnPropertyNames(obj));  // ['hidden']</code></pre>
            
            <h3>2.6 Object.getOwnPropertySymbols()</h3>
            <p>è¿”å›å¯¹è±¡çš„æ‰€æœ‰ Symbol å±æ€§ï¼š</p>
            
            <pre><code>const sym = Symbol('key');
const obj = { [sym]: 'value' };

console.log(Object.getOwnPropertySymbols(obj));  // [Symbol(key)]</code></pre>
            
            <h2>ä¸‰ã€å±æ€§æè¿°ç¬¦</h2>
            
            <h3>3.1 Object.getOwnPropertyDescriptor()</h3>
            <p>è·å–å±æ€§çš„æè¿°ç¬¦ï¼š</p>
            
            <pre><code>const obj = { name: 'Alice' };
const descriptor = Object.getOwnPropertyDescriptor(obj, 'name');

console.log(descriptor);
// {
//   value: 'Alice',
//   writable: true,
//   enumerable: true,
//   configurable: true
// }</code></pre>
            
            <h3>3.2 Object.defineProperty()</h3>
            <p>å®šä¹‰æˆ–ä¿®æ”¹å±æ€§åŠå…¶æè¿°ç¬¦ï¼š</p>
            
            <pre><code>const obj = {};

Object.defineProperty(obj, 'name', {
    value: 'Alice',
    writable: false,      // ä¸å¯å†™
    enumerable: true,     // å¯æšä¸¾
    configurable: false   // ä¸å¯é…ç½®
});

obj.name = 'Bob';  // ä¸¥æ ¼æ¨¡å¼ä¸‹æŠ›å‡ºé”™è¯¯
console.log(obj.name);  // 'Alice'</code></pre>
            
            <h3>3.3 Object.defineProperties()</h3>
            <p>åŒæ—¶å®šä¹‰å¤šä¸ªå±æ€§ï¼š</p>
            
            <pre><code>const obj = {};

Object.defineProperties(obj, {
    name: {
        value: 'Alice',
        writable: true
    },
    age: {
        value: 25,
        writable: true
    }
});</code></pre>
            
            <h2>å››ã€å¯¹è±¡çŠ¶æ€æ§åˆ¶</h2>
            
            <h3>4.1 Object.preventExtensions()</h3>
            <p>é˜»æ­¢å¯¹è±¡æ‰©å±•ï¼ˆä¸èƒ½æ·»åŠ æ–°å±æ€§ï¼‰ï¼š</p>
            
            <pre><code>const obj = { name: 'Alice' };
Object.preventExtensions(obj);

obj.age = 25;  // æ— æ•ˆ
console.log(obj.age);  // undefined

// å¯ä»¥åˆ é™¤å’Œä¿®æ”¹ç°æœ‰å±æ€§
delete obj.name;  // OK
obj.name = 'Bob';  // OK</code></pre>
            
            <h3>4.2 Object.seal()</h3>
            <p>å¯†å°å¯¹è±¡ï¼ˆä¸èƒ½æ·»åŠ /åˆ é™¤å±æ€§ï¼Œä½†å¯ä»¥ä¿®æ”¹ï¼‰ï¼š</p>
            
            <pre><code>const obj = { name: 'Alice' };
Object.seal(obj);

obj.age = 25;  // æ— æ•ˆ
delete obj.name;  // æ— æ•ˆ
obj.name = 'Bob';  // OK

console.log(Object.isSealed(obj));  // true</code></pre>
            
            <h3>4.3 Object.freeze()</h3>
            <p>å†»ç»“å¯¹è±¡ï¼ˆå®Œå…¨ä¸å¯å˜ï¼‰ï¼š</p>
            
            <pre><code>const obj = { name: 'Alice' };
Object.freeze(obj);

obj.age = 25;  // æ— æ•ˆ
delete obj.name;  // æ— æ•ˆ
obj.name = 'Bob';  // æ— æ•ˆ

console.log(Object.isFrozen(obj));  // true</code></pre>
            
            <h3>4.4 çŠ¶æ€æ£€æµ‹æ–¹æ³•</h3>
            <table>
                <thead>
                    <tr>
                        <th>æ–¹æ³•</th>
                        <th>è¯´æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>Object.isExtensible()</code></td>
                        <td>æ˜¯å¦å¯æ‰©å±•</td>
                    </tr>
                    <tr>
                        <td><code>Object.isSealed()</code></td>
                        <td>æ˜¯å¦å¯†å°</td>
                    </tr>
                    <tr>
                        <td><code>Object.isFrozen()</code></td>
                        <td>æ˜¯å¦å†»ç»“</td>
                    </tr>
                </tbody>
            </table>
            
            <h2>äº”ã€åŸå‹ç›¸å…³</h2>
            
            <h3>5.1 Object.getPrototypeOf()</h3>
            <p>è·å–å¯¹è±¡çš„åŸå‹ï¼š</p>
            
            <pre><code>const obj = {};
const proto = Object.getPrototypeOf(obj);
console.log(proto === Object.prototype);  // true</code></pre>
            
            <h3>5.2 Object.setPrototypeOf()</h3>
            <p>è®¾ç½®å¯¹è±¡çš„åŸå‹ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰ï¼š</p>
            
            <pre><code>const obj = {};
const proto = { greet() { return 'Hello'; } };

Object.setPrototypeOf(obj, proto);
console.log(obj.greet());  // "Hello"</code></pre>
            
            <div class="warning">
                <code>Object.setPrototypeOf()</code> æ€§èƒ½å¾ˆå·®ï¼Œåº”è¯¥ä½¿ç”¨ <code>Object.create()</code> åˆ›å»ºå¯¹è±¡ã€‚
            </div>
            
            <h2>å…­ã€å¯¹è±¡æ¯”è¾ƒå’Œæ£€æµ‹</h2>
            
            <h3>6.1 Object.is()</h3>
            <p>æ›´ä¸¥æ ¼çš„ç›¸ç­‰æ¯”è¾ƒï¼š</p>
            
            <pre><code>Object.is(NaN, NaN);  // true
NaN === NaN;          // false

Object.is(+0, -0);    // false
+0 === -0;            // true

Object.is(5, 5);      // true
5 === 5;              // true</code></pre>
            
            <h3>6.2 obj.hasOwnProperty()</h3>
            <p>æ£€æŸ¥å¯¹è±¡è‡ªèº«æ˜¯å¦æœ‰æŸä¸ªå±æ€§ï¼š</p>
            
            <pre><code>const obj = { name: 'Alice' };

console.log(obj.hasOwnProperty('name'));  // true
console.log(obj.hasOwnProperty('toString'));  // false</code></pre>
            
            <h3>6.3 Object.hasOwn()</h3>
            <p>æ›´å®‰å…¨çš„ hasOwnPropertyï¼ˆES2022ï¼‰ï¼š</p>
            
            <pre><code>const obj = { name: 'Alice' };

// æ¨èä½¿ç”¨ï¼ˆå¦‚æœæ”¯æŒï¼‰
console.log(Object.hasOwn(obj, 'name'));  // true

// æ—§æ–¹æ³•å¯èƒ½è¢«è¦†ç›–
obj.hasOwnProperty = null;
// obj.hasOwnProperty('name');  // TypeError</code></pre>
            
            <h2>ä¸ƒã€å®ç”¨æŠ€å·§</h2>
            
            <h3>7.1 å¯¹è±¡åˆå¹¶</h3>
            <pre><code>// æµ…åˆå¹¶
const obj1 = { a: 1, b: 2 };
const obj2 = { b: 3, c: 4 };
const merged = { ...obj1, ...obj2 };
// { a: 1, b: 3, c: 4 }

// æˆ–ä½¿ç”¨ Object.assign
const merged2 = Object.assign({}, obj1, obj2);</code></pre>
            
            <h3>7.2 å¯¹è±¡å…‹éš†</h3>
            <pre><code>// æµ…å…‹éš†
const original = { a: 1, b: { c: 2 } };
const clone = { ...original };
const clone2 = Object.assign({}, original);

// æ·±å…‹éš†ï¼ˆç®€å•æ–¹å¼ï¼‰
const deepClone = JSON.parse(JSON.stringify(original));

// æ·±å…‹éš†ï¼ˆç»“æ„åŒ–å…‹éš†ï¼Œç°ä»£æµè§ˆå™¨ï¼‰
const deepClone2 = structuredClone(original);</code></pre>
            
            <h3>7.3 å¯¹è±¡è¿‡æ»¤</h3>
            <pre><code>const obj = { a: 1, b: 2, c: 3, d: 4 };

// è¿‡æ»¤å‡ºå¶æ•°å€¼
const filtered = Object.fromEntries(
    Object.entries(obj).filter(([key, value]) => value % 2 === 0)
);
// { b: 2, d: 4 }</code></pre>
            
            <h3>7.4 å¯¹è±¡æ˜ å°„</h3>
            <pre><code>const obj = { a: 1, b: 2, c: 3 };

// å€¼ç¿»å€
const doubled = Object.fromEntries(
    Object.entries(obj).map(([key, value]) => [key, value * 2])
);
// { a: 2, b: 4, c: 6 }</code></pre>
            
            <h2>å…«ã€æœ€ä½³å®è·µ</h2>
            
            <div class="tip">
                <ol>
                    <li><strong>ä½¿ç”¨ Object.keys/values/entries</strong>ï¼šéå†å¯¹è±¡</li>
                    <li><strong>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦</strong>ï¼šå¯¹è±¡åˆå¹¶å’Œå…‹éš†</li>
                    <li><strong>é¿å… setPrototypeOf</strong>ï¼šä½¿ç”¨ Object.create</li>
                    <li><strong>ä½¿ç”¨ Object.hasOwn</strong>ï¼šä»£æ›¿ hasOwnProperty</li>
                    <li><strong>freeze ä¸å¯å˜æ•°æ®</strong>ï¼šé˜²æ­¢æ„å¤–ä¿®æ”¹</li>
                    <li><strong>defineProperty å°è£…</strong>ï¼šåˆ›å»ºåªè¯»å±æ€§</li>
                </ol>
            </div>
            
            <h2>å‚è€ƒèµ„æ–™</h2>
            <ul>
                <li><a href="https://tc39.es/ecma262/#sec-object-objects" target="_blank">ECMAScript - Object Objects</a></li>
                <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">MDN - Object</a></li>
            </ul>
            
            <div class="nav-links">
                <a href="05-class.html" class="nav-link prev">ä¸Šä¸€èŠ‚ï¼šClass è¯­æ³•</a>
                <a href="../index.html" class="nav-link home">è¿”å›é¦–é¡µ</a>
                <a href="06-array-methods.html" class="nav-link next">ä¸‹ä¸€èŠ‚ï¼šæ•°ç»„æ–¹æ³•</a>
            </div>
        </div>
        
        <div class="code-panel">
            <h2 style="color: #60a5fa; margin-bottom: 1.5rem;">ğŸ’» äº¤äº’å¼ä»£ç ç¤ºä¾‹</h2>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 1ï¼šObject.keys/values/entries</h3>
                <div class="code-block">
                    <pre><code>const user = {
    name: 'Alice',
    age: 25,
    city: 'Beijing'
};

// Object.keys
console.log('keys:', Object.keys(user));

// Object.values
console.log('values:', Object.values(user));

// Object.entries
console.log('entries:', Object.entries(user));

// éå†
console.log('\néå†å¯¹è±¡:');
for (const [key, value] of Object.entries(user)) {
    console.log(`${key}: ${value}`);
}

// fromEntries
const entries = [['a', 1], ['b', 2], ['c', 3]];
const obj = Object.fromEntries(entries);
console.log('\nfromEntries:', obj);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 2ï¼šObject.assign å’Œå¯¹è±¡åˆå¹¶</h3>
                <div class="code-block">
                    <pre><code>// Object.assign
const target = { a: 1, b: 2 };
const source1 = { b: 3, c: 4 };
const source2 = { c: 5, d: 6 };

Object.assign(target, source1, source2);
console.log('assign å target:', target);

// æ‰©å±•è¿ç®—ç¬¦ï¼ˆä¸ä¿®æ”¹åŸå¯¹è±¡ï¼‰
const obj1 = { a: 1, b: 2 };
const obj2 = { b: 3, c: 4 };
const merged = { ...obj1, ...obj2 };
console.log('\næ‰©å±•è¿ç®—ç¬¦:', merged);
console.log('obj1 æœªå˜:', obj1);

// é»˜è®¤å€¼åˆå¹¶
const defaults = { host: 'localhost', port: 8080 };
const config = { port: 3000 };
const final = { ...defaults, ...config };
console.log('\né…ç½®åˆå¹¶:', final);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 3ï¼šObject.freeze/seal</h3>
                <div class="code-block">
                    <pre><code>// freeze - å®Œå…¨å†»ç»“
const frozen = { name: 'Alice', age: 25 };
Object.freeze(frozen);

frozen.name = 'Bob';  // æ— æ•ˆ
frozen.city = 'Beijing';  // æ— æ•ˆ
delete frozen.age;  // æ— æ•ˆ

console.log('frozen:', frozen);
console.log('isFrozen:', Object.isFrozen(frozen));

// seal - å¯†å°ï¼ˆå¯ä¿®æ”¹ï¼Œä¸å¯æ·»åŠ /åˆ é™¤ï¼‰
const sealed = { name: 'Charlie', age: 30 };
Object.seal(sealed);

sealed.name = 'David';  // OK
sealed.city = 'Shanghai';  // æ— æ•ˆ
delete sealed.age;  // æ— æ•ˆ

console.log('\nsealed:', sealed);
console.log('isSealed:', Object.isSealed(sealed));

// preventExtensions - ä¸å¯æ‰©å±•
const obj = { name: 'Eve' };
Object.preventExtensions(obj);

obj.name = 'Frank';  // OK
obj.age = 28;  // æ— æ•ˆ
delete obj.name;  // OK

console.log('\npreventExtensions:', obj);
console.log('isExtensible:', Object.isExtensible(obj));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 4ï¼šObject.create</h3>
                <div class="code-block">
                    <pre><code>// ä½¿ç”¨åŸå‹åˆ›å»ºå¯¹è±¡
const animalMethods = {
    eat() {
        console.log(`${this.name} is eating`);
    },
    sleep() {
        console.log(`${this.name} is sleeping`);
    }
};

const dog = Object.create(animalMethods);
dog.name = 'Buddy';
dog.breed = 'Golden Retriever';

console.log('dog.name:', dog.name);
dog.eat();
dog.sleep();

// æ£€æŸ¥åŸå‹
console.log('\ngetPrototypeOf:', 
    Object.getPrototypeOf(dog) === animalMethods);

// åˆ›å»ºçº¯å‡€å¯¹è±¡
const pureObj = Object.create(null);
pureObj.name = 'Pure';
console.log('\npureObj.toString:', pureObj.toString);  // undefined
console.log('pureObj.name:', pureObj.name);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 5ï¼šå±æ€§æè¿°ç¬¦</h3>
                <div class="code-block">
                    <pre><code>const obj = {};

// å®šä¹‰åªè¯»å±æ€§
Object.defineProperty(obj, 'PI', {
    value: 3.14159,
    writable: false,
    enumerable: true,
    configurable: false
});

console.log('obj.PI:', obj.PI);
obj.PI = 3.14;  // æ— æ•ˆ
console.log('å°è¯•ä¿®æ”¹å:', obj.PI);

// å®šä¹‰ getter/setter
Object.defineProperty(obj, 'doubled', {
    get() {
        return this.value * 2;
    },
    set(val) {
        this.value = val / 2;
    },
    enumerable: true
});

obj.value = 5;
console.log('\nobj.doubled:', obj.doubled);
obj.doubled = 20;
console.log('è®¾ç½® doubled=20 å value:', obj.value);

// æŸ¥çœ‹å±æ€§æè¿°ç¬¦
const descriptor = Object.getOwnPropertyDescriptor(obj, 'PI');
console.log('\nPI æè¿°ç¬¦:', descriptor);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 6ï¼šå®ç”¨æŠ€å·§</h3>
                <div class="code-block">
                    <pre><code>// æŠ€å·§1ï¼šå¯¹è±¡è¿‡æ»¤
const data = { a: 1, b: 2, c: 3, d: 4, e: 5 };

const evens = Object.fromEntries(
    Object.entries(data).filter(([k, v]) => v % 2 === 0)
);
console.log('è¿‡æ»¤å¶æ•°:', evens);

// æŠ€å·§2ï¼šå¯¹è±¡æ˜ å°„
const doubled = Object.fromEntries(
    Object.entries(data).map(([k, v]) => [k, v * 2])
);
console.log('å€¼ç¿»å€:', doubled);

// æŠ€å·§3ï¼šæå–æŒ‡å®šå±æ€§
const user = { id: 1, name: 'Alice', age: 25, email: 'alice@example.com' };
const pick = (obj, keys) => 
    Object.fromEntries(
        keys.filter(k => k in obj).map(k => [k, obj[k]])
    );

console.log('\npick:', pick(user, ['name', 'age']));

// æŠ€å·§4ï¼šæ’é™¤æŒ‡å®šå±æ€§
const omit = (obj, keys) => 
    Object.fromEntries(
        Object.entries(obj).filter(([k]) => !keys.includes(k))
    );

console.log('omit:', omit(user, ['email', 'age']));

// æŠ€å·§5ï¼šå¯¹è±¡è½¬ Map
const map = new Map(Object.entries(user));
console.log('\nè½¬ä¸º Map:', map.get('name'));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/common.js"></script>
</body>
</html>
