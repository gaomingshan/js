<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­£åˆ™è¡¨è¾¾å¼å®Œå…¨æŒ‡å— - JavaScript æ·±åº¦å­¦ä¹ </title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/page.css">
</head>
<body>
    <div class="page-layout">
        <div class="doc-panel">
            <h1>æ­£åˆ™è¡¨è¾¾å¼å®Œå…¨æŒ‡å—</h1>
            
            <h2>æ¦‚è¿°</h2>
            <p>æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æ¨¡å¼åŒ¹é…å·¥å…·ã€‚JavaScript ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åŸºäº Perl 5 æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
            
            <h2>ä¸€ã€åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼</h2>
            
            <h3>1.1 å­—é¢é‡è¯­æ³•</h3>
            <pre><code>const regex1 = /pattern/flags;</code></pre>
            
            <h3>1.2 æ„é€ å‡½æ•°</h3>
            <pre><code>const regex2 = new RegExp('pattern', 'flags');</code></pre>
            
            <h3>1.3 åŒºåˆ«</h3>
            <div class="info">
                <ul>
                    <li>å­—é¢é‡ï¼šç¼–è¯‘æ—¶åˆ›å»ºï¼Œæ€§èƒ½æ›´å¥½</li>
                    <li>æ„é€ å‡½æ•°ï¼šè¿è¡Œæ—¶åˆ›å»ºï¼Œå¯ä»¥åŠ¨æ€ç”Ÿæˆæ¨¡å¼</li>
                </ul>
            </div>
            
            <h2>äºŒã€æ­£åˆ™è¡¨è¾¾å¼æ ‡å¿—ï¼ˆFlagsï¼‰</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>æ ‡å¿—</th>
                        <th>è¯´æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>g</code></td>
                        <td>å…¨å±€åŒ¹é…ï¼ˆglobalï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>i</code></td>
                        <td>ä¸åŒºåˆ†å¤§å°å†™ï¼ˆignore caseï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>m</code></td>
                        <td>å¤šè¡Œæ¨¡å¼ï¼ˆmultilineï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>s</code></td>
                        <td>. åŒ¹é…æ¢è¡Œç¬¦ï¼ˆdotAllï¼ŒES2018ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>u</code></td>
                        <td>Unicode æ¨¡å¼ï¼ˆES2015ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>y</code></td>
                        <td>ç²˜è¿æ¨¡å¼ï¼ˆstickyï¼ŒES2015ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>d</code></td>
                        <td>ç”ŸæˆåŒ¹é…ç´¢å¼•ï¼ˆindicesï¼ŒES2022ï¼‰</td>
                    </tr>
                </tbody>
            </table>
            
            <h2>ä¸‰ã€å…ƒå­—ç¬¦</h2>
            
            <h3>3.1 åŸºæœ¬å…ƒå­—ç¬¦</h3>
            <table>
                <thead>
                    <tr>
                        <th>å…ƒå­—ç¬¦</th>
                        <th>è¯´æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>.</code></td>
                        <td>åŒ¹é…ä»»æ„å­—ç¬¦ï¼ˆé™¤æ¢è¡Œç¬¦ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>^</code></td>
                        <td>åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´</td>
                    </tr>
                    <tr>
                        <td><code>$</code></td>
                        <td>åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾</td>
                    </tr>
                    <tr>
                        <td><code>*</code></td>
                        <td>åŒ¹é… 0 æ¬¡æˆ–å¤šæ¬¡</td>
                    </tr>
                    <tr>
                        <td><code>+</code></td>
                        <td>åŒ¹é… 1 æ¬¡æˆ–å¤šæ¬¡</td>
                    </tr>
                    <tr>
                        <td><code>?</code></td>
                        <td>åŒ¹é… 0 æ¬¡æˆ– 1 æ¬¡</td>
                    </tr>
                    <tr>
                        <td><code>|</code></td>
                        <td>æˆ–è¿ç®—</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>3.2 å­—ç¬¦ç±»</h3>
            <table>
                <thead>
                    <tr>
                        <th>å­—ç¬¦ç±»</th>
                        <th>è¯´æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>\d</code></td>
                        <td>æ•°å­— [0-9]</td>
                    </tr>
                    <tr>
                        <td><code>\D</code></td>
                        <td>éæ•°å­—</td>
                    </tr>
                    <tr>
                        <td><code>\w</code></td>
                        <td>å•è¯å­—ç¬¦ [a-zA-Z0-9_]</td>
                    </tr>
                    <tr>
                        <td><code>\W</code></td>
                        <td>éå•è¯å­—ç¬¦</td>
                    </tr>
                    <tr>
                        <td><code>\s</code></td>
                        <td>ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>\S</code></td>
                        <td>éç©ºç™½å­—ç¬¦</td>
                    </tr>
                    <tr>
                        <td><code>\b</code></td>
                        <td>å•è¯è¾¹ç•Œ</td>
                    </tr>
                    <tr>
                        <td><code>\B</code></td>
                        <td>éå•è¯è¾¹ç•Œ</td>
                    </tr>
                </tbody>
            </table>
            
            <h2>å››ã€é‡è¯</h2>
            
            <h3>4.1 åŸºæœ¬é‡è¯</h3>
            <table>
                <thead>
                    <tr>
                        <th>é‡è¯</th>
                        <th>è¯´æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>{n}</code></td>
                        <td>æ°å¥½ n æ¬¡</td>
                    </tr>
                    <tr>
                        <td><code>{n,}</code></td>
                        <td>è‡³å°‘ n æ¬¡</td>
                    </tr>
                    <tr>
                        <td><code>{n,m}</code></td>
                        <td>n åˆ° m æ¬¡</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>4.2 è´ªå©ª vs éè´ªå©ª</h3>
            <pre><code>// è´ªå©ªï¼ˆé»˜è®¤ï¼‰ï¼šå°½å¯èƒ½å¤šåœ°åŒ¹é…
/<.+>/.exec('<div>test</div>');
// ['<div>test</div>']

// éè´ªå©ªï¼šå°½å¯èƒ½å°‘åœ°åŒ¹é…
/<.+?>/.exec('<div>test</div>');
// ['<div>']</code></pre>
            
            <h2>äº”ã€åˆ†ç»„å’Œæ•è·</h2>
            
            <h3>5.1 æ•è·ç»„ ()</h3>
            <pre><code>const regex = /(\d{4})-(\d{2})-(\d{2})/;
const match = regex.exec('2024-01-15');

console.log(match[1]); // '2024'
console.log(match[2]); // '01'
console.log(match[3]); // '15'</code></pre>
            
            <h3>5.2 éæ•è·ç»„ (?:)</h3>
            <pre><code>const regex = /(?:\d{4})-(\d{2})-(\d{2})/;
const match = regex.exec('2024-01-15');

console.log(match[1]); // '01'ï¼ˆç¬¬ä¸€ä¸ªæ˜¯æ•è·ç»„ï¼‰</code></pre>
            
            <h3>5.3 å‘½åæ•è·ç»„ (?<name>)ï¼ˆES2018ï¼‰</h3>
            <pre><code>const regex = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
const match = regex.exec('2024-01-15');

console.log(match.groups.year);  // '2024'
console.log(match.groups.month); // '01'
console.log(match.groups.day);   // '15'</code></pre>
            
            <h3>5.4 åå‘å¼•ç”¨</h3>
            <pre><code>// åŒ¹é…é‡å¤çš„å•è¯
/\b(\w+)\s+\1\b/.test('hello hello'); // true

// åŒ¹é… HTML æ ‡ç­¾
/<(\w+)>.*?<\/\1>/.test('<div>test</div>'); // true</code></pre>
            
            <h2>å…­ã€å‰ç»å’Œåé¡¾</h2>
            
            <h3>6.1 å‰ç»ï¼ˆLookaheadï¼‰</h3>
            <pre><code>// æ­£å‘å‰ç» (?=...)
/\d+(?= dollars)/.exec('100 dollars');
// ['100']

// è´Ÿå‘å‰ç» (?!...)
/\d+(?! dollars)/.exec('100 yuan');
// ['100']</code></pre>
            
            <h3>6.2 åé¡¾ï¼ˆLookbehindï¼‰ï¼ˆES2018ï¼‰</h3>
            <pre><code>// æ­£å‘åé¡¾ (?<=...)
/(?<=\$)\d+/.exec('$100');
// ['100']

// è´Ÿå‘åé¡¾ (?<!...)
/(?<!\$)\d+/.exec('100');
// ['100']</code></pre>
            
            <h2>ä¸ƒã€æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•</h2>
            
            <h3>7.1 test()</h3>
            <p>æµ‹è¯•æ˜¯å¦åŒ¹é…ï¼Œè¿”å›å¸ƒå°”å€¼ï¼š</p>
            <pre><code>/\d+/.test('abc123'); // true
/\d+/.test('abc');    // false</code></pre>
            
            <h3>7.2 exec()</h3>
            <p>è¿”å›åŒ¹é…ç»“æœæ•°ç»„ï¼š</p>
            <pre><code>const regex = /\d+/g;
let match;

while ((match = regex.exec('a1b2c3')) !== null) {
    console.log(match[0]);
}
// 1, 2, 3</code></pre>
            
            <h3>7.3 å­—ç¬¦ä¸²æ–¹æ³•</h3>
            <ul>
                <li><code>match()</code> - åŒ¹é…</li>
                <li><code>matchAll()</code> - å…¨å±€åŒ¹é…ï¼ˆè¿”å›è¿­ä»£å™¨ï¼‰</li>
                <li><code>search()</code> - æœç´¢ä½ç½®</li>
                <li><code>replace()</code> - æ›¿æ¢</li>
                <li><code>split()</code> - åˆ†å‰²</li>
            </ul>
            
            <h2>å…«ã€å®ç”¨æ­£åˆ™è¡¨è¾¾å¼</h2>
            
            <h3>8.1 éªŒè¯é‚®ç®±</h3>
            <pre><code>const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
emailRegex.test('user@example.com'); // true</code></pre>
            
            <h3>8.2 éªŒè¯æ‰‹æœºå·</h3>
            <pre><code>const phoneRegex = /^1[3-9]\d{9}$/;
phoneRegex.test('13812345678'); // true</code></pre>
            
            <h3>8.3 éªŒè¯ URL</h3>
            <pre><code>const urlRegex = /^https?:\/\/.+/;
urlRegex.test('https://example.com'); // true</code></pre>
            
            <h3>8.4 æå–æ•°å­—</h3>
            <pre><code>'Price: $100, Tax: $20'.match(/\d+/g);
// ['100', '20']</code></pre>
            
            <h3>8.5 æ›¿æ¢ç©ºæ ¼</h3>
            <pre><code>'hello  world'.replace(/\s+/g, ' ');
// 'hello world'</code></pre>
            
            <h2>ä¹ã€æ€§èƒ½ä¼˜åŒ–</h2>
            
            <div class="tip">
                <ol>
                    <li><strong>é¿å…å›æº¯</strong>ï¼šä½¿ç”¨éè´ªå©ªé‡è¯å’ŒåŸå­ç»„</li>
                    <li><strong>ä½¿ç”¨å­—é¢é‡</strong>ï¼šç¼–è¯‘æ—¶ä¼˜åŒ–</li>
                    <li><strong>ç¼“å­˜æ­£åˆ™</strong>ï¼šé‡å¤ä½¿ç”¨åŒä¸€ä¸ªæ­£åˆ™å¯¹è±¡</li>
                    <li><strong>ç®€åŒ–æ¨¡å¼</strong>ï¼šé¿å…è¿‡äºå¤æ‚çš„è¡¨è¾¾å¼</li>
                    <li><strong>ä½¿ç”¨ test</strong>ï¼šåªéœ€éªŒè¯æ—¶ä¸ç”¨ exec/match</li>
                </ol>
            </div>
            
            <h2>åã€æœ€ä½³å®è·µ</h2>
            
            <div class="tip">
                <ol>
                    <li><strong>æ·»åŠ æ³¨é‡Š</strong>ï¼šå¤æ‚æ­£åˆ™è¦å†™æ³¨é‡Š</li>
                    <li><strong>æµ‹è¯•è¾¹ç•Œ</strong>ï¼šä½¿ç”¨ ^ å’Œ $ æ˜ç¡®è¾¹ç•Œ</li>
                    <li><strong>è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦</strong>ï¼šä½¿ç”¨ \ è½¬ä¹‰å…ƒå­—ç¬¦</li>
                    <li><strong>ä½¿ç”¨å‘½åæ•è·</strong>ï¼šæé«˜å¯è¯»æ€§</li>
                    <li><strong>å•å…ƒæµ‹è¯•</strong>ï¼šä¸ºæ­£åˆ™ç¼–å†™æµ‹è¯•ç”¨ä¾‹</li>
                </ol>
            </div>
            
            <h2>å‚è€ƒèµ„æ–™</h2>
            <ul>
                <li><a href="https://tc39.es/ecma262/#sec-regexp-regular-expression-objects" target="_blank">ECMAScript - RegExp</a></li>
                <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank">MDN - æ­£åˆ™è¡¨è¾¾å¼</a></li>
                <li><a href="https://regexr.com/" target="_blank">RegExr - åœ¨çº¿æµ‹è¯•å·¥å…·</a></li>
            </ul>
            
            <div class="nav-links">
                <a href="07-strings.html" class="nav-link prev">ä¸Šä¸€èŠ‚ï¼šå­—ç¬¦ä¸²æ“ä½œ</a>
                <a href="../index.html" class="nav-link home">è¿”å›é¦–é¡µ</a>
                <a href="08-math-date.html" class="nav-link next">ä¸‹ä¸€èŠ‚ï¼šMath ä¸ Date</a>
            </div>
        </div>
        
        <div class="code-panel">
            <h2 style="color: #60a5fa; margin-bottom: 1.5rem;">ğŸ’» äº¤äº’å¼ä»£ç ç¤ºä¾‹</h2>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 1ï¼šåŸºç¡€åŒ¹é…</h3>
                <div class="code-block">
                    <pre><code>// åˆ›å»ºæ­£åˆ™
const regex1 = /hello/;
const regex2 = /hello/i;  // ä¸åŒºåˆ†å¤§å°å†™
const regex3 = /hello/gi; // å…¨å±€ + ä¸åŒºåˆ†å¤§å°å†™

// test()
console.log('test "hello":', regex1.test('hello'));
console.log('test "Hello":', regex1.test('Hello'));
console.log('test "Hello" (i flag):', regex2.test('Hello'));

// exec()
const text = 'hello world';
const match = /\w+/.exec(text);
console.log('\nexec:', match);
console.log('match[0]:', match[0]);
console.log('index:', match.index);

// å­—ç¬¦ä¸²æ–¹æ³•
console.log('\nmatch:', 'abc123def456'.match(/\d+/g));
console.log('search:', 'abc123'.search(/\d/));
console.log('replace:', 'hello'.replace(/l/g, 'L'));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 2ï¼šå…ƒå­—ç¬¦å’Œå­—ç¬¦ç±»</h3>
                <div class="code-block">
                    <pre><code>// . åŒ¹é…ä»»æ„å­—ç¬¦
console.log('/h.llo/.test("hello"):', /h.llo/.test('hello'));
console.log('/h.llo/.test("hallo"):', /h.llo/.test('hallo'));

// ^ å’Œ $
console.log('\n/^hello$/.test("hello"):', /^hello$/.test('hello'));
console.log('/^hello$/.test("hello world"):', /^hello$/.test('hello world'));

// \d \w \s
const text = 'Hello World 123';
console.log('\nmatch /\\d+/:', text.match(/\d+/));
console.log('match /\\w+/g:', text.match(/\w+/g));
console.log('match /\\s+/g:', text.match(/\s+/g));

// \b å•è¯è¾¹ç•Œ
console.log('\n/\\bworld\\b/.test("world"):', /\bworld\b/.test('world'));
console.log('/\\bworld\\b/.test("worldwide"):', /\bworld\b/.test('worldwide'));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 3ï¼šé‡è¯</h3>
                <div class="code-block">
                    <pre><code>// * + ?
console.log('/\\d*/.exec("abc"):', /\d*/.exec('abc')[0]);  // åŒ¹é…0æ¬¡
console.log('/\\d+/.test("abc"):', /\d+/.test('abc'));     // false
console.log('/\\d+/.test("abc123"):', /\d+/.test('abc123')); // true
console.log('/\\d?/.exec("abc"):', /\d?/.exec('abc')[0]);  // åŒ¹é…0æ¬¡

// {n,m}
console.log('\n/\\d{3}/.test("12"):', /\d{3}/.test('12'));
console.log('/\\d{3}/.test("123"):', /\d{3}/.test('123'));
console.log('/\\d{2,4}/.test("12345"):', /\d{2,4}/.test('12345'));

// è´ªå©ª vs éè´ªå©ª
const html = '<div>test</div>';
console.log('\nè´ªå©ª /<.+>/:', html.match(/<.+>/)[0]);
console.log('éè´ªå©ª /<.+?>/:', html.match(/<.+?>/)[0]);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 4ï¼šåˆ†ç»„å’Œæ•è·</h3>
                <div class="code-block">
                    <pre><code>// æ•è·ç»„
const dateRegex = /(\d{4})-(\d{2})-(\d{2})/;
const match = dateRegex.exec('2024-01-15');
console.log('å®Œæ•´åŒ¹é…:', match[0]);
console.log('å¹´:', match[1]);
console.log('æœˆ:', match[2]);
console.log('æ—¥:', match[3]);

// å‘½åæ•è·ç»„
const namedRegex = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
const namedMatch = namedRegex.exec('2024-01-15');
console.log('\ngroups:', namedMatch.groups);
console.log('year:', namedMatch.groups.year);

// éæ•è·ç»„
const nonCapture = /(?:\d{4})-(\d{2})-(\d{2})/;
const ncMatch = nonCapture.exec('2024-01-15');
console.log('\néæ•è·ç»„ match[1]:', ncMatch[1]); // '01'

// åå‘å¼•ç”¨
console.log('\né‡å¤å•è¯:', /\b(\w+)\s+\1\b/.test('hello hello'));
console.log('HTMLæ ‡ç­¾:', /<(\w+)>.*?<\/\1>/.test('<div>test</div>'));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 5ï¼šå®ç”¨æ­£åˆ™</h3>
                <div class="code-block">
                    <pre><code>// éªŒè¯é‚®ç®±
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
console.log('é‚®ç®±éªŒè¯:');
console.log('  user@example.com:', emailRegex.test('user@example.com'));
console.log('  invalid@:', emailRegex.test('invalid@'));

// éªŒè¯æ‰‹æœºå·ï¼ˆä¸­å›½ï¼‰
const phoneRegex = /^1[3-9]\d{9}$/;
console.log('\næ‰‹æœºå·éªŒè¯:');
console.log('  13812345678:', phoneRegex.test('13812345678'));
console.log('  12345678901:', phoneRegex.test('12345678901'));

// æå–æ•°å­—
const text = 'Price: $100, Tax: $20, Total: $120';
console.log('\næå–æ•°å­—:', text.match(/\d+/g));

// é©¼å³°è½¬ä¸‹åˆ’çº¿
function toSnakeCase(str) {
    return str.replace(/([A-Z])/g, '_$1').toLowerCase();
}
console.log('\né©¼å³°è½¬ä¸‹åˆ’çº¿:');
console.log('  helloWorld:', toSnakeCase('helloWorld'));

// ç§»é™¤å¤šä½™ç©ºæ ¼
const spaced = 'hello    world   test';
console.log('\nç§»é™¤å¤šä½™ç©ºæ ¼:', spaced.replace(/\s+/g, ' '));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 6ï¼šé«˜çº§æŠ€å·§</h3>
                <div class="code-block">
                    <pre><code>// å‰ç»
const priceRegex = /\d+(?= dollars)/;
console.log('å‰ç»:', priceRegex.exec('100 dollars'));

// matchAll (ES2020)
const text = 'test1 test2 test3';
const matches = [...text.matchAll(/test(\d)/g)];
console.log('\nmatchAll:');
matches.forEach(m => {
    console.log('  ', m[0], '->', m[1]);
});

// replace ä½¿ç”¨å‡½æ•°
const result = 'hello world'.replace(/\w+/g, match => {
    return match.charAt(0).toUpperCase() + match.slice(1);
});
console.log('\nreplace å‡½æ•°:', result);

// å¤šè¡Œæ¨¡å¼
const multiline = `line1
line2
line3`;
console.log('\nå¤šè¡Œæ¨¡å¼:');
console.log('  match /^line/gm:', multiline.match(/^line/gm));

// åˆ†å‰²
const csv = 'a,b,c,d,e';
console.log('\nsplit:', csv.split(/,/));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/common.js"></script>
</body>
</html>
