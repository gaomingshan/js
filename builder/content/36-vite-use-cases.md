# Vite 适用场景总结

## 概述

Vite 的核心优势来自“开发范式”：以浏览器原生 ESM 为基础提供极快的反馈速度；生产阶段再用 bundler 输出可部署产物。

因此判断 Vite 是否适合你的项目，关键不是问“能不能用”，而是问：

- 你的项目是否能拥抱现代浏览器与 ESM 生态？
- 你是否更看重 Dev 反馈速度而非深度产物控制？
- 你的存量生态依赖是否会成为迁移阻力？

---

## 一、最适合 Vite 的项目

### 1.1 新项目（现代 Web 应用）

- React/Vue/Svelte 等现代框架
- 中小型应用到中大型应用都可覆盖
- 团队希望“少配置、快启动、快反馈”

### 1.2 组件开发与工具型项目

- 组件/页面的快速迭代
- 内部工具、运营工具
- 快速原型

理由：

- 模块级增量更新快
- 插件体系能覆盖主流需求

---

## 二、规模变大后仍能用，但要“工程化使用”

Vite 在大项目里通常不是瓶颈本身，瓶颈多来自：依赖、插件链、拆包策略与 CI。

### 2.1 依赖治理比换工具更重要

- 大依赖（富文本/图表/编辑器）需要按需加载
- 依赖版本频繁变化会导致预构建缓存失效

### 2.2 拆包策略要“稳定”

- vendor 与业务代码分离
- 避免无意义的细碎 chunk

### 2.3 monorepo 需要额外约束

- workspace 边界清晰（不要跨包随意相对路径引用）
- 统一 TS 配置与构建策略

---

## 三、需要谨慎或可能不适合的场景

### 3.1 存量 webpack 生态依赖很深

- 大量自定义 loader/plugin
- 构建链路高度定制

此时迁移成本可能很高，优先评估：

- 保持 webpack 并优化
- 或走兼容路线（Rspack/Rsbuild）

### 3.2 强依赖复杂产物控制的项目

例如：

- 多入口/多 HTML 产物体系
- 微前端复杂部署
- 需要高度确定的 chunk 边界与输出规则

Vite 也能做，但你需要深入理解底层 bundler（Rollup）与部署策略。

### 3.3 极端的旧浏览器兼容要求

- Vite 可以通过插件支持 legacy
- 但工程成本、产物体积、测试成本要提前评估

---

## 四、选型检查清单（建议直接拿去开评审会）

1. **目标浏览器**：是否允许以现代浏览器为主？
2. **生态依赖**：是否必须复用 webpack loader/plugin？
3. **产物策略复杂度**：是否需要多入口/微前端/复杂 CDN？
4. **团队能力**：是否能维护更深的 bundler 知识（Rollup/拆包/缓存）？
5. **CI 预算**：对 build 时间与缓存命中率的要求？

如果 1/2/3 中“限制很多”，Vite 不是不能用，但需要明确成本与风险。

---

## 参考资料

- [Vite - Why Vite](https://vite.dev/guide/why.html)
- [Vite - Performance](https://vite.dev/guide/performance)
- [Vite - Migration](https://vite.dev/guide/migration)
