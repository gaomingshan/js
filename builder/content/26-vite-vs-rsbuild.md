# Vite vs Rsbuild 对比

## 概述

Vite 与 Rsbuild 经常会出现在同一个问题里：“我做一个应用该选谁？”

对比它们时建议先明确：二者都可以构建现代前端应用，但它们的重点不同。

- Vite：以 **ESM Dev 范式**为核心，突出开发期反馈速度与插件生态
- Rsbuild：以 **应用级工程落地**为核心，通常围绕高性能 bundler（常见是 Rspack）提供企业级默认值与更强“工程完整性”

> **关键点**
>
> Vite 让你更快进入开发状态；Rsbuild 更倾向于让团队快速获得一套“可持续维护”的工程体系。

---

## 一、定位差异：它们分别在优化什么

### 1.1 Vite 的核心设计目标

- Dev 体验：冷启动快、HMR 快
- 现代默认值：ESM、按需转换、依赖预构建
- 插件生态：围绕 resolve/transform 与构建阶段协作

### 1.2 Rsbuild 的核心设计目标

- 工程落地：更强的默认最佳实践（缓存、构建策略、工程集成）
- 性能提升：利用 Rust 生态的 bundler（例如 Rspack）提升构建速度上限
- 生态兼容：在企业场景下尽量降低迁移成本与工程风险

---

## 二、开发阶段：ESM Dev vs 高性能 Bundling Dev

### 2.1 Vite：浏览器 ESM + 按需 transform

- 更新粒度更细（模块级）
- 冷启动一般更轻
- 但需要处理裸导入/CJS 依赖（依赖预构建）

### 2.2 Rsbuild：围绕 bundler 的 dev 体验（但更快）

- 仍是以 chunk/runtime 体系驱动的开发模型
- 借助更高性能引擎改善冷启动与增量构建
- 对复杂资源管线与产物策略的统一性更强

> **直觉理解**
>
> Vite 是“换范式获得快”；Rsbuild 更像“在 bundling 范式里，把性能与默认值做到更现代”。

---

## 三、生态与迁移：你所在团队的现实约束

### 3.1 如果你有大量 webpack 生态依赖

- Loader/Plugin 依赖重
- 构建链路沉淀深

这类项目通常更关心：

- 兼容边界
- 迁移成本
- 产物语义一致性

Rsbuild/Rspack 的路线往往更贴近这类诉求。

### 3.2 如果你是新项目或现代化程度更高

- 以 ESM/TS/现代框架为主
- 对旧生态依赖少

Vite 通常更直接，团队能更快进入“高反馈”的开发节奏。

---

## 四、生产构建：产物能力与调优方式

### 4.1 Vite Build 的常见特点

- 生产阶段通常交给 Rollup
- 产物策略（拆包、tree shaking）与 Rollup 体系紧密相关

### 4.2 Rsbuild Build 的常见特点

- 生产阶段通常由底层 bundler 负责（例如 Rspack）
- 更偏向提供一套工程默认值与可维护的配置入口

> **关键点**
>
> 生产构建最终比的不是“能不能打包”，而是：
>
> - 产物可控性
> - 团队可维护性
> - 大规模项目的构建性能

---

## 五、选型建议（简明）

### 5.1 更偏向选 Vite

- 新项目、面向现代浏览器
- 团队希望“少配置、快反馈”
- 生态更多依赖 Vite/Rollup 插件体系

### 5.2 更偏向选 Rsbuild

- 企业级/大型应用
- 对 webpack 生态兼容或迁移成本敏感
- 希望开箱即用获得更完整的工程体系（默认最佳实践、构建策略）

---

## 参考资料

- [Vite](https://vite.dev/)
- [Rsbuild](https://rsbuild.dev/)
- [Rspack](https://rspack.dev/)
- [webpack](https://webpack.js.org/)
