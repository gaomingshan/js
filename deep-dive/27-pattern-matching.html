<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å¼åŒ¹é…ï¼ˆææ¡ˆï¼‰- JavaScript æ·±åº¦å­¦ä¹ </title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/page.css">
</head>
<body>
    <div class="page-layout">
        <div class="doc-panel">
            <h1>æ¨¡å¼åŒ¹é…ï¼ˆææ¡ˆï¼‰</h1>
            
            <h2>æ¦‚è¿°</h2>
            <p>Pattern Matching æ˜¯ Stage 1 ææ¡ˆï¼Œæä¾›æ›´å¼ºå¤§çš„æ¡ä»¶åŒ¹é…èƒ½åŠ›ã€‚</p>
            
            <h2>ä¸€ã€ææ¡ˆè¯­æ³•</h2>
            
            <pre><code>// ææ¡ˆè¯­æ³•ï¼ˆæœªæ¥å¯èƒ½çš„å½¢å¼ï¼‰
const result = match (value) {
    when ({ type: 'circle', radius }) => Math.PI * radius ** 2,
    when ({ type: 'square', side }) => side ** 2,
    when ({ type: 'rectangle', width, height }) => width * height,
    default => 0
};</code></pre>
            
            <h2>äºŒã€å½“å‰æ›¿ä»£æ–¹æ¡ˆ</h2>
            
            <pre><code>// ä½¿ç”¨ switch
function getArea(shape) {
    switch (shape.type) {
        case 'circle':
            return Math.PI * shape.radius ** 2;
        case 'square':
            return shape.side ** 2;
        case 'rectangle':
            return shape.width * shape.height;
        default:
            return 0;
    }
}

// ä½¿ç”¨å¯¹è±¡æ˜ å°„
const areaCalculators = {
    circle: ({ radius }) => Math.PI * radius ** 2,
    square: ({ side }) => side ** 2,
    rectangle: ({ width, height }) => width * height
};

function getArea(shape) {
    return areaCalculators[shape.type]?.(shape) ?? 0;
}</code></pre>
            
            <h2>å‚è€ƒèµ„æ–™</h2>
            <ul>
                <li><a href="https://github.com/tc39/proposal-pattern-matching" target="_blank">TC39 - Pattern Matching</a></li>
            </ul>
            
            <div class="nav-links">
                <a href="27-stage-features.html" class="nav-link prev">ä¸Šä¸€èŠ‚ï¼šå„é˜¶æ®µç‰¹æ€§æ¦‚è§ˆ</a>
                <a href="../index.html" class="nav-link home">è¿”å›é¦–é¡µ</a>
                <a href="../appendix/design-patterns.html" class="nav-link next">ä¸‹ä¸€èŠ‚ï¼šè®¾è®¡æ¨¡å¼</a>
            </div>
        </div>
        
        <div class="code-panel">
            <h2 style="color: #60a5fa; margin-bottom: 1.5rem;">ğŸ’» äº¤äº’å¼ä»£ç ç¤ºä¾‹</h2>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ï¼šå½“å‰æ›¿ä»£æ–¹æ¡ˆ</h3>
                <div class="code-block">
                    <pre><code>console.log('=== æ¨¡å¼åŒ¹é…æ›¿ä»£ ===\n');

// å¯¹è±¡æ˜ å°„æ–¹æ¡ˆ
const handlers = {
    circle: ({ radius }) => Math.PI * radius ** 2,
    square: ({ side }) => side ** 2,
    rectangle: ({ width, height }) => width * height
};

function getArea(shape) {
    const calculator = handlers[shape.type];
    return calculator ? calculator(shape) : 0;
}

const shapes = [
    { type: 'circle', radius: 5 },
    { type: 'square', side: 4 },
    { type: 'rectangle', width: 3, height: 6 }
];

shapes.forEach(shape => {
    console.log(`${shape.type} é¢ç§¯:`, getArea(shape).toFixed(2));
});</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/common.js"></script>
</body>
</html>
