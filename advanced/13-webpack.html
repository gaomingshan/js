<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webpack æ„å»ºæµç¨‹ - JavaScript æ·±åº¦å­¦ä¹ </title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/page.css">
</head>
<body>
    <div class="page-layout">
        <div class="doc-panel">
            <h1>Webpack æ„å»ºæµç¨‹</h1>
            
            <h2>æ¦‚è¿°</h2>
            <p>Webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œå®ƒå°†é¡¹ç›®ä¸­çš„å„ç§èµ„æºï¼ˆJSã€CSSã€å›¾ç‰‡ç­‰ï¼‰è§†ä¸ºæ¨¡å—ï¼Œè¿›è¡Œä¾èµ–åˆ†æå’Œæ‰“åŒ…ã€‚</p>
            
            <h2>ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ</h2>
            
            <h3>1.1 Entryï¼ˆå…¥å£ï¼‰</h3>
            <pre><code>// webpack.config.js
module.exports = {
    // å•å…¥å£
    entry: './src/index.js',
    
    // å¤šå…¥å£
    entry: {
        app: './src/app.js',
        admin: './src/admin.js'
    }
};</code></pre>
            
            <h3>1.2 Outputï¼ˆè¾“å‡ºï¼‰</h3>
            <pre><code>module.exports = {
    output: {
        // è¾“å‡ºæ–‡ä»¶å
        filename: '[name].[contenthash].js',
        // è¾“å‡ºç›®å½•
        path: path.resolve(__dirname, 'dist'),
        // å…¬å…±è·¯å¾„
        publicPath: '/assets/',
        // æ¸…ç†æ—§æ–‡ä»¶
        clean: true
    }
};</code></pre>
            
            <h3>1.3 Loaderï¼ˆåŠ è½½å™¨ï¼‰</h3>
            <pre><code>module.exports = {
    module: {
        rules: [
            // JavaScript
            {
                test: /\.js$/,
                exclude: /node_modules/,
                use: 'babel-loader'
            },
            // CSS
            {
                test: /\.css$/,
                use: ['style-loader', 'css-loader']
            },
            // å›¾ç‰‡
            {
                test: /\.(png|jpg|gif)$/,
                type: 'asset/resource'
            }
        ]
    }
};</code></pre>
            
            <h3>1.4 Pluginï¼ˆæ’ä»¶ï¼‰</h3>
            <pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin');
const MiniCssExtractPlugin = require('mini-css-extract-plugin');

module.exports = {
    plugins: [
        new HtmlWebpackPlugin({
            template: './src/index.html'
        }),
        new MiniCssExtractPlugin({
            filename: '[name].[contenthash].css'
        })
    ]
};</code></pre>
            
            <h2>äºŒã€æ„å»ºæµç¨‹</h2>
            
            <h3>2.1 å®Œæ•´æµç¨‹</h3>
            <pre><code>1. åˆå§‹åŒ–å‚æ•°
   â†“
2. å¼€å§‹ç¼–è¯‘ï¼ˆCompilerï¼‰
   â†“
3. ç¡®å®šå…¥å£
   â†“
4. ç¼–è¯‘æ¨¡å—ï¼ˆCompilationï¼‰
   â”œâ”€ ä»å…¥å£å‡ºå‘
   â”œâ”€ é€’å½’æ‰¾å‡ºä¾èµ–
   â”œâ”€ è°ƒç”¨ Loader è½¬æ¢
   â””â”€ è§£æä¾èµ–å…³ç³»
   â†“
5. å®Œæˆæ¨¡å—ç¼–è¯‘
   â†“
6. è¾“å‡ºèµ„æº
   â”œâ”€ æ ¹æ®ä¾èµ–å…³ç³»ç»„è£… Chunk
   â”œâ”€ è½¬æ¢ä¸ºæ–‡ä»¶
   â””â”€ è¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿ
   â†“
7. å®Œæˆ</code></pre>
            
            <h3>2.2 å…³é”®é˜¶æ®µ</h3>
            <div class="info">
                <ul>
                    <li><strong>åˆå§‹åŒ–</strong>ï¼šè¯»å–é…ç½®ï¼Œåˆ›å»º Compiler</li>
                    <li><strong>ç¼–è¯‘</strong>ï¼šä»å…¥å£å¼€å§‹é€’å½’è§£æ</li>
                    <li><strong>Loader</strong>ï¼šè½¬æ¢æ¨¡å—å†…å®¹</li>
                    <li><strong>ä¾èµ–å›¾</strong>ï¼šæ„å»ºä¾èµ–å…³ç³»å›¾</li>
                    <li><strong>Chunk</strong>ï¼šç”Ÿæˆä»£ç å—</li>
                    <li><strong>è¾“å‡º</strong>ï¼šå†™å…¥æ–‡ä»¶ç³»ç»Ÿ</li>
                </ul>
            </div>
            
            <h2>ä¸‰ã€Loader è¯¦è§£</h2>
            
            <h3>3.1 Loader ä½œç”¨</h3>
            <p>Loader ç”¨äºè½¬æ¢æ¨¡å—çš„æºä»£ç ï¼Œæ˜¯æ–‡ä»¶è½¬æ¢å™¨ã€‚</p>
            
            <pre><code>// Loader æ‰§è¡Œé¡ºåºï¼šä»å³åˆ°å·¦
{
    test: /\.scss$/,
    use: [
        'style-loader',     // 3. å°† CSS æ’å…¥ DOM
        'css-loader',       // 2. è§£æ CSS
        'sass-loader'       // 1. ç¼–è¯‘ Sass
    ]
}</code></pre>
            
            <h3>3.2 å¸¸ç”¨ Loader</h3>
            <table>
                <thead>
                    <tr>
                        <th>Loader</th>
                        <th>åŠŸèƒ½</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>babel-loader</td>
                        <td>è½¬è¯‘ JavaScript</td>
                    </tr>
                    <tr>
                        <td>css-loader</td>
                        <td>è§£æ CSS æ–‡ä»¶</td>
                    </tr>
                    <tr>
                        <td>style-loader</td>
                        <td>å°† CSS æ³¨å…¥ DOM</td>
                    </tr>
                    <tr>
                        <td>sass-loader</td>
                        <td>ç¼–è¯‘ Sass/SCSS</td>
                    </tr>
                    <tr>
                        <td>file-loader</td>
                        <td>å¤„ç†æ–‡ä»¶</td>
                    </tr>
                    <tr>
                        <td>url-loader</td>
                        <td>å°æ–‡ä»¶è½¬ base64</td>
                    </tr>
                    <tr>
                        <td>vue-loader</td>
                        <td>è§£æ Vue ç»„ä»¶</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>3.3 è‡ªå®šä¹‰ Loader</h3>
            <pre><code>// my-loader.js
module.exports = function(source) {
    // source æ˜¯æ¨¡å—æºä»£ç 
    // è¿”å›è½¬æ¢åçš„ä»£ç 
    return source.replace(/console\.log/g, 'console.info');
};

// ä½¿ç”¨
{
    test: /\.js$/,
    use: './loaders/my-loader.js'
}</code></pre>
            
            <h2>å››ã€Plugin è¯¦è§£</h2>
            
            <h3>4.1 Plugin ä½œç”¨</h3>
            <p>Plugin ç”¨äºæ‰©å±• Webpack åŠŸèƒ½ï¼Œåœ¨æ„å»ºæµç¨‹çš„ç‰¹å®šæ—¶æœºæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ã€‚</p>
            
            <h3>4.2 å¸¸ç”¨ Plugin</h3>
            <table>
                <thead>
                    <tr>
                        <th>Plugin</th>
                        <th>åŠŸèƒ½</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>HtmlWebpackPlugin</td>
                        <td>ç”Ÿæˆ HTML æ–‡ä»¶</td>
                    </tr>
                    <tr>
                        <td>MiniCssExtractPlugin</td>
                        <td>æå– CSS åˆ°å•ç‹¬æ–‡ä»¶</td>
                    </tr>
                    <tr>
                        <td>CleanWebpackPlugin</td>
                        <td>æ¸…ç†è¾“å‡ºç›®å½•</td>
                    </tr>
                    <tr>
                        <td>DefinePlugin</td>
                        <td>å®šä¹‰å…¨å±€å¸¸é‡</td>
                    </tr>
                    <tr>
                        <td>CopyWebpackPlugin</td>
                        <td>å¤åˆ¶æ–‡ä»¶</td>
                    </tr>
                    <tr>
                        <td>CompressionPlugin</td>
                        <td>Gzip å‹ç¼©</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>4.3 è‡ªå®šä¹‰ Plugin</h3>
            <pre><code>// my-plugin.js
class MyPlugin {
    apply(compiler) {
        // åœ¨ emit é˜¶æ®µï¼ˆç”Ÿæˆèµ„æºåˆ° output ç›®å½•ä¹‹å‰ï¼‰
        compiler.hooks.emit.tap('MyPlugin', (compilation) => {
            console.log('Webpack æ„å»ºè¿‡ç¨‹å¼€å§‹ï¼');
            
            // éå†æ‰€æœ‰å³å°†è¾“å‡ºçš„æ–‡ä»¶
            for (const filename in compilation.assets) {
                console.log('è¾“å‡ºæ–‡ä»¶:', filename);
            }
        });
        
        // done é’©å­ï¼ˆæ„å»ºå®Œæˆï¼‰
        compiler.hooks.done.tap('MyPlugin', (stats) => {
            console.log('æ„å»ºå®Œæˆï¼');
        });
    }
}

module.exports = MyPlugin;

// ä½¿ç”¨
plugins: [new MyPlugin()]</code></pre>
            
            <h2>äº”ã€ä¼˜åŒ–ç­–ç•¥</h2>
            
            <h3>5.1 ä»£ç åˆ†å‰²</h3>
            <pre><code>module.exports = {
    optimization: {
        splitChunks: {
            chunks: 'all',
            cacheGroups: {
                // æå–ç¬¬ä¸‰æ–¹åº“
                vendor: {
                    test: /[\\/]node_modules[\\/]/,
                    name: 'vendors',
                    priority: 10
                },
                // æå–å…¬å…±ä»£ç 
                common: {
                    minChunks: 2,
                    name: 'common',
                    priority: 5
                }
            }
        }
    }
};</code></pre>
            
            <h3>5.2 Tree Shaking</h3>
            <pre><code>// package.json
{
    "sideEffects": false,  // æ‰€æœ‰ä»£ç éƒ½æ— å‰¯ä½œç”¨
    // æˆ–
    "sideEffects": ["*.css", "*.scss"]  // æ ‡è®°æœ‰å‰¯ä½œç”¨çš„æ–‡ä»¶
}

// webpack.config.js
module.exports = {
    mode: 'production',  // production æ¨¡å¼è‡ªåŠ¨å¯ç”¨
    optimization: {
        usedExports: true
    }
};</code></pre>
            
            <h3>5.3 ç¼“å­˜ä¼˜åŒ–</h3>
            <pre><code>module.exports = {
    cache: {
        type: 'filesystem',  // ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç¼“å­˜
        cacheDirectory: path.resolve(__dirname, '.webpack_cache')
    },
    output: {
        filename: '[name].[contenthash].js',  // å†…å®¹å“ˆå¸Œ
        chunkFilename: '[name].[contenthash].chunk.js'
    }
};</code></pre>
            
            <h3>5.4 å¹¶è¡Œæ„å»º</h3>
            <pre><code>// thread-loaderï¼šå¤šçº¿ç¨‹ç¼–è¯‘
{
    test: /\.js$/,
    use: [
        'thread-loader',
        'babel-loader'
    ]
}

// terser-webpack-pluginï¼šå¤šè¿›ç¨‹å‹ç¼©
const TerserPlugin = require('terser-webpack-plugin');

module.exports = {
    optimization: {
        minimizer: [
            new TerserPlugin({
                parallel: true  // å¹¶è¡Œå‹ç¼©
            })
        ]
    }
};</code></pre>
            
            <h2>å…­ã€å¼€å‘é…ç½®</h2>
            
            <h3>6.1 å¼€å‘æœåŠ¡å™¨</h3>
            <pre><code>module.exports = {
    devServer: {
        port: 8080,
        open: true,
        hot: true,  // çƒ­æ›´æ–°
        historyApiFallback: true,  // SPA è·¯ç”±
        proxy: {
            '/api': {
                target: 'http://localhost:3000',
                changeOrigin: true
            }
        }
    }
};</code></pre>
            
            <h3>6.2 Source Map</h3>
            <pre><code>module.exports = {
    // å¼€å‘ç¯å¢ƒ
    devtool: 'eval-source-map',
    
    // ç”Ÿäº§ç¯å¢ƒ
    // devtool: 'source-map'
};</code></pre>
            
            <h2>ä¸ƒã€ç”Ÿäº§é…ç½®</h2>
            
            <h3>7.1 æ¨¡å¼è®¾ç½®</h3>
            <pre><code>module.exports = {
    mode: 'production',  // è‡ªåŠ¨å¯ç”¨ä¼˜åŒ–
    
    optimization: {
        minimize: true,  // å‹ç¼©ä»£ç 
        minimizer: [
            new TerserPlugin(),
            new CssMinimizerPlugin()
        ]
    }
};</code></pre>
            
            <h3>7.2 ç¯å¢ƒå˜é‡</h3>
            <pre><code>const webpack = require('webpack');

module.exports = {
    plugins: [
        new webpack.DefinePlugin({
            'process.env.NODE_ENV': JSON.stringify('production'),
            'process.env.API_URL': JSON.stringify('https://api.example.com')
        })
    ]
};</code></pre>
            
            <h2>å…«ã€æœ€ä½³å®è·µ</h2>
            
            <div class="tip">
                <ol>
                    <li><strong>åŒºåˆ†ç¯å¢ƒ</strong>ï¼šå¼€å‘/ç”Ÿäº§é…ç½®åˆ†ç¦»</li>
                    <li><strong>ä»£ç åˆ†å‰²</strong>ï¼šæå–å…¬å…±ä»£ç å’Œç¬¬ä¸‰æ–¹åº“</li>
                    <li><strong>Tree Shaking</strong>ï¼šç§»é™¤æœªä½¿ç”¨ä»£ç </li>
                    <li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ contenthash</li>
                    <li><strong>å‹ç¼©èµ„æº</strong>ï¼šJSã€CSSã€å›¾ç‰‡å‹ç¼©</li>
                    <li><strong>æ‡’åŠ è½½</strong>ï¼šæŒ‰éœ€åŠ è½½è·¯ç”±å’Œç»„ä»¶</li>
                    <li><strong>åˆ†æå·¥å…·</strong>ï¼šä½¿ç”¨ webpack-bundle-analyzer</li>
                </ol>
            </div>
            
            <h2>å‚è€ƒèµ„æ–™</h2>
            <ul>
                <li><a href="https://webpack.js.org/" target="_blank">Webpack å®˜ç½‘</a></li>
                <li><a href="https://webpack.js.org/concepts/" target="_blank">Webpack æ¦‚å¿µ</a></li>
                <li><a href="https://webpack.js.org/configuration/" target="_blank">Webpack é…ç½®</a></li>
            </ul>
            
            <div class="nav-links">
                <a href="13-babel.html" class="nav-link prev">ä¸Šä¸€èŠ‚ï¼šBabel</a>
                <a href="../index.html" class="nav-link home">è¿”å›é¦–é¡µ</a>
                <a href="../deep-dive/14-execution-context.html" class="nav-link next">æ·±å…¥åŸç†ç¯‡</a>
            </div>
        </div>
        
        <div class="code-panel">
            <h2 style="color: #60a5fa; margin-bottom: 1.5rem;">ğŸ’» äº¤äº’å¼ä»£ç ç¤ºä¾‹</h2>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 1ï¼šæ ¸å¿ƒæ¦‚å¿µ</h3>
                <div class="code-block">
                    <pre><code>// Webpack æ ¸å¿ƒæ¦‚å¿µæ¼”ç¤º
console.log('=== Webpack æ ¸å¿ƒæ¦‚å¿µ ===\n');

console.log('1. Entryï¼ˆå…¥å£ï¼‰');
console.log('   æŒ‡å®šæ„å»ºçš„èµ·ç‚¹');
console.log('   entry: "./src/index.js"\n');

console.log('2. Outputï¼ˆè¾“å‡ºï¼‰');
console.log('   æŒ‡å®šæ‰“åŒ…æ–‡ä»¶çš„è¾“å‡ºä½ç½®');
console.log('   output: { filename: "bundle.js" }\n');

console.log('3. Loaderï¼ˆåŠ è½½å™¨ï¼‰');
console.log('   è½¬æ¢æ–‡ä»¶å†…å®¹');
console.log('   { test: /\\.js$/, use: "babel-loader" }\n');

console.log('4. Pluginï¼ˆæ’ä»¶ï¼‰');
console.log('   æ‰©å±•åŠŸèƒ½');
console.log('   new HtmlWebpackPlugin()\n');

console.log('5. Modeï¼ˆæ¨¡å¼ï¼‰');
console.log('   development / production');
console.log('   è‡ªåŠ¨å¯ç”¨ç›¸åº”ä¼˜åŒ–');</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 2ï¼šæ„å»ºæµç¨‹</h3>
                <div class="code-block">
                    <pre><code>// æ¨¡æ‹Ÿ Webpack æ„å»ºæµç¨‹
console.log('=== Webpack æ„å»ºæµç¨‹ ===\n');

const steps = [
    '1. åˆå§‹åŒ–å‚æ•°',
    '   è¯»å–é…ç½®æ–‡ä»¶å’Œå‘½ä»¤è¡Œå‚æ•°',
    '',
    '2. å¼€å§‹ç¼–è¯‘',
    '   åˆ›å»º Compiler å¯¹è±¡',
    '',
    '3. ç¡®å®šå…¥å£',
    '   æ ¹æ® entry æ‰¾åˆ°å…¥å£æ–‡ä»¶',
    '',
    '4. ç¼–è¯‘æ¨¡å—',
    '   ä»å…¥å£å‡ºå‘ï¼Œé€’å½’æ‰¾å‡ºä¾èµ–',
    '   è°ƒç”¨ Loader è½¬æ¢æ¨¡å—å†…å®¹',
    '',
    '5. å®Œæˆæ¨¡å—ç¼–è¯‘',
    '   å¾—åˆ°è½¬æ¢åçš„å†…å®¹å’Œä¾èµ–å…³ç³»',
    '',
    '6. è¾“å‡ºèµ„æº',
    '   æ ¹æ®ä¾èµ–å…³ç³»ç»„è£…æˆ Chunk',
    '   è½¬æ¢ä¸ºè¾“å‡ºæ–‡ä»¶',
    '',
    '7. å®Œæˆ',
    '   è¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿ'
];

steps.forEach(step => console.log(step));

console.log('\nå…³é”®ç‚¹:');
console.log('  - Loader: è½¬æ¢æ¨¡å—å†…å®¹');
console.log('  - Plugin: åœ¨ç‰¹å®šæ—¶æœºæ‰§è¡Œ');
console.log('  - Chunk: ä»£ç å—ï¼ˆå¤šä¸ªæ¨¡å—ç»„æˆï¼‰');</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 3ï¼šLoader æ‰§è¡Œé¡ºåº</h3>
                <div class="code-block">
                    <pre><code>// Loader æ‰§è¡Œé¡ºåºæ¼”ç¤º
console.log('=== Loader æ‰§è¡Œé¡ºåº ===\n');

console.log('é…ç½®:');
console.log(`{
    test: /\\.scss$/,
    use: [
        'style-loader',
        'css-loader',
        'sass-loader'
    ]
}`);

console.log('\næ‰§è¡Œé¡ºåºï¼ˆä»å³åˆ°å·¦ï¼‰:\n');

const loaders = [
    { name: 'sass-loader', step: 1, desc: 'ç¼–è¯‘ Sass â†’ CSS' },
    { name: 'css-loader', step: 2, desc: 'è§£æ CSSï¼Œå¤„ç† @import å’Œ url()' },
    { name: 'style-loader', step: 3, desc: 'å°† CSS æ³¨å…¥åˆ° DOM' }
];

loaders.forEach(({ name, step, desc }) => {
    console.log(`${step}. ${name}`);
    console.log(`   ${desc}\n`);
});

console.log('æµç¨‹:');
console.log('  .scss â†’ sass-loader â†’ CSS');
console.log('  CSS â†’ css-loader â†’ JS æ¨¡å—');
console.log('  JS æ¨¡å— â†’ style-loader â†’ <style> æ ‡ç­¾');</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 4ï¼šä»£ç åˆ†å‰²æ¼”ç¤º</h3>
                <div class="code-block">
                    <pre><code>// ä»£ç åˆ†å‰²æ¦‚å¿µ
console.log('=== ä»£ç åˆ†å‰² ===\n');

console.log('1. å…¥å£åˆ†å‰²');
console.log('   å¤šä¸ªå…¥å£æ–‡ä»¶');
console.log('   entry: { app: "./app.js", admin: "./admin.js" }\n');

console.log('2. åŠ¨æ€å¯¼å…¥');
console.log('   ä½¿ç”¨ import() æŒ‰éœ€åŠ è½½');
console.log('   const module = await import("./module.js");\n');

console.log('3. SplitChunks');
console.log('   æå–å…¬å…±ä»£ç ');

const splitConfig = {
    chunks: 'all',
    cacheGroups: {
        vendor: {
            test: /node_modules/,
            name: 'vendors',
            desc: 'ç¬¬ä¸‰æ–¹åº“'
        },
        common: {
            minChunks: 2,
            name: 'common',
            desc: 'å…¬å…±ä»£ç '
        }
    }
};

console.log('\né…ç½®ç¤ºä¾‹:');
Object.entries(splitConfig.cacheGroups).forEach(([key, value]) => {
    console.log(`  ${key}: ${value.desc}`);
    console.log(`    name: "${value.name}"`);
});</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 5ï¼šä¼˜åŒ–ç­–ç•¥</h3>
                <div class="code-block">
                    <pre><code>// Webpack ä¼˜åŒ–ç­–ç•¥
console.log('=== Webpack ä¼˜åŒ–ç­–ç•¥ ===\n');

const optimizations = [
    {
        name: 'Tree Shaking',
        desc: 'ç§»é™¤æœªä½¿ç”¨çš„ä»£ç ',
        config: 'mode: "production"'
    },
    {
        name: 'ä»£ç åˆ†å‰²',
        desc: 'æå–å…¬å…±ä»£ç å’Œç¬¬ä¸‰æ–¹åº“',
        config: 'optimization.splitChunks'
    },
    {
        name: 'ç¼“å­˜ä¼˜åŒ–',
        desc: 'ä½¿ç”¨ contenthash',
        config: 'filename: "[name].[contenthash].js"'
    },
    {
        name: 'å‹ç¼©',
        desc: 'JSã€CSSã€å›¾ç‰‡å‹ç¼©',
        config: 'optimization.minimizer'
    },
    {
        name: 'æ‡’åŠ è½½',
        desc: 'æŒ‰éœ€åŠ è½½è·¯ç”±å’Œç»„ä»¶',
        config: 'import()'
    },
    {
        name: 'å¹¶è¡Œæ„å»º',
        desc: 'ä½¿ç”¨ thread-loader',
        config: 'use: ["thread-loader", "babel-loader"]'
    }
];

optimizations.forEach(({ name, desc, config }, index) => {
    console.log(`${index + 1}. ${name}`);
    console.log(`   è¯´æ˜: ${desc}`);
    console.log(`   é…ç½®: ${config}\n`);
});

console.log('æ„å»ºé€Ÿåº¦ä¼˜åŒ–:');
console.log('  âœ“ ç¼“å­˜ï¼ˆcacheï¼‰');
console.log('  âœ“ å¤šçº¿ç¨‹ï¼ˆthread-loaderï¼‰');
console.log('  âœ“ æ’é™¤ä¸å¿…è¦çš„æ¨¡å—ï¼ˆexcludeï¼‰');
console.log('\nåŒ…ä½“ç§¯ä¼˜åŒ–:');
console.log('  âœ“ Tree Shaking');
console.log('  âœ“ ä»£ç åˆ†å‰²');
console.log('  âœ“ å‹ç¼©');</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 6ï¼šå®Œæ•´é…ç½®ç¤ºä¾‹</h3>
                <div class="code-block">
                    <pre><code>// å…¸å‹çš„ Webpack é…ç½®
console.log('=== Webpack é…ç½®ç¤ºä¾‹ ===\n');

const config = {
    mode: 'production',
    entry: './src/index.js',
    output: {
        filename: '[name].[contenthash].js',
        path: '/dist',
        clean: true
    },
    module: {
        rules: [
            'babel-loader  â†’ JS è½¬è¯‘',
            'css-loader    â†’ CSS å¤„ç†',
            'sass-loader   â†’ Sass ç¼–è¯‘',
            'file-loader   â†’ æ–‡ä»¶å¤„ç†'
        ]
    },
    plugins: [
        'HtmlWebpackPlugin       â†’ ç”Ÿæˆ HTML',
        'MiniCssExtractPlugin    â†’ æå– CSS',
        'CleanWebpackPlugin      â†’ æ¸…ç†ç›®å½•',
        'DefinePlugin            â†’ ç¯å¢ƒå˜é‡'
    ],
    optimization: {
        splitChunks: 'all',
        minimizer: ['TerserPlugin', 'CssMinimizerPlugin']
    },
    devServer: {
        port: 8080,
        hot: true,
        proxy: '/api â†’ http://localhost:3000'
    }
};

console.log('Entry:  ', config.entry);
console.log('Output: ', config.output.filename);
console.log('Mode:   ', config.mode);

console.log('\nLoaders:');
config.module.rules.forEach(rule => console.log(`  - ${rule}`));

console.log('\nPlugins:');
config.plugins.forEach(plugin => console.log(`  - ${plugin}`));

console.log('\nOptimization:');
console.log('  - splitChunks:', config.optimization.splitChunks);
console.log('  - minimizer:', config.optimization.minimizer.join(', '));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/common.js"></script>
</body>
</html>
