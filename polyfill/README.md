# å‰ç«¯å…¼å®¹æ€§å¤„ç†å®Œæ•´æŒ‡å—

> ç†è§£æµè§ˆå™¨å…¼å®¹æ€§æœ¬è´¨ï¼ŒæŒæ¡ä»ç¼–è¯‘åˆ°è¿è¡Œæ—¶çš„å®Œæ•´é™çº§æ–¹æ¡ˆ

## ğŸ“Š å­¦ä¹ è·¯çº¿å›¾

**æ€»è®¡ï¼š3 å¤§éƒ¨åˆ†ï¼Œ9 ç« èŠ‚**

```
ç¼–è¯‘æ—¶å…¼å®¹ (3ç« )  â†’  è¿è¡Œæ—¶å…¼å®¹ (3ç« )  â†’  å·¥ç¨‹å®è·µ (3ç« )
   Babel              Polyfill              ç‰¹æ€§æ£€æµ‹
   PostCSS            core-js               é™çº§ç­–ç•¥
   autoprefixer       runtime               æœ€ä½³å®è·µ
```

---

## ğŸ¯ æ–‡æ¡£ç›®æ ‡

- **ç†è§£æœ¬è´¨**ï¼šæ˜ç™½"è¯­æ³•è½¬æ¢"ä¸"API å«ç‰‡"çš„æ ¹æœ¬åŒºåˆ«
- **æŒæ¡å·¥å…·**ï¼šç†Ÿç»ƒé…ç½® Babelã€PostCSS ç­‰æ ¸å¿ƒå·¥å…·
- **è½åœ°å®è·µ**ï¼šåœ¨çœŸå®é¡¹ç›®ä¸­åˆ¶å®šåˆç†çš„å…¼å®¹æ€§ç­–ç•¥
- **æƒè¡¡å–èˆ**ï¼šç†è§£ä½“ç§¯ã€æ€§èƒ½ã€å…¼å®¹èŒƒå›´çš„å¹³è¡¡ä¹‹é“

---

## ğŸ‘¥ é€‚ç”¨äººç¾¤

- ä¸æ¸…æ¥š Babel å’Œ Polyfill åŒºåˆ«çš„å¼€å‘è€…
- é…ç½®è¿‡ browserslist ä½†ä¸ç†è§£åŸç†çš„å¼€å‘è€…
- æƒ³è¦ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ã€å‡å°‘å†—ä½™å«ç‰‡çš„å¼€å‘è€…
- éœ€è¦åˆ¶å®šå›¢é˜Ÿå…¼å®¹æ€§ç­–ç•¥çš„æŠ€æœ¯è´Ÿè´£äºº

---

## ğŸ“š ç¬¬ä¸€éƒ¨åˆ†ï¼šç¼–è¯‘æ—¶å…¼å®¹ï¼ˆ3 ç« ï¼‰

**å­¦ä¹ ç›®æ ‡**ï¼šç†è§£ç¼–è¯‘æ—¶è½¬æ¢çš„åŸç†ä¸å·¥å…·

### ç¬¬ 1 ç« ï¼šBabel è¯­æ³•è½¬æ¢

- [01. ä¸ºä»€ä¹ˆéœ€è¦ Babel](./content/01-why-babel.md) - è¯­æ³•è½¬æ¢çš„æœ¬è´¨ã€Babel è§£å†³çš„é—®é¢˜
- [02. Babel æ ¸å¿ƒåŸç†](./content/02-babel-core.md) - è§£æ â†’ è½¬æ¢ â†’ ç”Ÿæˆã€AST åŸºç¡€
- [03. Babel é…ç½®è¯¦è§£](./content/03-babel-config.md) - preset-envã€targetsã€é…ç½®ç­–ç•¥

### ç¬¬ 2 ç« ï¼šPostCSS ä¸ CSS å…¼å®¹

- [04. PostCSS å·¥ä½œåŸç†](./content/04-postcss-intro.md) - CSS çš„ Babelã€æ’ä»¶åŒ–æ¶æ„
- [05. autoprefixer è‡ªåŠ¨å‰ç¼€](./content/05-autoprefixer.md) - æµè§ˆå™¨å‰ç¼€ã€é…ç½®ä¸åŸç†

### ç¬¬ 3 ç« ï¼šbrowserslist ç»Ÿä¸€é…ç½®

- [06. browserslist å…¥é—¨](./content/06-browserslist.md) - ç»Ÿä¸€ç›®æ ‡æµè§ˆå™¨ã€æŸ¥è¯¢è¯­æ³•ã€å…±äº«é…ç½®

---

## ğŸ”§ ç¬¬äºŒéƒ¨åˆ†ï¼šè¿è¡Œæ—¶å…¼å®¹ï¼ˆ3 ç« ï¼‰

**å­¦ä¹ ç›®æ ‡**ï¼šç†è§£è¿è¡Œæ—¶å«ç‰‡çš„åŸç†ä¸æœ€ä½³å®è·µ

### ç¬¬ 4 ç« ï¼šPolyfill åŸºç¡€

- [07. Polyfill æ¦‚å¿µè¾¨æ](./content/07-polyfill-concept.md) - Polyfill vs Shim vs Ponyfillã€ä¸ºä»€ä¹ˆéœ€è¦è¿è¡Œæ—¶è¡¥ä¸
- [08. core-js æ·±å…¥è§£æ](./content/08-core-js.md) - æœ€å…¨é¢çš„ JS æ ‡å‡†åº“å«ç‰‡

### ç¬¬ 5 ç« ï¼šPolyfill åŠ è½½ç­–ç•¥

- [09. æŒ‰éœ€åŠ è½½ vs å…¨é‡åŠ è½½](./content/09-polyfill-strategy.md) - entry vs usageã€ä½“ç§¯ä¼˜åŒ–
- [10. @babel/runtime ä¸ helpers](./content/10-babel-runtime.md) - è¾…åŠ©å‡½æ•°å¤ç”¨ã€å‡å°‘é‡å¤ä»£ç 

### ç¬¬ 6 ç« ï¼šæµè§ˆå™¨ç‰¹æ€§æ£€æµ‹

- [11. ç‰¹æ€§æ£€æµ‹åŸç†](./content/11-feature-detection.md) - ä¸ºä»€ä¹ˆä¸ç”¨ UA æ£€æµ‹ã€Modernizr ä»‹ç»
- [12. æ¡ä»¶åŠ è½½å®è·µ](./content/12-conditional-loading.md) - åŠ¨æ€ Polyfillã€polyfill.io æ–¹æ¡ˆ

---

## ğŸ› ï¸ ç¬¬ä¸‰éƒ¨åˆ†ï¼šå·¥ç¨‹å®è·µï¼ˆ3 ç« ï¼‰

**å­¦ä¹ ç›®æ ‡**ï¼šåœ¨çœŸå®é¡¹ç›®ä¸­è½åœ°å…¼å®¹æ€§æ–¹æ¡ˆ

### ç¬¬ 7 ç« ï¼šè¿è¡Œæ—¶é™çº§ç­–ç•¥

- [13. ä¼˜é›…é™çº§ vs æ¸è¿›å¢å¼º](./content/13-degradation-strategy.md) - ä¸¤ç§è®¾è®¡ç†å¿µçš„å–èˆ
- [14. é”™è¯¯è¾¹ç•Œä¸å›é€€æ–¹æ¡ˆ](./content/14-fallback-solutions.md) - å½“ç‰¹æ€§ä¸æ”¯æŒæ—¶æ€ä¹ˆåŠ

### ç¬¬ 8 ç« ï¼šå®Œæ•´é…ç½®å®æˆ˜

- [15. Babel + core-js æœ€ä½³é…ç½®](./content/15-babel-corejs-setup.md) - ç°ä»£é¡¹ç›®æ¨èé…ç½®
- [16. PostCSS å·¥ç¨‹é…ç½®](./content/16-postcss-setup.md) - å®Œæ•´çš„ CSS å…¼å®¹æ–¹æ¡ˆ

### ç¬¬ 9 ç« ï¼šæ€§èƒ½ä¸ä½“ç§¯ä¼˜åŒ–

- [17. å‡å°‘ Polyfill ä½“ç§¯](./content/17-bundle-optimization.md) - æŒ‰éœ€å¼•å…¥ã€é¿å…é‡å¤
- [18. ç°ä»£/ä¼ ç»ŸåŒæ„å»º](./content/18-modern-legacy-build.md) - module/nomodule æ¨¡å¼

---

## ğŸ“ ç›®å½•ç»“æ„

```
polyfill/
â”œâ”€â”€ README.md              # æœ¬æ–‡ä»¶ï¼šæ€»å¤§çº²å’Œå¯¼èˆª
â”œâ”€â”€ content/               # ğŸ“– çŸ¥è¯†å†…å®¹ï¼ˆ18 ä¸ªä¸»é¢˜æ–‡æ¡£ï¼‰
â”‚   â”œâ”€â”€ 01-why-babel.md
â”‚   â”œâ”€â”€ 02-babel-core.md
â”‚   â”œâ”€â”€ 03-babel-config.md
â”‚   â””â”€â”€ ...
â””â”€â”€ examples/              # ğŸ’» é…ç½®ç¤ºä¾‹
    â”œâ”€â”€ babel-setup/       # Babel é…ç½®ç¤ºä¾‹
    â”œâ”€â”€ postcss-setup/     # PostCSS é…ç½®ç¤ºä¾‹
    â””â”€â”€ modern-build/      # åŒæ„å»ºç¤ºä¾‹
```

---

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥

### ç¼–è¯‘æ—¶ vs è¿è¡Œæ—¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å…¼å®¹æ€§å¤„ç†åˆ†å±‚                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ç¼–è¯‘æ—¶ï¼ˆBuild Timeï¼‰          è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Babel          â”‚          â”‚  Polyfill       â”‚          â”‚
â”‚  â”‚  - è¯­æ³•è½¬æ¢      â”‚          â”‚  - API è¡¥ä¸      â”‚          â”‚
â”‚  â”‚  - ç®­å¤´å‡½æ•° â†’    â”‚          â”‚  - Promise      â”‚          â”‚
â”‚  â”‚    æ™®é€šå‡½æ•°      â”‚          â”‚  - Array.from   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  - fetch        â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”‚  PostCSS        â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  - CSS è½¬æ¢      â”‚          â”‚  ç‰¹æ€§æ£€æµ‹        â”‚          â”‚
â”‚  â”‚  - è‡ªåŠ¨å‰ç¼€      â”‚          â”‚  - Modernizr    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  - æ¡ä»¶åŠ è½½      â”‚          â”‚
â”‚                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®åŒºåˆ«

| ç±»å‹ | è§£å†³é—®é¢˜ | ç¤ºä¾‹ | å·¥å…· |
|------|----------|------|------|
| è¯­æ³•è½¬æ¢ | æ–°è¯­æ³• â†’ æ—§è¯­æ³• | `() => {}` â†’ `function() {}` | Babel |
| API å«ç‰‡ | è¡¥å……ç¼ºå¤±çš„ API | `Promise`, `Array.includes` | core-js |
| CSS å…¼å®¹ | æ·»åŠ æµè§ˆå™¨å‰ç¼€ | `-webkit-transform` | autoprefixer |
| ç‰¹æ€§æ£€æµ‹ | åˆ¤æ–­æµè§ˆå™¨èƒ½åŠ› | `if ('fetch' in window)` | Modernizr |

---

## ğŸ”— ç›¸å…³èµ„æº

### å®˜æ–¹æ–‡æ¡£

- [Babel å®˜æ–¹æ–‡æ¡£](https://babeljs.io/)
- [core-js å®˜æ–¹æ–‡æ¡£](https://github.com/zloirock/core-js)
- [PostCSS å®˜æ–¹æ–‡æ¡£](https://postcss.org/)
- [browserslist](https://github.com/browserslist/browserslist)
- [Can I Use](https://caniuse.com/)

### æ¨èé˜…è¯»

- [Babel æ’ä»¶æ‰‹å†Œ](https://github.com/jamiebuilds/babel-handbook)
- [The cost of JavaScript](https://v8.dev/blog/cost-of-javascript-2019)

---

## ğŸ“ å­¦ä¹ å»ºè®®

1. **å…ˆç†è§£æ¦‚å¿µ**ï¼šåŒºåˆ†è¯­æ³•è½¬æ¢å’Œ API å«ç‰‡
2. **åŠ¨æ‰‹é…ç½®**ï¼šä»æœ€ç®€å•çš„é…ç½®å¼€å§‹
3. **æ£€æŸ¥äº§ç‰©**ï¼šè§‚å¯Ÿç¼–è¯‘åçš„ä»£ç å˜åŒ–
4. **ä¼˜åŒ–ä½“ç§¯**ï¼šæŒ‰éœ€åŠ è½½ã€é¿å…å†—ä½™
5. **æŒç»­å…³æ³¨**ï¼šæµè§ˆå™¨æ”¯æŒåœ¨æŒç»­æ”¹å–„
