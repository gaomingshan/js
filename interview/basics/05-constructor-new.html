<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ„é€ å‡½æ•°ä¸new - JavaScript é¢è¯•é¢˜</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .back-link {
            display: inline-block;
            color: #667eea;
            text-decoration: none;
            margin-bottom: 1.5rem;
            font-weight: 500;
        }
        
        .back-link:hover { text-decoration: underline; }
        
        h1 {
            color: #2d3748;
            margin-bottom: 0.5rem;
            font-size: 2rem;
        }
        
        .subtitle {
            color: #718096;
            margin-bottom: 2rem;
        }
        
        .quiz-item {
            background: #f7fafc;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border-left: 4px solid #667eea;
        }
        
        .quiz-item-header {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .difficulty {
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .difficulty.easy { background: #c6f6d5; color: #22543d; }
        .difficulty.medium { background: #feebc8; color: #7c2d12; }
        .difficulty.hard { background: #fed7d7; color: #742a2a; }
        
        .tag {
            background: #e2e8f0;
            color: #2d3748;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.875rem;
        }
        
        .question {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1rem;
        }
        
        .code-question {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
            margin-bottom: 1rem;
        }
        
        .code-question pre {
            margin: 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
        }
        
        .keyword { color: #c792ea; }
        .function { color: #82aaff; }
        .string { color: #c3e88d; }
        .number { color: #f78c6c; }
        .comment { color: #697098; }
        .operator { color: #89ddff; }
        .property { color: #ffcb6b; }
        .bracket { color: #89ddff; }
        
        .options {
            margin: 1rem 0;
        }
        
        .option {
            background: white;
            padding: 0.75rem;
            margin: 0.5rem 0;
            border-radius: 6px;
            cursor: pointer;
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
        }
        
        .option:hover {
            border-color: #667eea;
            background: #f7fafc;
        }
        
        .option.correct {
            border-color: #48bb78;
            background: #c6f6d5;
        }
        
        .option.wrong {
            border-color: #f56565;
            background: #fed7d7;
        }
        
        .btn-group {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .btn {
            padding: 0.5rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5568d3;
        }
        
        .btn-secondary {
            background: #e2e8f0;
            color: #2d3748;
        }
        
        .btn-secondary:hover {
            background: #cbd5e0;
        }
        
        .answer-section {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #48bb78;
        }
        
        .answer-section.show {
            display: block;
        }
        
        .answer-label {
            color: #48bb78;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .explanation {
            color: #4a5568;
            line-height: 1.8;
        }
        
        .explanation h4 {
            color: #2d3748;
            margin: 1rem 0 0.5rem 0;
        }
        
        .explanation ul {
            margin-left: 1.5rem;
        }
        
        .explanation pre {
            background: #f7fafc;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            margin: 0.5rem 0;
        }
        
        .source-tag {
            display: inline-block;
            margin-top: 1rem;
            color: #667eea;
            font-size: 0.875rem;
        }
        
        .nav-links {
            margin-top: 3rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .nav-links a {
            padding: 0.75rem 1.5rem;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¢è¯•é¢˜å¯¼èˆª</a>
        
        <h1>ğŸ—ï¸ æ„é€ å‡½æ•°ä¸new</h1>
        <p class="subtitle">æ·±å…¥ç†è§£newè¿ç®—ç¬¦çš„åŸç†å’Œæ„é€ å‡½æ•°çš„ä½¿ç”¨</p>
        
        <!-- Q1: newè¿ç®—ç¬¦çš„ä½œç”¨ -->
        <div class="quiz-item" data-question="1">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">newè¿ç®—ç¬¦</span>
            </div>
            
            <div class="question">Q1: newè¿ç®—ç¬¦åšäº†ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
<span class="bracket">}</span>

<span class="keyword">const</span> person <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span><span class="string">'Alice'</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> åˆ›å»ºç©ºå¯¹è±¡ â†’ è®¾ç½®åŸå‹ â†’ ç»‘å®šthisæ‰§è¡Œæ„é€ å‡½æ•° â†’ è¿”å›å¯¹è±¡
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> åªæ˜¯åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> å¤åˆ¶æ„é€ å‡½æ•°
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(1, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(1)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-1">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>newè¿ç®—ç¬¦çš„4ä¸ªæ­¥éª¤ï¼š</h4>
                    
                    <p><strong>1. åˆ›å»ºæ–°å¯¹è±¡ï¼š</strong></p>
                    <pre>const obj = {};</pre>
                    
                    <p><strong>2. è®¾ç½®åŸå‹ï¼š</strong></p>
                    <pre>obj.__proto__ = Person.prototype;</pre>
                    
                    <p><strong>3. ç»‘å®šthiså¹¶æ‰§è¡Œæ„é€ å‡½æ•°ï¼š</strong></p>
                    <pre>const result = Person.call(obj, 'Alice');</pre>
                    
                    <p><strong>4. è¿”å›å¯¹è±¡ï¼š</strong></p>
                    <pre>å¦‚æœæ„é€ å‡½æ•°è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡
å¦åˆ™è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡</pre>
                    
                    <h4>æ‰‹åŠ¨å®ç°newï¼š</h4>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">myNew</span><span class="bracket">(</span>constructor, ...args<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// 1. åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„prototype</span>
    <span class="keyword">const</span> obj <span class="operator">=</span> <span class="property">Object</span>.<span class="function">create</span><span class="bracket">(</span>constructor.<span class="property">prototype</span><span class="bracket">)</span>;
    
    <span class="comment">// 2. æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œç»‘å®šthis</span>
    <span class="keyword">const</span> result <span class="operator">=</span> constructor.<span class="function">apply</span><span class="bracket">(</span>obj, args<span class="bracket">)</span>;
    
    <span class="comment">// 3. å¦‚æœæ„é€ å‡½æ•°è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼›å¦åˆ™è¿”å›æ–°å¯¹è±¡</span>
    <span class="keyword">return</span> result <span class="keyword">instanceof</span> <span class="property">Object</span> <span class="operator">?</span> result <span class="operator">:</span> obj;
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="keyword">const</span> person <span class="operator">=</span> <span class="function">myNew</span><span class="bracket">(</span>Person, <span class="string">'Alice'</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šnewè¿ç®—ç¬¦</span>
            </div>
        </div>

        <!-- Q2: æ„é€ å‡½æ•°è¿”å›å€¼ -->
        <div class="quiz-item" data-question="2">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">æ„é€ å‡½æ•°è¿”å›å€¼</span>
            </div>
            
            <div class="question">Q2: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
    <span class="keyword">return</span> <span class="bracket">{</span> <span class="property">age</span><span class="operator">:</span> <span class="number">18</span> <span class="bracket">}</span>;
<span class="bracket">}</span>

<span class="keyword">const</span> person <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span><span class="string">'Alice'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>person.<span class="property">name</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>person.<span class="property">age</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> undefined, 18
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> 'Alice', 18
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> 'Alice', undefined
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> undefined, undefined
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(2, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(2)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-2">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>æ„é€ å‡½æ•°è¿”å›å€¼è§„åˆ™ï¼š</h4>
                    
                    <p><strong>è¿”å›å¯¹è±¡ï¼š</strong></p>
                    <ul>
                        <li>å¦‚æœæ„é€ å‡½æ•°æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œnewä¼šè¿”å›è¯¥å¯¹è±¡</li>
                        <li>thisä¸Šçš„å±æ€§ä¼šè¢«å¿½ç•¥</li>
                    </ul>
                    
                    <p><strong>è¿”å›åŸºæœ¬ç±»å‹ï¼š</strong></p>
                    <ul>
                        <li>å¦‚æœè¿”å›åŸºæœ¬ç±»å‹ï¼ˆæˆ–ä¸è¿”å›ï¼‰ï¼Œnewè¿”å›thiså¯¹è±¡</li>
                        <li>åŸºæœ¬ç±»å‹çš„è¿”å›å€¼ä¼šè¢«å¿½ç•¥</li>
                    </ul>
                    
                    <p><strong>åˆ†æï¼š</strong></p>
                    <pre>Personæ„é€ å‡½æ•°è¿”å› { age: 18 }ï¼ˆå¯¹è±¡ï¼‰
â†’ new Person() è¿”å›è¯¥å¯¹è±¡
â†’ person = { age: 18 }
â†’ person.name = undefined
â†’ person.age = 18</pre>
                    
                    <h4>ä¸åŒè¿”å›å€¼çš„å¯¹æ¯”ï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// 1. è¿”å›å¯¹è±¡ - ä½¿ç”¨è¿”å›çš„å¯¹è±¡</span>
<span class="keyword">function</span> <span class="function">A</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">x</span> <span class="operator">=</span> <span class="number">1</span>;
    <span class="keyword">return</span> <span class="bracket">{</span> <span class="property">y</span><span class="operator">:</span> <span class="number">2</span> <span class="bracket">}</span>;
<span class="bracket">}</span>
<span class="keyword">const</span> a <span class="operator">=</span> <span class="keyword">new</span> <span class="function">A</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// { y: 2 }</span>

<span class="comment">// 2. è¿”å›åŸºæœ¬ç±»å‹ - å¿½ç•¥è¿”å›å€¼</span>
<span class="keyword">function</span> <span class="function">B</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">x</span> <span class="operator">=</span> <span class="number">1</span>;
    <span class="keyword">return</span> <span class="number">123</span>;
<span class="bracket">}</span>
<span class="keyword">const</span> b <span class="operator">=</span> <span class="keyword">new</span> <span class="function">B</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// { x: 1 }</span>

<span class="comment">// 3. ä¸è¿”å› - è¿”å›this</span>
<span class="keyword">function</span> <span class="function">C</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">x</span> <span class="operator">=</span> <span class="number">1</span>;
<span class="bracket">}</span>
<span class="keyword">const</span> c <span class="operator">=</span> <span class="keyword">new</span> <span class="function">C</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// { x: 1 }</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ„é€ å‡½æ•°è¿”å›å€¼</span>
            </div>
        </div>

        <!-- Q3: ä¸ä½¿ç”¨newè°ƒç”¨æ„é€ å‡½æ•° -->
        <div class="quiz-item" data-question="3">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">æ„é€ å‡½æ•°è°ƒç”¨</span>
            </div>
            
            <div class="question">Q3: ä¸ä½¿ç”¨newè°ƒç”¨æ„é€ å‡½æ•°ä¼šæ€æ ·ï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
<span class="bracket">}</span>

<span class="keyword">const</span> person <span class="operator">=</span> <span class="function">Person</span><span class="bracket">(</span><span class="string">'Alice'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>person<span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="property">window</span>.<span class="property">name</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> undefined, 'Alice' (thisæŒ‡å‘window)
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> { name: 'Alice' }, undefined
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> TypeError
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> null, 'Alice'
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(3, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(3)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-3">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>ä¸ä½¿ç”¨newçš„åæœï¼š</h4>
                    
                    <p><strong>é—®é¢˜ï¼š</strong></p>
                    <ul>
                        <li>thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰æˆ–undefinedï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰</li>
                        <li>æ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œè¿”å›undefined</li>
                        <li>æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸ</li>
                    </ul>
                    
                    <p><strong>åˆ†æï¼š</strong></p>
                    <pre>Person('Alice')  // æ™®é€šå‡½æ•°è°ƒç”¨
â†’ thisæŒ‡å‘windowï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰
â†’ window.name = 'Alice'
â†’ å‡½æ•°æ²¡æœ‰è¿”å›å€¼ â†’ undefined</pre>
                    
                    <h4>è§£å†³æ–¹æ¡ˆï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// 1. ä½¿ç”¨new.targetæ£€æµ‹</span>
<span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span><span class="operator">!</span><span class="keyword">new</span>.<span class="property">target</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'å¿…é¡»ä½¿ç”¨newè°ƒç”¨'</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
<span class="bracket">}</span>

<span class="comment">// 2. ä½¿ç”¨instanceofæ£€æµ‹</span>
<span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span><span class="operator">!</span><span class="bracket">(</span><span class="keyword">this</span> <span class="keyword">instanceof</span> Person<span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span>;
    <span class="bracket">}</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
<span class="bracket">}</span>

<span class="comment">// 3. ä½¿ç”¨ES6 Classï¼ˆå¼ºåˆ¶newï¼‰</span>
<span class="keyword">class</span> <span class="function">Person</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
    <span class="bracket">}</span>
<span class="bracket">}</span>
<span class="comment">// Person('Alice'); // TypeError: Class constructor</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ„é€ å‡½æ•°è°ƒç”¨</span>
            </div>
        </div>

        <!-- Q4: æ‰‹åŠ¨å®ç°new -->
        <div class="quiz-item" data-question="4">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">æ‰‹åŠ¨å®ç°new</span>
            </div>
            
            <div class="question">Q4: ä»¥ä¸‹myNewå‡½æ•°æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">myNew</span><span class="bracket">(</span>constructor, ...args<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> obj <span class="operator">=</span> <span class="property">Object</span>.<span class="function">create</span><span class="bracket">(</span>constructor.<span class="property">prototype</span><span class="bracket">)</span>;
    constructor.<span class="function">apply</span><span class="bracket">(</span>obj, args<span class="bracket">)</span>;
    <span class="keyword">return</span> obj;
<span class="bracket">}</span></code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> æ²¡æœ‰å¤„ç†æ„é€ å‡½æ•°è¿”å›å¯¹è±¡çš„æƒ…å†µ
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> åŸå‹è®¾ç½®é”™è¯¯
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> thisç»‘å®šé”™è¯¯
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> æ²¡æœ‰é—®é¢˜
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(4, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(4)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-4">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>æ­£ç¡®çš„newå®ç°ï¼š</h4>
                    
                    <p><strong>é—®é¢˜ï¼š</strong></p>
                    <pre>å¦‚æœæ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåº”è¯¥è¿”å›è¯¥å¯¹è±¡
è€Œä¸æ˜¯æ€»æ˜¯è¿”å›åˆ›å»ºçš„obj</pre>
                    
                    <p><strong>å®Œæ•´å®ç°ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">myNew</span><span class="bracket">(</span>constructor, ...args<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// 1. åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„prototype</span>
    <span class="keyword">const</span> obj <span class="operator">=</span> <span class="property">Object</span>.<span class="function">create</span><span class="bracket">(</span>constructor.<span class="property">prototype</span><span class="bracket">)</span>;
    
    <span class="comment">// 2. æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œç»‘å®šthis</span>
    <span class="keyword">const</span> result <span class="operator">=</span> constructor.<span class="function">apply</span><span class="bracket">(</span>obj, args<span class="bracket">)</span>;
    
    <span class="comment">// 3. åˆ¤æ–­æ„é€ å‡½æ•°è¿”å›å€¼</span>
    <span class="comment">// å¦‚æœè¿”å›å¯¹è±¡ç±»å‹ï¼Œä½¿ç”¨è¿”å›çš„å¯¹è±¡ï¼›å¦åˆ™ä½¿ç”¨æ–°åˆ›å»ºçš„å¯¹è±¡</span>
    <span class="keyword">return</span> result <span class="keyword">instanceof</span> <span class="property">Object</span> <span class="operator">?</span> result <span class="operator">:</span> obj;
<span class="bracket">}</span>

<span class="comment">// æµ‹è¯•</span>
<span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
<span class="bracket">}</span>

<span class="keyword">const</span> p1 <span class="operator">=</span> <span class="function">myNew</span><span class="bracket">(</span>Person, <span class="string">'Alice'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>p1.<span class="property">name</span><span class="bracket">)</span>;  <span class="comment">// 'Alice'</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>p1 <span class="keyword">instanceof</span> Person<span class="bracket">)</span>;  <span class="comment">// true</span></code></pre></div>
                    
                    <h4>æ›´ä¸¥è°¨çš„å®ç°ï¼š</h4>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">myNew</span><span class="bracket">(</span>constructor, ...args<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// æ£€æŸ¥constructoræ˜¯å¦ä¸ºå‡½æ•°</span>
    <span class="keyword">if</span> <span class="bracket">(</span><span class="keyword">typeof</span> constructor <span class="operator">!==</span> <span class="string">'function'</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">TypeError</span><span class="bracket">(</span><span class="string">'constructor must be a function'</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="keyword">const</span> obj <span class="operator">=</span> <span class="property">Object</span>.<span class="function">create</span><span class="bracket">(</span>constructor.<span class="property">prototype</span><span class="bracket">)</span>;
    <span class="keyword">const</span> result <span class="operator">=</span> constructor.<span class="function">apply</span><span class="bracket">(</span>obj, args<span class="bracket">)</span>;
    
    <span class="comment">// æ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸ºå¯¹è±¡ï¼ˆæ’é™¤nullï¼‰</span>
    <span class="keyword">return</span> <span class="bracket">(</span>result <span class="operator">!==</span> <span class="keyword">null</span> <span class="operator">&&</span> <span class="keyword">typeof</span> result <span class="operator">===</span> <span class="string">'object'</span><span class="bracket">)</span> <span class="operator">||</span> <span class="keyword">typeof</span> result <span class="operator">===</span> <span class="string">'function'</span>
        <span class="operator">?</span> result
        <span class="operator">:</span> obj;
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ‰‹åŠ¨å®ç°new</span>
            </div>
        </div>

        <!-- Q5: new.target -->
        <div class="quiz-item" data-question="5">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">new.target</span>
            </div>
            
            <div class="question">Q5: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="keyword">new</span>.<span class="property">target</span> <span class="operator">===</span> Person<span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> true, false
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> true, true
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> false, false
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> true, undefined
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(5, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(5)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-5">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>new.targetå…ƒå±æ€§ï¼š</h4>
                    
                    <p><strong>ä½œç”¨ï¼š</strong></p>
                    <ul>
                        <li>æ£€æµ‹å‡½æ•°æ˜¯å¦é€šè¿‡newè°ƒç”¨</li>
                        <li>newè°ƒç”¨æ—¶ï¼Œnew.targetæŒ‡å‘æ„é€ å‡½æ•°</li>
                        <li>æ™®é€šè°ƒç”¨æ—¶ï¼Œnew.targetä¸ºundefined</li>
                    </ul>
                    
                    <p><strong>åˆ†æï¼š</strong></p>
                    <pre>new Person()
â†’ new.target === Person â†’ true

Person()
â†’ new.target === undefined
â†’ undefined === Person â†’ false</pre>
                    
                    <h4>åº”ç”¨åœºæ™¯ï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// 1. å¼ºåˆ¶ä½¿ç”¨new</span>
<span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span><span class="operator">!</span><span class="keyword">new</span>.<span class="property">target</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'å¿…é¡»ä½¿ç”¨newè°ƒç”¨Person'</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
<span class="bracket">}</span>

<span class="comment">// 2. åˆ¤æ–­ç»§æ‰¿å…³ç³»</span>
<span class="keyword">class</span> <span class="function">Parent</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="keyword">new</span>.<span class="property">target</span>.<span class="property">name</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="keyword">class</span> <span class="function">Child</span> <span class="keyword">extends</span> Parent <span class="bracket">{</span><span class="bracket">}</span>

<span class="keyword">new</span> <span class="function">Parent</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// 'Parent'</span>
<span class="keyword">new</span> <span class="function">Child</span><span class="bracket">(</span><span class="bracket">)</span>;   <span class="comment">// 'Child'</span>

<span class="comment">// 3. æŠ½è±¡åŸºç±»</span>
<span class="keyword">class</span> <span class="function">Abstract</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">if</span> <span class="bracket">(</span><span class="keyword">new</span>.<span class="property">target</span> <span class="operator">===</span> Abstract<span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–'</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šnew.target</span>
            </div>
        </div>

        <!-- Q6: constructorå±æ€§ -->
        <div class="quiz-item" data-question="6">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">constructorå±æ€§</span>
            </div>
            
            <div class="question">Q6: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span><span class="bracket">}</span>

<span class="property">Person</span>.<span class="property">prototype</span> <span class="operator">=</span> <span class="bracket">{</span>
    <span class="function">getName</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span> <span class="keyword">return</span> <span class="string">'Alice'</span>; <span class="bracket">}</span>
<span class="bracket">}</span>;

<span class="keyword">const</span> p <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>p.<span class="property">constructor</span> <span class="operator">===</span> Person<span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>p.<span class="property">constructor</span> <span class="operator">===</span> <span class="property">Object</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> false, true
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> true, false
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> true, true
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> false, false
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(6, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(6)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-6">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>constructorå±æ€§ï¼š</h4>
                    
                    <p><strong>é—®é¢˜ï¼š</strong></p>
                    <pre>ç›´æ¥èµ‹å€¼æ–°å¯¹è±¡ç»™prototypeä¼šä¸¢å¤±constructorå±æ€§</pre>
                    
                    <p><strong>åˆ†æï¼š</strong></p>
                    <pre>Person.prototype = { getName... }
â†’ ä¸¢å¤±äº†constructorå±æ€§
â†’ p.constructor â†’ Object.prototype.constructor â†’ Object

æ­£ç¡®åšæ³•ï¼š
Person.prototype = {
    constructor: Person,  // æ‰‹åŠ¨æ·»åŠ 
    getName() { ... }
};</pre>
                    
                    <h4>ä¿®å¤constructorï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// æ–¹æ³•1ï¼šæ‰‹åŠ¨è®¾ç½®constructor</span>
<span class="property">Person</span>.<span class="property">prototype</span> <span class="operator">=</span> <span class="bracket">{</span>
    <span class="property">constructor</span><span class="operator">:</span> Person,
    <span class="function">getName</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span> <span class="keyword">return</span> <span class="string">'Alice'</span>; <span class="bracket">}</span>
<span class="bracket">}</span>;

<span class="comment">// æ–¹æ³•2ï¼šä½¿ç”¨definePropertyï¼ˆä¸å¯æšä¸¾ï¼‰</span>
<span class="property">Person</span>.<span class="property">prototype</span> <span class="operator">=</span> <span class="bracket">{</span>
    <span class="function">getName</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span> <span class="keyword">return</span> <span class="string">'Alice'</span>; <span class="bracket">}</span>
<span class="bracket">}</span>;
<span class="property">Object</span>.<span class="function">defineProperty</span><span class="bracket">(</span><span class="property">Person</span>.<span class="property">prototype</span>, <span class="string">'constructor'</span>, <span class="bracket">{</span>
    <span class="property">value</span><span class="operator">:</span> Person,
    <span class="property">writable</span><span class="operator">:</span> <span class="keyword">true</span>,
    <span class="property">enumerable</span><span class="operator">:</span> <span class="keyword">false</span>,  <span class="comment">// ä¸å¯æšä¸¾</span>
    <span class="property">configurable</span><span class="operator">:</span> <span class="keyword">true</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// æ–¹æ³•3ï¼šç›´æ¥æ·»åŠ æ–¹æ³•ï¼ˆæ¨èï¼‰</span>
<span class="property">Person</span>.<span class="property">prototype</span>.<span class="property">getName</span> <span class="operator">=</span> <span class="keyword">function</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="string">'Alice'</span>;
<span class="bracket">}</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šconstructorå±æ€§</span>
            </div>
        </div>

        <!-- Q7: instanceofä¸new -->
        <div class="quiz-item" data-question="7">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">instanceof</span>
            </div>
            
            <div class="question">Q7: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="bracket">{</span> <span class="property">name</span><span class="operator">:</span> <span class="string">'Alice'</span> <span class="bracket">}</span>;
<span class="bracket">}</span>

<span class="keyword">const</span> p <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>p <span class="keyword">instanceof</span> Person<span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>p <span class="keyword">instanceof</span> <span class="property">Object</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> false, true
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> true, true
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> true, false
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> false, false
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(7, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(7)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-7">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>æ„é€ å‡½æ•°è¿”å›å¯¹è±¡å½±å“instanceofï¼š</h4>
                    
                    <p><strong>åˆ†æï¼š</strong></p>
                    <pre>Person()è¿”å› { name: 'Alice' }ï¼ˆå¯¹è±¡ï¼‰
â†’ new Person() è¿”å›è¯¥å¯¹è±¡ï¼Œè€Œä¸æ˜¯åˆ›å»ºçš„å®ä¾‹
â†’ p = { name: 'Alice' }ï¼ˆæ™®é€šå¯¹è±¡å­—é¢é‡ï¼‰

p instanceof Person
â†’ æ£€æŸ¥ p çš„åŸå‹é“¾æ˜¯å¦åŒ…å« Person.prototype
â†’ p.__proto__ === Object.prototypeï¼ˆä¸æ˜¯Person.prototypeï¼‰
â†’ false

p instanceof Object
â†’ p.__proto__ === Object.prototype â†’ true</pre>
                    
                    <h4>instanceofæ£€æµ‹åŸç†ï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// æ‰‹åŠ¨å®ç°instanceof</span>
<span class="keyword">function</span> <span class="function">myInstanceof</span><span class="bracket">(</span>obj, constructor<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">let</span> proto <span class="operator">=</span> <span class="property">Object</span>.<span class="function">getPrototypeOf</span><span class="bracket">(</span>obj<span class="bracket">)</span>;
    
    <span class="keyword">while</span> <span class="bracket">(</span>proto<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">if</span> <span class="bracket">(</span>proto <span class="operator">===</span> constructor.<span class="property">prototype</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">return</span> <span class="keyword">true</span>;
        <span class="bracket">}</span>
        proto <span class="operator">=</span> <span class="property">Object</span>.<span class="function">getPrototypeOf</span><span class="bracket">(</span>proto<span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="keyword">return</span> <span class="keyword">false</span>;
<span class="bracket">}</span>

<span class="comment">// æµ‹è¯•</span>
<span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="bracket">{</span> <span class="property">name</span><span class="operator">:</span> <span class="string">'Alice'</span> <span class="bracket">}</span>;
<span class="bracket">}</span>
<span class="keyword">const</span> p <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span><span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">myInstanceof</span><span class="bracket">(</span>p, Person<span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// false</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">myInstanceof</span><span class="bracket">(</span>p, <span class="property">Object</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// true</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šinstanceofä¸new</span>
            </div>
        </div>

        <!-- Q8: æ„é€ å‡½æ•°ä¸this -->
        <div class="quiz-item" data-question="8">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">thisæŒ‡å‘</span>
            </div>
            
            <div class="question">Q8: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
    
    <span class="keyword">this</span>.<span class="property">getName</span> <span class="operator">=</span> <span class="keyword">function</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="keyword">this</span>.<span class="property">name</span>;
    <span class="bracket">}</span>;
<span class="bracket">}</span>

<span class="keyword">const</span> p <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span><span class="string">'Alice'</span><span class="bracket">)</span>;
<span class="keyword">const</span> getName <span class="operator">=</span> p.<span class="property">getName</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>p.<span class="function">getName</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getName</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> 'Alice', undefined
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> 'Alice', 'Alice'
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> undefined, undefined
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> 'Alice', TypeError
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(8, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(8)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-8">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>æ„é€ å‡½æ•°ä¸­thisçš„æ³¨æ„äº‹é¡¹ï¼š</h4>
                    
                    <p><strong>åˆ†æï¼š</strong></p>
                    <pre>p.getName()
â†’ thisæŒ‡å‘p
â†’ this.name === p.name === 'Alice'

getName()
â†’ æ™®é€šå‡½æ•°è°ƒç”¨ï¼ŒthisæŒ‡å‘window/undefinedï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰
â†’ this.name === window.name === undefined</pre>
                    
                    <h4>è§£å†³æ–¹æ¡ˆï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// 1. ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼ˆè‡ªåŠ¨ç»‘å®šthisï¼‰</span>
<span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
    
    <span class="keyword">this</span>.<span class="property">getName</span> <span class="operator">=</span> <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="keyword">this</span>.<span class="property">name</span>;  <span class="comment">// thisæ€»æ˜¯æŒ‡å‘å®ä¾‹</span>
    <span class="bracket">}</span>;
<span class="bracket">}</span>

<span class="comment">// 2. æ‰‹åŠ¨bind</span>
<span class="keyword">const</span> getName <span class="operator">=</span> p.<span class="property">getName</span>.<span class="function">bind</span><span class="bracket">(</span>p<span class="bracket">)</span>;

<span class="comment">// 3. ä½¿ç”¨åŸå‹æ–¹æ³•ï¼ˆæ¨èï¼‰</span>
<span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
<span class="bracket">}</span>

<span class="property">Person</span>.<span class="property">prototype</span>.<span class="property">getName</span> <span class="operator">=</span> <span class="keyword">function</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="property">name</span>;
<span class="bracket">}</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ„é€ å‡½æ•°ä¸this</span>
            </div>
        </div>

        <!-- Q9: å·¥å‚å‡½æ•° vs æ„é€ å‡½æ•° -->
        <div class="quiz-item" data-question="9">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">è®¾è®¡æ¨¡å¼</span>
            </div>
            
            <div class="question">Q9: å·¥å‚å‡½æ•°ä¸æ„é€ å‡½æ•°çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> å·¥å‚å‡½æ•°ä¸ä½¿ç”¨newï¼Œæ˜¾å¼è¿”å›å¯¹è±¡ï¼›æ„é€ å‡½æ•°éœ€è¦new
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å·¥å‚å‡½æ•°æ›´å¿«
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> æ„é€ å‡½æ•°æ›´ç®€å•
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> æ²¡æœ‰åŒºåˆ«
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(9, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(9)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-9">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å·¥å‚å‡½æ•° vs æ„é€ å‡½æ•°ï¼š</h4>
                    
                    <div class="code-question"><pre><code><span class="comment">// æ„é€ å‡½æ•°ï¼ˆéœ€è¦newï¼‰</span>
<span class="keyword">function</span> <span class="function">Person</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">name</span> <span class="operator">=</span> name;
<span class="bracket">}</span>

<span class="keyword">const</span> p1 <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Person</span><span class="bracket">(</span><span class="string">'Alice'</span><span class="bracket">)</span>;

<span class="comment">// å·¥å‚å‡½æ•°ï¼ˆæ™®é€šè°ƒç”¨ï¼‰</span>
<span class="keyword">function</span> <span class="function">createPerson</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="bracket">{</span>
        <span class="property">name</span>,
        <span class="function">getName</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">return</span> <span class="keyword">this</span>.<span class="property">name</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>;
<span class="bracket">}</span>

<span class="keyword">const</span> p2 <span class="operator">=</span> <span class="function">createPerson</span><span class="bracket">(</span><span class="string">'Bob'</span><span class="bracket">)</span>;  <span class="comment">// ä¸éœ€è¦new</span></code></pre></div>
                    
                    <h4>å¯¹æ¯”ï¼š</h4>
                    <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                        <thead>
                            <tr style="background: #f7fafc;">
                                <th style="padding: 0.5rem; border: 1px solid #e2e8f0;">ç‰¹æ€§</th>
                                <th style="padding: 0.5rem; border: 1px solid #e2e8f0;">æ„é€ å‡½æ•°</th>
                                <th style="padding: 0.5rem; border: 1px solid #e2e8f0;">å·¥å‚å‡½æ•°</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">è°ƒç”¨æ–¹å¼</td>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">new Person()</td>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">createPerson()</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">åŸå‹é“¾</td>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">æœ‰ï¼ˆinstanceofå¯ç”¨ï¼‰</td>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">æ— </td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">æ–¹æ³•å…±äº«</td>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">é€šè¿‡prototype</td>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">éœ€æ‰‹åŠ¨å¤„ç†</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">çµæ´»æ€§</td>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">è¾ƒä½</td>
                                <td style="padding: 0.5rem; border: 1px solid #e2e8f0;">æ›´çµæ´»</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå·¥å‚å‡½æ•°vsæ„é€ å‡½æ•°</span>
            </div>
        </div>

        <!-- Q10: ç»¼åˆé¢˜ -->
        <div class="quiz-item" data-question="10">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">ç»¼åˆ</span>
            </div>
            
            <div class="question">Q10: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">Foo</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">this</span>.<span class="property">value</span> <span class="operator">=</span> <span class="number">42</span>;
    <span class="keyword">return</span> <span class="bracket">{</span>
        <span class="property">value</span><span class="operator">:</span> <span class="keyword">this</span>.<span class="property">value</span> <span class="operator">+</span> <span class="number">1</span>
    <span class="bracket">}</span>;
<span class="bracket">}</span>

<span class="property">Foo</span>.<span class="property">prototype</span>.<span class="property">getValue</span> <span class="operator">=</span> <span class="keyword">function</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="property">value</span>;
<span class="bracket">}</span>;

<span class="keyword">const</span> foo <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Foo</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>foo.<span class="property">value</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>foo.<span class="function">getValue</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>foo <span class="keyword">instanceof</span> Foo<span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> 43, TypeError, false
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> 43, 43, false
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> 42, 42, true
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> 43, 43, true
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(10, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(10)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-10">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>ç»¼åˆåˆ†æï¼š</h4>
                    
                    <p><strong>æ­¥éª¤åˆ†è§£ï¼š</strong></p>
                    <pre>1. new Foo()
   â†’ åˆ›å»ºç©ºå¯¹è±¡ obj
   â†’ è®¾ç½® obj.__proto__ = Foo.prototype
   â†’ æ‰§è¡ŒFoo.call(obj)
      - this.value = 42 ï¼ˆobj.value = 42ï¼‰
      - return { value: this.value + 1 }
      - return { value: 43 }
   â†’ æ„é€ å‡½æ•°è¿”å›å¯¹è±¡ï¼Œä½¿ç”¨è¯¥å¯¹è±¡
   â†’ foo = { value: 43 }

2. foo.value â†’ 43

3. foo.getValue()
   â†’ fooæ²¡æœ‰getValueæ–¹æ³•
   â†’ TypeError: foo.getValue is not a function

4. foo instanceof Foo
   â†’ fooçš„åŸå‹é“¾ï¼š{ value: 43 } â†’ Object.prototype
   â†’ ä¸åŒ…å«Foo.prototype
   â†’ false</pre>
                    
                    <h4>å…³é”®ç‚¹ï¼š</h4>
                    <ul>
                        <li>æ„é€ å‡½æ•°è¿”å›å¯¹è±¡ä¼šä¸¢å¤±åŸå‹é“¾</li>
                        <li>è¿”å›çš„å¯¹è±¡ä¸èƒ½è®¿é—®prototypeä¸Šçš„æ–¹æ³•</li>
                        <li>instanceofæ£€æµ‹ä¼šå¤±æ•ˆ</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šnewè¿ç®—ç¬¦ç»¼åˆåº”ç”¨</span>
            </div>
        </div>

        <div class="nav-links" style="margin-top: 3rem; display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="05-inheritance.html" style="padding: 0.75rem 1.5rem; background: #e2e8f0; color: #2d3748; text-decoration: none; border-radius: 6px;">â¬…ï¸ ä¸Šä¸€èŠ‚ï¼šç»§æ‰¿æ–¹å¼</a>
            <a href="../index.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">ğŸ“‹ é¢è¯•é¢˜å¯¼èˆª</a>
        </div>
    </div>
    
    <script>
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const questionDiv = this.closest('.quiz-item');
                const questionNum = questionDiv.dataset.question;
                const selectedAnswer = this.dataset.answer;
                
                checkAnswer(questionNum, selectedAnswer);
            });
        });
        
        function checkAnswer(questionNum, answer) {
            const questionDiv = document.querySelector(`[data-question="${questionNum}"]`);
            const options = questionDiv.querySelectorAll('.option');
            const answerSection = document.getElementById(`answer-${questionNum}`);
            
            options.forEach(opt => {
                opt.classList.remove('correct', 'wrong');
                if (opt.dataset.answer === answer) {
                    const correctAnswer = answerSection.querySelector('.answer-label').textContent.includes(answer);
                    opt.classList.add(correctAnswer ? 'correct' : 'wrong');
                }
            });
            
            answerSection.classList.add('show');
        }
        
        function showAnswer(questionNum) {
            const answerSection = document.getElementById(`answer-${questionNum}`);
            answerSection.classList.add('show');
        }
    </script>
</body>
</html>
