<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç±»å‹è½¬æ¢ä¸åˆ¤æ–­ - é¢è¯•é¢˜ç²¾é€‰</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/page.css">
    <style>
        .quiz-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .quiz-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .back-link {
            display: inline-block;
            color: white;
            text-decoration: none;
            margin-bottom: 1rem;
            opacity: 0.9;
        }
        
        .back-link:hover {
            opacity: 1;
        }
        
        .quiz-stats {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        
        .quiz-item {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .quiz-item-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .difficulty {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .difficulty.easy {
            background: #d4edda;
            color: #155724;
        }
        
        .difficulty.medium {
            background: #fff3cd;
            color: #856404;
        }
        
        .difficulty.hard {
            background: #f8d7da;
            color: #721c24;
        }
        
        .tag {
            background: #e7f3ff;
            color: #0066cc;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
        }
        
        .question {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1.5rem;
        }
        
        .code-question {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 0;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
            position: relative;
        }
        
        .code-question::before {
            content: 'JavaScript';
            position: absolute;
            top: 0.5rem;
            right: 0.75rem;
            background: #3c3c3c;
            color: #858585;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .code-question pre {
            margin: 0;
            padding: 1.5rem;
            padding-top: 2.5rem;
        }
        
        .code-question code {
            font-family: inherit;
        }
        
        /* è¯­æ³•é«˜äº®é¢œè‰² */
        .code-question .keyword {
            color: #c586c0;
        }
        
        .code-question .function {
            color: #dcdcaa;
        }
        
        .code-question .string {
            color: #ce9178;
        }
        
        .code-question .number {
            color: #b5cea8;
        }
        
        .code-question .comment {
            color: #6a9955;
            font-style: italic;
        }
        
        .code-question .operator {
            color: #d4d4d4;
        }
        
        .code-question .property {
            color: #9cdcfe;
        }
        
        .code-question .bracket {
            color: #ffd700;
        }
        
        .options {
            margin: 1.5rem 0;
        }
        
        .option {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            border-color: #667eea;
            background: #eef2ff;
        }
        
        .option.selected {
            border-color: #667eea;
            background: #eef2ff;
        }
        
        .option.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }
        
        .option.wrong {
            border-color: #f56565;
            background: #fff5f5;
        }
        
        .answer-section {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: #f7fafc;
            border-radius: 8px;
            display: none;
        }
        
        .answer-section.show {
            display: block;
        }
        
        .answer-label {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.5rem;
        }
        
        .explanation {
            color: #4a5568;
            line-height: 1.8;
        }
        
        .explanation h4 {
            color: #2d3748;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .explanation code {
            background: #edf2f7;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.9em;
        }
        
        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5a67d8;
        }
        
        .btn-secondary {
            background: #e2e8f0;
            color: #2d3748;
        }
        
        .btn-secondary:hover {
            background: #cbd5e0;
        }
        
        .btn-run {
            background: #48bb78;
            color: white;
        }
        
        .btn-run:hover {
            background: #38a169;
        }
        
        .code-output {
            background: #1e1e1e;
            color: #4ec9b0;
            padding: 0;
            border-radius: 6px;
            margin-top: 1rem;
            font-family: 'Consolas', 'Monaco', monospace;
            white-space: pre-wrap;
            display: none;
            border: 2px solid #48bb78;
            position: relative;
        }
        
        .code-output::before {
            content: 'âœ… è¿è¡Œç»“æœ';
            display: block;
            background: #48bb78;
            color: white;
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
            font-weight: 600;
            border-radius: 4px 4px 0 0;
        }
        
        .code-output pre {
            margin: 0;
            padding: 1rem;
        }
        
        .code-output.show {
            display: block;
        }
        
        .source-tag {
            display: inline-block;
            background: #fef5e7;
            color: #d68910;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <a href="../../basics/01-type-conversion.html" class="back-link">â† è¿”å›å­¦ä¹ å†…å®¹</a>
            <h1>ğŸ“ ç±»å‹è½¬æ¢ä¸åˆ¤æ–­ - é¢è¯•é¢˜ç²¾é€‰</h1>
            <div class="quiz-stats">
                <span>ğŸŸ¢ åŸºç¡€ 3é¢˜</span>
                <span>ğŸŸ¡ è¿›é˜¶ 4é¢˜</span>
                <span>ğŸ”´ å›°éš¾ 3é¢˜</span>
                <span>ğŸ“Š æ€»è®¡ 10é¢˜</span>
            </div>
        </div>

        <!-- Q1: ç»å…¸é™·é˜± - ç©ºæ•°ç»„ç›¸åŠ  -->
        <div class="quiz-item" data-question="1">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">ToPrimitive</span>
                <span class="tag">toString</span>
            </div>
            
            <div class="question">Q1: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="bracket">[</span><span class="bracket">]</span> <span class="operator">+</span> <span class="bracket">[</span><span class="bracket">]</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="bracket">[</span><span class="bracket">]</span> <span class="operator">+</span> <span class="bracket">{</span><span class="bracket">}</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="bracket">{</span><span class="bracket">}</span> <span class="operator">+</span> <span class="bracket">[</span><span class="bracket">]</span><span class="bracket">)</span>;  <span class="comment">// åœ¨è¡¨è¾¾å¼ä¸­</span></code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> <code>""</code>, <code>"[object Object]"</code>, <code>"[object Object]"</code>
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> <code>[]</code>, <code>[object Object]</code>, <code>0</code>
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> <code>""</code>, <code>""</code>, <code>""</code>
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> <code>"[][]"</code>, <code>"[]{}"</code>, <code>"{}[]"</code>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(1, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(1)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-1">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>æ‰§è¡Œè¿‡ç¨‹è¯¦è§£ï¼š</h4>
                    
                    <p><strong>1. <code>[] + []</code></strong></p>
                    <ul>
                        <li>æ‰§è¡Œ <code>ToPrimitive([])</code> â†’ <code>valueOf()</code> è¿”å› <code>[]</code>ï¼ˆéåŸå§‹å€¼ï¼‰</li>
                        <li>è°ƒç”¨ <code>toString()</code> â†’ è¿”å› <code>""</code></li>
                        <li><code>"" + ""</code> â†’ <code>""</code></li>
                    </ul>
                    
                    <p><strong>2. <code>[] + {}</code></strong></p>
                    <ul>
                        <li><code>ToPrimitive([])</code> â†’ <code>""</code></li>
                        <li><code>ToPrimitive({})</code> â†’ <code>"[object Object]"</code></li>
                        <li><code>"" + "[object Object]"</code> â†’ <code>"[object Object]"</code></li>
                    </ul>
                    
                    <p><strong>3. <code>{} + []</code>ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰</strong></p>
                    <ul>
                        <li>å½“ <code>{}</code> åœ¨è¡¨è¾¾å¼ä¸­æ—¶ï¼Œè¢«å½“ä½œå¯¹è±¡å­—é¢é‡</li>
                        <li><code>ToPrimitive({})</code> â†’ <code>"[object Object]"</code></li>
                        <li><code>ToPrimitive([])</code> â†’ <code>""</code></li>
                        <li><code>"[object Object]" + ""</code> â†’ <code>"[object Object]"</code></li>
                    </ul>
                    
                    <h4>å…³é”®çŸ¥è¯†ç‚¹ï¼š</h4>
                    <ul>
                        <li>åŠ æ³•è¿ç®—ç¬¦å…ˆæ‰§è¡Œ <code>ToPrimitive</code></li>
                        <li>æ•°ç»„çš„ <code>toString()</code> è¿”å›å…ƒç´ ç”¨é€—å·è¿æ¥çš„å­—ç¬¦ä¸²</li>
                        <li>ç©ºæ•°ç»„çš„ <code>toString()</code> è¿”å›ç©ºå­—ç¬¦ä¸² <code>""</code></li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šé˜¿é‡Œã€å­—èŠ‚é«˜é¢‘é¢è¯•é¢˜</span>
            </div>
        </div>

        <!-- Q2: ç›¸ç­‰æ€§æ¯”è¾ƒ -->
        <div class="quiz-item" data-question="2">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">== ç®—æ³•</span>
                <span class="tag">ç±»å‹è½¬æ¢</span>
            </div>
            
            <div class="question">Q2: ä»¥ä¸‹å“ªäº›è¡¨è¾¾å¼çš„ç»“æœä¸º <code>true</code>ï¼Ÿï¼ˆå¤šé€‰ï¼‰</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> <code>[] == ![]</code>
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> <code>null == undefined</code>
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> <code>"5" == 5</code>
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> <code>0 == "0"</code>
                </div>
                <div class="option" data-answer="E">
                    <strong>E.</strong> <code>false == "false"</code>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswerMultiple(2, ['A', 'B', 'C', 'D'])">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(2)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-2">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šAã€Bã€Cã€D</div>
                <div class="explanation">
                    <h4>é€ä¸ªåˆ†æï¼š</h4>
                    
                    <p><strong>A. <code>[] == ![]</code> â†’ true</strong></p>
                    <pre>æ­¥éª¤1: ![] â†’ !true â†’ false
æ­¥éª¤2: [] == false
æ­¥éª¤3: ToNumber(false) â†’ 0, æ‰€ä»¥ [] == 0
æ­¥éª¤4: ToPrimitive([]) â†’ "", æ‰€ä»¥ "" == 0
æ­¥éª¤5: ToNumber("") â†’ 0, æ‰€ä»¥ 0 == 0 â†’ true</pre>
                    
                    <p><strong>B. <code>null == undefined</code> â†’ true</strong></p>
                    <pre>ç‰¹æ®Šè§„åˆ™ï¼š== ç®—æ³•çš„è§„åˆ™2
null å’Œ undefined äº’ç›¸ == æ¯”è¾ƒæ—¶è¿”å› true</pre>
                    
                    <p><strong>C. <code>"5" == 5</code> â†’ true</strong></p>
                    <pre>è§„åˆ™4: String vs Number
ToNumber("5") â†’ 5
5 == 5 â†’ true</pre>
                    
                    <p><strong>D. <code>0 == "0"</code> â†’ true</strong></p>
                    <pre>è§„åˆ™3: Number vs String
ToNumber("0") â†’ 0
0 == 0 â†’ true</pre>
                    
                    <p><strong>E. <code>false == "false"</code> â†’ false âŒ</strong></p>
                    <pre>è§„åˆ™6: Boolean å…ˆè½¬ Number
ToNumber(false) â†’ 0
0 == "false"
ToNumber("false") â†’ NaN
0 == NaN â†’ false</pre>
                    
                    <h4>æ ¸å¿ƒè§„åˆ™ï¼š</h4>
                    <ul>
                        <li>Boolean ç±»å‹ä¼šå…ˆè½¬ä¸º Numberï¼ˆtrueâ†’1, falseâ†’0ï¼‰</li>
                        <li>String vs Number æ—¶ï¼ŒString è½¬ Number</li>
                        <li>Object vs Primitive æ—¶ï¼ŒObject æ‰§è¡Œ ToPrimitive</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå„å¤§å…¬å¸å¿…è€ƒåŸºç¡€é¢˜</span>
            </div>
        </div>

        <!-- Q3: ç±»å‹åˆ¤æ–­å‡½æ•° -->
        <div class="quiz-item" data-question="3">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">ç±»å‹åˆ¤æ–­</span>
                <span class="tag">æ‰‹å†™ä»£ç </span>
            </div>
            
            <div class="question">Q3: å®ç°ä¸€ä¸ªç²¾ç¡®çš„ç±»å‹åˆ¤æ–­å‡½æ•°</div>
            
            <div class="code-question"><pre><code><span class="comment"></span>/**
 * å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½å¤Ÿç²¾ç¡®åˆ¤æ–­ä»»ä½•JavaScriptå€¼çš„ç±»å‹
 * @param {*} value - è¦åˆ¤æ–­çš„å€¼
 * @return {string} - ç±»å‹åç§°
 */</span>
<span class="keyword">function</span> <span class="function">getType</span><span class="bracket">(</span>value<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// è¯·å®ç°</span>
<span class="bracket">}</span>

<span class="comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="bracket">[</span><span class="bracket">]</span><span class="bracket">)</span><span class="bracket">)</span>;           <span class="comment">// "Array"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="bracket">{</span><span class="bracket">}</span><span class="bracket">)</span><span class="bracket">)</span>;           <span class="comment">// "Object"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="keyword">null</span><span class="bracket">)</span><span class="bracket">)</span>;         <span class="comment">// "Null"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="keyword">undefined</span><span class="bracket">)</span><span class="bracket">)</span>;    <span class="comment">// "Undefined"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="number">123</span><span class="bracket">)</span><span class="bracket">)</span>;          <span class="comment">// "Number"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="string">'abc'</span><span class="bracket">)</span><span class="bracket">)</span>;        <span class="comment">// "String"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span><span class="bracket">)</span>;         <span class="comment">// "Boolean"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="function">Symbol</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">)</span><span class="bracket">)</span>;     <span class="comment">// "Symbol"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="number">123n</span><span class="bracket">)</span><span class="bracket">)</span>;         <span class="comment">// "BigInt"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="keyword">new</span> <span class="function">Date</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">)</span><span class="bracket">)</span>;   <span class="comment">// "Date"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="string">/regex/</span><span class="bracket">)</span><span class="bracket">)</span>;      <span class="comment">// "RegExp"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">getType</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span><span class="bracket">}</span><span class="bracket">)</span><span class="bracket">)</span>;     <span class="comment">// "Function"</span></code></pre></div>
            
            <div class="btn-group">
                <button class="btn btn-run" onclick="runCode(3)">è¿è¡Œæµ‹è¯•</button>
                <button class="btn btn-secondary" onclick="showAnswer(3)">æŸ¥çœ‹ç­”æ¡ˆ</button>
            </div>
            
            <div class="code-output" id="output-3"></div>
            
            <div class="answer-section" id="answer-3">
                <div class="answer-label">âœ… å‚è€ƒç­”æ¡ˆï¼š</div>
                <div class="code-question">function getType(value) {
    // ä½¿ç”¨ Object.prototype.toString.call() è·å–ç²¾ç¡®ç±»å‹
    return Object.prototype.toString.call(value).slice(8, -1);
}

// è§£é‡Šï¼š
// Object.prototype.toString.call([]) â†’ "[object Array]"
// .slice(8, -1) æå– "Array" éƒ¨åˆ†</div>
                
                <div class="explanation">
                    <h4>ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ³•æœ€å‡†ç¡®ï¼Ÿ</h4>
                    
                    <p><strong>1. typeof çš„å±€é™æ€§ï¼š</strong></p>
                    <ul>
                        <li><code>typeof null</code> â†’ <code>"object"</code> âŒï¼ˆå†å²bugï¼‰</li>
                        <li><code>typeof []</code> â†’ <code>"object"</code> âŒï¼ˆæ— æ³•åŒºåˆ†æ•°ç»„ï¼‰</li>
                        <li><code>typeof new Date()</code> â†’ <code>"object"</code> âŒï¼ˆæ— æ³•åŒºåˆ†å…·ä½“å¯¹è±¡ç±»å‹ï¼‰</li>
                    </ul>
                    
                    <p><strong>2. instanceof çš„å±€é™æ€§ï¼š</strong></p>
                    <ul>
                        <li>æ— æ³•åˆ¤æ–­åŸå§‹ç±»å‹ï¼š<code>123 instanceof Number</code> â†’ <code>false</code></li>
                        <li>è·¨iframeæœ‰é—®é¢˜ï¼š<code>[] instanceof Array</code> å¯èƒ½å¤±è´¥</li>
                    </ul>
                    
                    <p><strong>3. Object.prototype.toString çš„ä¼˜åŠ¿ï¼š</strong></p>
                    <ul>
                        <li>èƒ½å‡†ç¡®åˆ¤æ–­æ‰€æœ‰ç±»å‹ï¼ŒåŒ…æ‹¬å†…ç½®å¯¹è±¡</li>
                        <li>åŸºäºå†…éƒ¨ <code>[[Class]]</code> å±æ€§</li>
                        <li>ä¸å—åŸå‹é“¾å½±å“</li>
                    </ul>
                    
                    <h4>æ‰©å±•çŸ¥è¯†ï¼š</h4>
                    <p>åœ¨ ES6+ ä¸­ï¼Œè¿˜å¯ä»¥é€šè¿‡ <code>Symbol.toStringTag</code> è‡ªå®šä¹‰ç±»å‹æ ‡ç­¾ï¼š</p>
                    <div class="code-question">class MyClass {
    get [Symbol.toStringTag]() {
        return 'MyClass';
    }
}

console.log(getType(new MyClass())); // "MyClass"</div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå®é™…å¼€å‘å¸¸ç”¨å·¥å…·å‡½æ•°</span>
            </div>
        </div>

        <!-- Q4: Symbol.toPrimitive -->
        <div class="quiz-item" data-question="4">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">Symbol.toPrimitive</span>
                <span class="tag">hintå‚æ•°</span>
            </div>
            
            <div class="question">Q4: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">const</span> obj <span class="operator">=</span> <span class="bracket">{</span>
    <span class="bracket">[</span><span class="property">Symbol</span>.<span class="property">toPrimitive</span><span class="bracket">]</span><span class="bracket">(</span>hint<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'hint:'</span>, hint<span class="bracket">)</span>;
        <span class="keyword">if</span> <span class="bracket">(</span>hint <span class="operator">===</span> <span class="string">'number'</span><span class="bracket">)</span> <span class="keyword">return</span> <span class="number">10</span>;
        <span class="keyword">if</span> <span class="bracket">(</span>hint <span class="operator">===</span> <span class="string">'string'</span><span class="bracket">)</span> <span class="keyword">return</span> <span class="string">'hello'</span>;
        <span class="keyword">return</span> <span class="string">'default'</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="operator">+</span>obj<span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">`${obj}`</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>obj <span class="operator">+</span> <span class="string">''</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>obj <span class="operator">+</span> <span class="number">10</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="btn-group">
                <button class="btn btn-run" onclick="runCode(4)">è¿è¡Œä»£ç </button>
                <button class="btn btn-secondary" onclick="showAnswer(4)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="code-output" id="output-4"></div>
            
            <div class="answer-section" id="answer-4">
                <div class="answer-label">âœ… è¾“å‡ºç»“æœï¼š</div>
                <div class="code-question">hint: number
10
hint: string
hello
hint: default
default
hint: default
default10</div>
                
                <div class="explanation">
                    <h4>hint å‚æ•°è¯¦è§£ï¼š</h4>
                    
                    <p><strong>1. hint = "number"</strong></p>
                    <ul>
                        <li><code>+obj</code> - ä¸€å…ƒåŠ å·è¿ç®—ç¬¦</li>
                        <li><code>Number(obj)</code> - æ˜¾å¼è½¬æ•°å­—</li>
                        <li>æœŸæœ›è¿”å›æ•°å­—</li>
                    </ul>
                    
                    <p><strong>2. hint = "string"</strong></p>
                    <ul>
                        <li><code>`${obj}`</code> - æ¨¡æ¿å­—ç¬¦ä¸²</li>
                        <li><code>String(obj)</code> - æ˜¾å¼è½¬å­—ç¬¦ä¸²</li>
                        <li>æœŸæœ›è¿”å›å­—ç¬¦ä¸²</li>
                    </ul>
                    
                    <p><strong>3. hint = "default"</strong></p>
                    <ul>
                        <li><code>obj + ''</code> - åŠ æ³•è¿ç®—ç¬¦ï¼ˆä¸ç¡®å®šç±»å‹ï¼‰</li>
                        <li><code>obj + 10</code> - åŠ æ³•è¿ç®—ç¬¦</li>
                        <li><code>obj == value</code> - ç›¸ç­‰æ¯”è¾ƒ</li>
                        <li>Date å¯¹è±¡çš„ default æ˜¯ "string"ï¼Œå…¶ä»–å¯¹è±¡æ˜¯ "number"</li>
                    </ul>
                    
                    <h4>ä¼˜å…ˆçº§ï¼š</h4>
                    <pre>Symbol.toPrimitiveï¼ˆæœ€é«˜ï¼‰
  â†“
valueOf / toStringï¼ˆæ ¹æ® hint é¡ºåºä¸åŒï¼‰
  â†“
æŠ›å‡º TypeError</pre>
                    
                    <h4>å®é™…åº”ç”¨ï¼š</h4>
                    <div class="code-question">// è‡ªå®šä¹‰è´§å¸ç±»
class Money {
    constructor(amount) {
        this.amount = amount;
    }
    
    [Symbol.toPrimitive](hint) {
        if (hint === 'number') return this.amount;
        return `$${this.amount}`;
    }
}

const price = new Money(100);
console.log(price + 50);  // 150ï¼ˆæ•°å­—è¿ç®—ï¼‰
console.log(`ä»·æ ¼: ${price}`); // "ä»·æ ¼: $100"</div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šé«˜çº§å‰ç«¯é¢è¯•é¢˜</span>
            </div>
        </div>

        <!-- Q5: åŠ æ³•è¿ç®—ç¬¦é™·é˜± -->
        <div class="quiz-item" data-question="5">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">åŠ æ³•è¿ç®—ç¬¦</span>
                <span class="tag">ç»å…¸é™·é˜±</span>
            </div>
            
            <div class="question">Q5: é¢„æµ‹ä»¥ä¸‹ä»£ç çš„è¾“å‡º</div>
            
            <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span> <span class="operator">+</span> <span class="string">"2"</span> <span class="operator">+</span> <span class="number">3</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span> <span class="operator">+</span> <span class="number">2</span> <span class="operator">+</span> <span class="string">"3"</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">"1"</span> <span class="operator">+</span> <span class="number">2</span> <span class="operator">+</span> <span class="number">3</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">"A"</span> <span class="operator">-</span> <span class="string">"B"</span> <span class="operator">+</span> <span class="number">2</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="bracket">[</span><span class="bracket">]</span> <span class="operator">+</span> <span class="keyword">null</span> <span class="operator">+</span> <span class="number">1</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="bracket">[</span><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span><span class="bracket">]</span> <span class="operator">+</span> <span class="bracket">[</span><span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span><span class="bracket">]</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="btn-group">
                <button class="btn btn-run" onclick="runCode(5)">è¿è¡Œä»£ç </button>
                <button class="btn btn-secondary" onclick="showAnswer(5)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="code-output" id="output-5"></div>
            
            <div class="answer-section" id="answer-5">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼š</div>
                <div class="code-question">"123"
"33"
"123"
NaN
"null1"
"1,2,34,5,6"</div>
                
                <div class="explanation">
                    <h4>é€ä¸ªåˆ†æï¼š</h4>
                    
                    <p><strong>1. <code>1 + "2" + 3</code> â†’ "123"</strong></p>
                    <pre>ä»å·¦åˆ°å³æ‰§è¡Œï¼š
1 + "2" â†’ "1" + "2" â†’ "12"ï¼ˆæœ‰å­—ç¬¦ä¸²ï¼Œè§¦å‘æ‹¼æ¥ï¼‰
"12" + 3 â†’ "12" + "3" â†’ "123"ï¼ˆæœ‰å­—ç¬¦ä¸²ï¼Œç»§ç»­æ‹¼æ¥ï¼‰</pre>
                    
                    <p><strong>2. <code>1 + 2 + "3"</code> â†’ "33"</strong></p>
                    <pre>ä»å·¦åˆ°å³æ‰§è¡Œï¼š
1 + 2 â†’ 3ï¼ˆéƒ½æ˜¯æ•°å­—ï¼Œæ•°å­—ç›¸åŠ ï¼‰
3 + "3" â†’ "3" + "3" â†’ "33"ï¼ˆæœ‰å­—ç¬¦ä¸²ï¼Œè§¦å‘æ‹¼æ¥ï¼‰</pre>
                    
                    <p><strong>3. <code>"1" + 2 + 3</code> â†’ "123"</strong></p>
                    <pre>ä»å·¦åˆ°å³æ‰§è¡Œï¼š
"1" + 2 â†’ "1" + "2" â†’ "12"ï¼ˆæœ‰å­—ç¬¦ä¸²ï¼Œè§¦å‘æ‹¼æ¥ï¼‰
"12" + 3 â†’ "12" + "3" â†’ "123"ï¼ˆç»§ç»­æ‹¼æ¥ï¼‰</pre>
                    
                    <p><strong>4. <code>"A" - "B" + 2</code> â†’ NaN</strong></p>
                    <pre>å‡æ³•åªèƒ½åšæ•°å­—è¿ç®—ï¼š
"A" - "B" â†’ ToNumber("A") - ToNumber("B") â†’ NaN - NaN â†’ NaN
NaN + 2 â†’ NaNï¼ˆä»»ä½•æ•°ä¸NaNè¿ç®—éƒ½æ˜¯NaNï¼‰</pre>
                    
                    <p><strong>5. <code>[] + null + 1</code> â†’ "null1"</strong></p>
                    <pre>ä»å·¦åˆ°å³æ‰§è¡Œï¼š
[] + null â†’ "" + null â†’ "" + "null" â†’ "null"
"null" + 1 â†’ "null" + "1" â†’ "null1"</pre>
                    
                    <p><strong>6. <code>[1,2,3] + [4,5,6]</code> â†’ "1,2,34,5,6"</strong></p>
                    <pre>ToPrimitive([1,2,3]) â†’ "1,2,3"
ToPrimitive([4,5,6]) â†’ "4,5,6"
"1,2,3" + "4,5,6" â†’ "1,2,34,5,6"</pre>
                    
                    <h4>è®°å¿†å£è¯€ï¼š</h4>
                    <ul>
                        <li><strong>åŠ æ³•</strong>ï¼šåªè¦æœ‰å­—ç¬¦ä¸²ï¼Œå°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥</li>
                        <li><strong>å‡æ³•</strong>ï¼šä¸€å®šæ˜¯æ•°å­—è¿ç®—ï¼Œå­—ç¬¦ä¸²è½¬NaN</li>
                        <li><strong>ä»å·¦åˆ°å³</strong>ï¼šä¾æ¬¡æ‰§è¡Œï¼Œæ¯æ­¥éƒ½å¯èƒ½æ”¹å˜ç±»å‹</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå‰ç«¯é«˜é¢‘é™·é˜±é¢˜</span>
            </div>
        </div>

        <!-- Q6: å¯¹è±¡è½¬æ¢é¡ºåº -->
        <div class="quiz-item" data-question="6">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">valueOf</span>
                <span class="tag">toString</span>
            </div>
            
            <div class="question">Q6: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">const</span> obj <span class="operator">=</span> <span class="bracket">{</span>
    <span class="function">valueOf</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'valueOf'</span><span class="bracket">)</span>;
        <span class="keyword">return</span> <span class="number">100</span>;
    <span class="bracket">}</span>,
    <span class="function">toString</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'toString'</span><span class="bracket">)</span>;
        <span class="keyword">return</span> <span class="string">'200'</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">Number</span><span class="bracket">(</span>obj<span class="bracket">)</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">String</span><span class="bracket">(</span>obj<span class="bracket">)</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> valueOf â†’ 100, toString â†’ "200"
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> toString â†’ 100, valueOf â†’ "200"
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> valueOf â†’ 100, toString â†’ "200"ï¼ˆéƒ½è°ƒç”¨äº†ä¸¤ä¸ªæ–¹æ³•ï¼‰
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> éƒ½åªè°ƒç”¨ valueOf
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(6, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(6)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-6">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>æ‰§è¡Œè¿‡ç¨‹ï¼š</h4>
                    
                    <p><strong>1. <code>Number(obj)</code> çš„æ‰§è¡Œæµç¨‹ï¼š</strong></p>
                    <ul>
                        <li>è°ƒç”¨ ToPrimitive(obj, "number")</li>
                        <li>hint æ˜¯ "number"ï¼Œä¼˜å…ˆè°ƒç”¨ valueOf()</li>
                        <li>valueOf() è¿”å› 100ï¼ˆåŸå§‹å€¼ï¼‰</li>
                        <li>ä¸å†è°ƒç”¨ toString()</li>
                        <li>ToNumber(100) â†’ 100</li>
                    </ul>
                    <pre><span class="comment">// è¾“å‡ºï¼š</span>
valueOf
<span class="number">100</span></pre>
                    
                    <p><strong>2. <code>String(obj)</code> çš„æ‰§è¡Œæµç¨‹ï¼š</strong></p>
                    <ul>
                        <li>è°ƒç”¨ ToPrimitive(obj, "string")</li>
                        <li>hint æ˜¯ "string"ï¼Œä¼˜å…ˆè°ƒç”¨ toString()</li>
                        <li>toString() è¿”å› "200"ï¼ˆåŸå§‹å€¼ï¼‰</li>
                        <li>ä¸å†è°ƒç”¨ valueOf()</li>
                        <li>ToString("200") â†’ "200"</li>
                    </ul>
                    <pre><span class="comment">// è¾“å‡ºï¼š</span>
toString
<span class="string">"200"</span></pre>
                    
                    <h4>å…³é”®è§„åˆ™ï¼š</h4>
                    <ul>
                        <li><strong>hint = "number"</strong>ï¼švalueOf() â†’ toString()</li>
                        <li><strong>hint = "string"</strong>ï¼štoString() â†’ valueOf()</li>
                        <li><strong>hint = "default"</strong>ï¼švalueOf() â†’ toString()ï¼ˆDate é™¤å¤–ï¼‰</li>
                        <li>å¦‚æœç¬¬ä¸€ä¸ªæ–¹æ³•è¿”å›åŸå§‹å€¼ï¼Œå°±ä¸ä¼šè°ƒç”¨ç¬¬äºŒä¸ª</li>
                    </ul>
                    
                    <h4>å¦‚æœ valueOf è¿”å›å¯¹è±¡ä¼šæ€æ ·ï¼Ÿ</h4>
                    <pre><code><span class="keyword">const</span> obj2 <span class="operator">=</span> <span class="bracket">{</span>
    <span class="function">valueOf</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">// è¿”å›å¯¹è±¡ï¼Œä¸æ˜¯åŸå§‹å€¼</span>
    <span class="bracket">}</span>,
    <span class="function">toString</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="string">'fallback'</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>;
<span class="function">Number</span><span class="bracket">(</span>obj2<span class="bracket">)</span>; <span class="comment">// ä¼šç»§ç»­è°ƒç”¨ toString()</span></code></pre>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šåŸå‹ç³»ç»Ÿæ·±å…¥ç†è§£</span>
            </div>
        </div>

        <!-- Q7: è‡ªåŠ¨è£…ç®± -->
        <div class="quiz-item" data-question="7">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">è‡ªåŠ¨è£…ç®±</span>
                <span class="tag">åŒ…è£…å¯¹è±¡</span>
            </div>
            
            <div class="question">Q7: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">var</span> str <span class="operator">=</span> <span class="string">'hello'</span>;
str.<span class="property">x</span> <span class="operator">=</span> <span class="number">100</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>str.<span class="property">x</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> 100
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> undefined
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> æŠ¥é”™ï¼šCannot set property 'x' of string
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> null
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(7, 'B')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(7)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-7">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šBï¼ˆundefinedï¼‰</div>
                <div class="explanation">
                    <h4>è‡ªåŠ¨è£…ç®±ï¼ˆAuto-boxingï¼‰åŸç†ï¼š</h4>
                    
                    <p><strong>æ‰§è¡Œè¿‡ç¨‹åˆ†æï¼š</strong></p>
                    
                    <div class="timeline">
                        <strong>ç¬¬1æ­¥ï¼š<code>str.x = 100;</code></strong>
                        <ul>
                            <li>str æ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œä¸æ˜¯å¯¹è±¡</li>
                            <li>å½“è®¿é—® str.x æ—¶ï¼ŒJavaScript <strong>ä¸´æ—¶åˆ›å»º</strong> String åŒ…è£…å¯¹è±¡</li>
                            <li>ç›¸å½“äºï¼š<code>new String('hello').x = 100;</code></li>
                            <li>è®¾ç½®å®Œæˆåï¼Œ<strong>ä¸´æ—¶å¯¹è±¡è¢«é”€æ¯</strong></li>
                        </ul>
                    </div>
                    
                    <div class="timeline">
                        <strong>ç¬¬2æ­¥ï¼š<code>console.log(str.x);</code></strong>
                        <ul>
                            <li>å†æ¬¡è®¿é—® str.x æ—¶ï¼Œ<strong>åˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„</strong>ä¸´æ—¶å¯¹è±¡</li>
                            <li>è¿™ä¸ªæ–°å¯¹è±¡æ²¡æœ‰ x å±æ€§</li>
                            <li>æ‰€ä»¥è¿”å› undefined</li>
                        </ul>
                    </div>
                    
                    <h4>å›¾è§£ï¼š</h4>
                    <pre><span class="comment">// ç¬¬1æ­¥å®é™…æ‰§è¡Œï¼š</span>
<span class="keyword">var</span> temp1 <span class="operator">=</span> <span class="keyword">new</span> <span class="function">String</span><span class="bracket">(</span><span class="string">'hello'</span><span class="bracket">)</span>;
temp1.<span class="property">x</span> <span class="operator">=</span> <span class="number">100</span>;
<span class="comment">// temp1 è¢«é”€æ¯</span>

<span class="comment">// ç¬¬2æ­¥å®é™…æ‰§è¡Œï¼š</span>
<span class="keyword">var</span> temp2 <span class="operator">=</span> <span class="keyword">new</span> <span class="function">String</span><span class="bracket">(</span><span class="string">'hello'</span><span class="bracket">)</span>; <span class="comment">// æ–°å¯¹è±¡ï¼</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>temp2.<span class="property">x</span><span class="bracket">)</span>; <span class="comment">// undefined</span>
<span class="comment">// temp2 è¢«é”€æ¯</span></pre>
                    
                    <h4>ä¸ºä»€ä¹ˆåŸå§‹å€¼å¯ä»¥è°ƒç”¨æ–¹æ³•ï¼Ÿ</h4>
                    <ul>
                        <li><code>'hello'.length</code> å¯ä»¥å·¥ä½œ</li>
                        <li><code>'hello'.toUpperCase()</code> å¯ä»¥å·¥ä½œ</li>
                        <li>å› ä¸ºæ¯æ¬¡éƒ½ä¼š<strong>ä¸´æ—¶</strong>åˆ›å»ºåŒ…è£…å¯¹è±¡</li>
                        <li>è°ƒç”¨å®Œæ–¹æ³•åï¼ŒåŒ…è£…å¯¹è±¡ç«‹å³é”€æ¯</li>
                    </ul>
                    
                    <h4>ä¸‰ç§åŒ…è£…å¯¹è±¡ï¼š</h4>
                    <ul>
                        <li><code>String()</code> - å­—ç¬¦ä¸²åŒ…è£…</li>
                        <li><code>Number()</code> - æ•°å­—åŒ…è£…</li>
                        <li><code>Boolean()</code> - å¸ƒå°”åŒ…è£…</li>
                    </ul>
                    
                    <h4>å®é™…åº”ç”¨ï¼š</h4>
                    <p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ æ°¸è¿œä¸åº”è¯¥æ˜¾å¼åˆ›å»ºåŒ…è£…å¯¹è±¡ï¼š</p>
                    <pre><code><span class="comment">// âŒ ä¸è¦è¿™æ ·åš</span>
<span class="keyword">var</span> str <span class="operator">=</span> <span class="keyword">new</span> <span class="function">String</span><span class="bracket">(</span><span class="string">'hello'</span><span class="bracket">)</span>; <span class="comment">// typeof str === 'object'</span>

<span class="comment">// âœ… ç›´æ¥ä½¿ç”¨åŸå§‹å€¼</span>
<span class="keyword">var</span> str <span class="operator">=</span> <span class="string">'hello'</span>; <span class="comment">// typeof str === 'string'</span></code></pre>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šJavaScript ç»å…¸é™·é˜±é¢˜</span>
            </div>
        </div>

        <!-- Q8: å¤æ‚è½¬æ¢é“¾ -->
        <div class="quiz-item" data-question="8">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">å¤šæ­¥è½¬æ¢</span>
                <span class="tag">æ¨å¯¼èƒ½åŠ›</span>
            </div>
            
            <div class="question">Q8: è§£é‡Šä»¥ä¸‹è¡¨è¾¾å¼çš„è®¡ç®—è¿‡ç¨‹å’Œç»“æœ</div>
            
            <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="bracket">[</span><span class="number">1</span>, <span class="number">2</span><span class="bracket">]</span> <span class="operator">+</span> <span class="bracket">[</span><span class="number">3</span>, <span class="number">4</span><span class="bracket">]</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="operator">!</span><span class="operator">!</span><span class="bracket">[</span><span class="bracket">]</span> <span class="operator">==</span> <span class="operator">!</span><span class="operator">!</span><span class="bracket">[</span><span class="bracket">]</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="operator">+</span><span class="bracket">[</span><span class="bracket">]</span> <span class="operator">==</span> <span class="operator">-</span><span class="bracket">[</span><span class="bracket">]</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> "1,23,4", true, true
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> "1,2,3,4", true, false
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> [1,2,3,4], true, true
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> "1,23,4", false, true
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(8, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(8)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-8">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>é€æ­¥æ¨å¯¼ï¼š</h4>
                    
                    <p><strong>1. <code>[1, 2] + [3, 4]</code> â†’ "1,23,4"</strong></p>
                    <div class="timeline">
                        <strong>æ­¥éª¤ï¼š</strong>
                        <pre>1. æ‰§è¡ŒåŠ æ³•è¿ç®—ç¬¦ç®—æ³•
2. ToPrimitive([1, 2]) â†’ valueOf() è¿”å› [1, 2]ï¼ˆéåŸå§‹å€¼ï¼‰
3. ç»§ç»­è°ƒç”¨ toString() â†’ "1,2"
4. ToPrimitive([3, 4]) â†’ toString() â†’ "3,4"
5. "1,2" + "3,4" â†’ "1,23,4"</pre>
                    </div>
                    
                    <p><strong>2. <code>!![] == !![]</code> â†’ true</strong></p>
                    <div class="timeline">
                        <strong>æ­¥éª¤ï¼š</strong>
                        <pre>1. ![] â†’ !true â†’ falseï¼ˆç©ºæ•°ç»„æ˜¯çœŸå€¼ï¼‰
2. !false â†’ true
3. !![] â†’ true
4. true == true â†’ true</pre>
                    </div>
                    
                    <p><strong>3. <code>+[] == -[]</code> â†’ true</strong></p>
                    <div class="timeline">
                        <strong>æ­¥éª¤ï¼š</strong>
                        <pre><span class="comment">// å·¦è¾¹ï¼š+[]</span>
1. ToPrimitive([]) â†’ toString() â†’ ""
2. ToNumber("") â†’ <span class="number">0</span>
3. +[] â†’ <span class="number">0</span>

<span class="comment">// å³è¾¹ï¼š-[]</span>
1. ToPrimitive([]) â†’ toString() â†’ ""
2. ToNumber("") â†’ <span class="number">0</span>
3. -0 â†’ <span class="number">0</span>

<span class="comment">// æ¯”è¾ƒ</span>
<span class="number">0</span> == <span class="number">0</span> â†’ <span class="keyword">true</span></pre>
                    </div>
                    
                    <h4>å…³é”®çŸ¥è¯†ç‚¹ï¼š</h4>
                    <ul>
                        <li><strong>æ•°ç»„çš„ toString()</strong>ï¼šç›¸å½“äº join(',')</li>
                        <li><strong>ç©ºæ•°ç»„è½¬æ•°å­—</strong>ï¼š[] â†’ "" â†’ 0</li>
                        <li><strong>ä¸€å…ƒ + å’Œ -</strong>ï¼šéƒ½ä¼šæ‰§è¡Œ ToNumber</li>
                        <li><strong>!!x</strong>ï¼šè½¬å¸ƒå°”å€¼çš„æŠ€å·§</li>
                    </ul>
                    
                    <h4>æ›´å¤šç»å…¸ä¾‹å­ï¼š</h4>
                    <pre><code><span class="bracket">[</span><span class="bracket">]</span> <span class="operator">+</span> <span class="bracket">{</span><span class="bracket">}</span>   <span class="comment">// "[object Object]"</span>
<span class="bracket">{</span><span class="bracket">}</span> <span class="operator">+</span> <span class="bracket">[</span><span class="bracket">]</span>   <span class="comment">// 0ï¼ˆ{} è¢«å½“ä½œä»£ç å—ï¼‰</span>
<span class="bracket">(</span><span class="bracket">{</span><span class="bracket">}</span> <span class="operator">+</span> <span class="bracket">[</span><span class="bracket">]</span><span class="bracket">)</span> <span class="comment">// "[object Object]"ï¼ˆæ‹¬å·è®© {} å˜æˆå¯¹è±¡ï¼‰</span>
<span class="bracket">[</span><span class="bracket">]</span> <span class="operator">==</span> <span class="operator">!</span><span class="bracket">[</span><span class="bracket">]</span> <span class="comment">// true</span>
<span class="bracket">[</span><span class="bracket">]</span> <span class="operator">==</span> <span class="bracket">[</span><span class="bracket">]</span>   <span class="comment">// falseï¼ˆå¯¹è±¡æ¯”è¾ƒçš„æ˜¯å¼•ç”¨ï¼‰</span></code></pre>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå­—èŠ‚è·³åŠ¨é«˜çº§å‰ç«¯é¢è¯•</span>
            </div>
        </div>

        <!-- Q9: æ‰‹å†™ ToPrimitive -->
        <div class="quiz-item" data-question="9">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">æ‰‹å†™å®ç°</span>
                <span class="tag">è§„èŒƒç†è§£</span>
            </div>
            
            <div class="question">Q9: å®ç°ç¬¦åˆ ECMAScript è§„èŒƒçš„ ToPrimitive æŠ½è±¡æ“ä½œ</div>
            
            <div class="code-question"><pre><code><span class="comment">/**
 * æ¨¡æ‹Ÿ ToPrimitive æŠ½è±¡æ“ä½œ
 * @param {*} input - è¦è½¬æ¢çš„å€¼
 * @param {string} preferredType - 'number' | 'string' | 'default'
 * @return {*} - åŸå§‹å€¼
 */</span>
<span class="keyword">function</span> <span class="function">toPrimitive</span><span class="bracket">(</span>input, preferredType <span class="operator">=</span> <span class="string">'default'</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// è¯·å®ç°</span>
<span class="bracket">}</span>

<span class="comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="keyword">const</span> obj <span class="operator">=</span> <span class="bracket">{</span>
    <span class="function">valueOf</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span> <span class="keyword">return</span> <span class="number">42</span>; <span class="bracket">}</span>,
    <span class="function">toString</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span> <span class="keyword">return</span> <span class="string">'hello'</span>; <span class="bracket">}</span>
<span class="bracket">}</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">toPrimitive</span><span class="bracket">(</span>obj, <span class="string">'number'</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// 42</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="function">toPrimitive</span><span class="bracket">(</span>obj, <span class="string">'string'</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// "hello"</span></code></pre></div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="showAnswer(9)">æŸ¥çœ‹ç­”æ¡ˆ</button>
            </div>
            
            <div class="answer-section" id="answer-9">
                <div class="answer-label">âœ… å‚è€ƒç­”æ¡ˆï¼š</div>
                <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">toPrimitive</span><span class="bracket">(</span>input, preferredType <span class="operator">=</span> <span class="string">'default'</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// 1. å¦‚æœ input å·²ç»æ˜¯åŸå§‹å€¼ï¼Œç›´æ¥è¿”å›</span>
    <span class="keyword">if</span> <span class="bracket">(</span>input <span class="operator">!==</span> <span class="keyword">Object</span><span class="bracket">(</span>input<span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> input;
    <span class="bracket">}</span>
    
    <span class="comment">// 2. æ£€æŸ¥ Symbol.toPrimitive æ–¹æ³•ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰</span>
    <span class="keyword">const</span> exoticToPrim <span class="operator">=</span> input<span class="bracket">[</span><span class="property">Symbol</span>.<span class="property">toPrimitive</span><span class="bracket">]</span>;
    <span class="keyword">if</span> <span class="bracket">(</span>exoticToPrim <span class="operator">!==</span> <span class="keyword">undefined</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> hint <span class="operator">=</span> preferredType <span class="operator">===</span> <span class="string">'default'</span> <span class="operator">?</span> <span class="string">'default'</span> <span class="operator">:</span> preferredType;
        <span class="keyword">const</span> result <span class="operator">=</span> <span class="function">exoticToPrim</span>.<span class="function">call</span><span class="bracket">(</span>input, hint<span class="bracket">)</span>;
        
        <span class="comment">// å¿…é¡»è¿”å›åŸå§‹å€¼</span>
        <span class="keyword">if</span> <span class="bracket">(</span>result <span class="operator">!==</span> <span class="keyword">Object</span><span class="bracket">(</span>result<span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">return</span> result;
        <span class="bracket">}</span>
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">TypeError</span><span class="bracket">(</span><span class="string">'Cannot convert object to primitive'</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="comment">// 3. ç¡®å®šè°ƒç”¨é¡ºåº</span>
    <span class="keyword">const</span> hint <span class="operator">=</span> preferredType <span class="operator">===</span> <span class="string">'string'</span> <span class="operator">?</span> <span class="string">'string'</span> <span class="operator">:</span> <span class="string">'number'</span>;
    <span class="keyword">const</span> methodNames <span class="operator">=</span> hint <span class="operator">===</span> <span class="string">'string'</span> 
        <span class="operator">?</span> <span class="bracket">[</span><span class="string">'toString'</span>, <span class="string">'valueOf'</span><span class="bracket">]</span>
        <span class="operator">:</span> <span class="bracket">[</span><span class="string">'valueOf'</span>, <span class="string">'toString'</span><span class="bracket">]</span>;
    
    <span class="comment">// 4. ä¾æ¬¡å°è¯•è°ƒç”¨æ–¹æ³•</span>
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">const</span> name <span class="keyword">of</span> methodNames<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> method <span class="operator">=</span> input<span class="bracket">[</span>name<span class="bracket">]</span>;
        <span class="keyword">if</span> <span class="bracket">(</span><span class="keyword">typeof</span> method <span class="operator">===</span> <span class="string">'function'</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">const</span> result <span class="operator">=</span> method.<span class="function">call</span><span class="bracket">(</span>input<span class="bracket">)</span>;
            
            <span class="comment">// å¦‚æœè¿”å›åŸå§‹å€¼ï¼ŒæˆåŠŸ</span>
            <span class="keyword">if</span> <span class="bracket">(</span>result <span class="operator">!==</span> <span class="keyword">Object</span><span class="bracket">(</span>result<span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
                <span class="keyword">return</span> result;
            <span class="bracket">}</span>
        <span class="bracket">}</span>
    <span class="bracket">}</span>
    
    <span class="comment">// 5. å¦‚æœéƒ½æ²¡æœ‰è¿”å›åŸå§‹å€¼ï¼ŒæŠ›å‡ºé”™è¯¯</span>
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">TypeError</span><span class="bracket">(</span><span class="string">'Cannot convert object to primitive'</span><span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
                
                <div class="explanation">
                    <h4>å®ç°è¦ç‚¹ï¼š</h4>
                    
                    <p><strong>1. æ£€æŸ¥æ˜¯å¦å·²ç»æ˜¯åŸå§‹å€¼</strong></p>
                    <ul>
                        <li><code>input !== Object(input)</code> æŠ€å·§</li>
                        <li>å¦‚æœæ˜¯åŸå§‹å€¼ï¼Œ<code>Object(input)</code> ä¼šåˆ›å»ºåŒ…è£…å¯¹è±¡ï¼Œå¿…ç„¶ä¸ç­‰</li>
                    </ul>
                    
                    <p><strong>2. Symbol.toPrimitive ä¼˜å…ˆçº§æœ€é«˜</strong></p>
                    <ul>
                        <li>å¦‚æœå¯¹è±¡æœ‰æ­¤æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨</li>
                        <li>å¿…é¡»è¿”å›åŸå§‹å€¼ï¼Œå¦åˆ™æŠ›é”™</li>
                    </ul>
                    
                    <p><strong>3. ç¡®å®šæ–¹æ³•è°ƒç”¨é¡ºåº</strong></p>
                    <ul>
                        <li>hint = "string"ï¼štoString â†’ valueOf</li>
                        <li>hint = "number" æˆ– "default"ï¼švalueOf â†’ toString</li>
                    </ul>
                    
                    <p><strong>4. ä¾æ¬¡å°è¯•</strong></p>
                    <ul>
                        <li>åªè¦æœ‰ä¸€ä¸ªè¿”å›åŸå§‹å€¼ï¼Œå°±æˆåŠŸ</li>
                        <li>å¦åˆ™ç»§ç»­å°è¯•ä¸‹ä¸€ä¸ª</li>
                    </ul>
                    
                    <p><strong>5. é”™è¯¯å¤„ç†</strong></p>
                    <ul>
                        <li>å¦‚æœæ‰€æœ‰æ–¹æ³•éƒ½å¤±è´¥ï¼ŒæŠ›å‡º TypeError</li>
                    </ul>
                    
                    <h4>æµ‹è¯•ï¼š</h4>
                    <pre><code><span class="comment">// æµ‹è¯• Symbol.toPrimitive</span>
<span class="keyword">const</span> obj1 <span class="operator">=</span> <span class="bracket">{</span>
    <span class="bracket">[</span><span class="property">Symbol</span>.<span class="property">toPrimitive</span><span class="bracket">]</span><span class="bracket">(</span>hint<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> hint <span class="operator">===</span> <span class="string">'number'</span> <span class="operator">?</span> <span class="number">42</span> <span class="operator">:</span> <span class="string">'hello'</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>;
<span class="function">toPrimitive</span><span class="bracket">(</span>obj1, <span class="string">'number'</span><span class="bracket">)</span>; <span class="comment">// 42</span>

<span class="comment">// æµ‹è¯• valueOf/toString</span>
<span class="keyword">const</span> obj2 <span class="operator">=</span> <span class="bracket">{</span>
    <span class="function">valueOf</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span> <span class="keyword">return</span> <span class="keyword">this</span>; <span class="bracket">}</span>, <span class="comment">// è¿”å›å¯¹è±¡</span>
    <span class="function">toString</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span> <span class="keyword">return</span> <span class="string">'fallback'</span>; <span class="bracket">}</span>
<span class="bracket">}</span>;
<span class="function">toPrimitive</span><span class="bracket">(</span>obj2, <span class="string">'number'</span><span class="bracket">)</span>; <span class="comment">// "fallback"</span></code></pre>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šé«˜çº§å‰ç«¯åŸç†æ·±å…¥</span>
            </div>
        </div>

        <!-- Q10: ç»¼åˆåº”ç”¨é¢˜ -->
        <div class="quiz-item" data-question="10">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">ç»¼åˆåº”ç”¨</span>
                <span class="tag">ç»å…¸é¢˜ç›®</span>
            </div>
            
            <div class="question">Q10: è®¾è®¡ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ä»¥ä¸‹ç­‰å¼æˆç«‹ï¼ˆå­—èŠ‚è·³åŠ¨é¢è¯•çœŸé¢˜ï¼‰</div>
            
            <div class="code-question"><pre><code><span class="keyword">const</span> obj <span class="operator">=</span> <span class="comment">/* ä½ çš„è®¾è®¡ */</span>;

<span class="keyword">if</span> <span class="bracket">(</span>obj <span class="operator">==</span> <span class="number">1</span> <span class="operator">&&</span> obj <span class="operator">==</span> <span class="number">2</span> <span class="operator">&&</span> obj <span class="operator">==</span> <span class="number">3</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'æˆåŠŸï¼'</span><span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="showAnswer(10)">æŸ¥çœ‹ç­”æ¡ˆ</button>
            </div>
            
            <div class="answer-section" id="answer-10">
                <div class="answer-label">âœ… å¤šç§è§£æ³•ï¼š</div>
                
                <div class="explanation">
                    <h4>è§£æ³• 1ï¼šåˆ©ç”¨ valueOfï¼ˆæœ€å¸¸è§ï¼‰</h4>
                    <div class="code-question"><pre><code><span class="keyword">const</span> obj <span class="operator">=</span> <span class="bracket">{</span>
    <span class="property">value</span><span class="operator">:</span> <span class="number">0</span>,
    <span class="function">valueOf</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="operator">++</span><span class="keyword">this</span>.<span class="property">value</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>;

<span class="comment">// æ¯æ¬¡ == æ¯”è¾ƒæ—¶éƒ½ä¼šè°ƒç”¨ valueOf()</span>
<span class="comment">// ç¬¬1æ¬¡ï¼š++0 â†’ 1ï¼Œobj == 1 â†’ true</span>
<span class="comment">// ç¬¬2æ¬¡ï¼š++1 â†’ 2ï¼Œobj == 2 â†’ true</span>
<span class="comment">// ç¬¬3æ¬¡ï¼š++2 â†’ 3ï¼Œobj == 3 â†’ true</span></code></pre></div>
                    
                    <h4>è§£æ³• 2ï¼šåˆ©ç”¨ Symbol.toPrimitive</h4>
                    <div class="code-question"><pre><code><span class="keyword">const</span> obj <span class="operator">=</span> <span class="bracket">{</span>
    <span class="property">value</span><span class="operator">:</span> <span class="number">0</span>,
    <span class="bracket">[</span><span class="property">Symbol</span>.<span class="property">toPrimitive</span><span class="bracket">]</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="operator">++</span><span class="keyword">this</span>.<span class="property">value</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>;</code></pre></div>
                    
                    <h4>è§£æ³• 3ï¼šåˆ©ç”¨æ•°ç»„çš„ shift()</h4>
                    <div class="code-question"><pre><code><span class="keyword">const</span> obj <span class="operator">=</span> <span class="bracket">[</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">]</span>;
obj.<span class="property">valueOf</span> <span class="operator">=</span> <span class="keyword">function</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="function">shift</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="bracket">}</span>;

<span class="comment">// ç¬¬1æ¬¡ï¼šshift() â†’ 1</span>
<span class="comment">// ç¬¬2æ¬¡ï¼šshift() â†’ 2</span>
<span class="comment">// ç¬¬3æ¬¡ï¼šshift() â†’ 3</span></code></pre></div>
                    
                    <h4>è§£æ³• 4ï¼šåˆ©ç”¨ toString()</h4>
                    <div class="code-question"><pre><code><span class="keyword">let</span> value <span class="operator">=</span> <span class="number">0</span>;
<span class="keyword">const</span> obj <span class="operator">=</span> <span class="bracket">{</span>
    <span class="function">toString</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="operator">++</span>value;
    <span class="bracket">}</span>
<span class="bracket">}</span>;</code></pre></div>
                    
                    <h4>è§£æ³• 5ï¼šåˆ©ç”¨ getterï¼ˆæœ€éªšæ“ä½œï¼‰</h4>
                    <div class="code-question"><pre><code><span class="keyword">let</span> value <span class="operator">=</span> <span class="number">0</span>;
<span class="keyword">Object</span>.<span class="function">defineProperty</span><span class="bracket">(</span>window, <span class="string">'obj'</span>, <span class="bracket">{</span>
    <span class="keyword">get</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="operator">++</span>value;
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// æ¯æ¬¡è®¿é—® obj éƒ½ä¼šè§¦å‘ getter</span>
<span class="comment">// if (obj == 1 && obj == 2 && obj == 3)</span>
<span class="comment">// å®é™…ä¸Šè°ƒç”¨äº† 3 æ¬¡ getter</span></code></pre></div>
                    
                    <h4>åŸç†åˆ†æï¼š</h4>
                    <ul>
                        <li><code>==</code> æ¯”è¾ƒä¼šè§¦å‘ç±»å‹è½¬æ¢</li>
                        <li>å¯¹è±¡å‚ä¸æ¯”è¾ƒæ—¶ä¼šè°ƒç”¨ ToPrimitive</li>
                        <li>ToPrimitive ä¼šè°ƒç”¨ valueOf æˆ– toString</li>
                        <li>åˆ©ç”¨å‰¯ä½œç”¨ï¼ˆside effectï¼‰ä¿®æ”¹å†…éƒ¨çŠ¶æ€</li>
                    </ul>
                    
                    <h4>ä¸ºä»€ä¹ˆ === ä¸è¡Œï¼Ÿ</h4>
                    <pre><code><span class="comment">// === ä¸ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œä¸ä¼šè°ƒç”¨ valueOf</span>
obj <span class="operator">===</span> <span class="number">1</span> <span class="operator">&&</span> obj <span class="operator">===</span> <span class="number">2</span> <span class="operator">&&</span> obj <span class="operator">===</span> <span class="number">3</span> <span class="comment">// æ°¸è¿œæ˜¯ false</span></code></pre>
                    
                    <h4>å®é™…åº”ç”¨ï¼Ÿ</h4>
                    <p><strong>âš ï¸ åƒä¸‡ä¸è¦åœ¨ç”Ÿäº§ä»£ç ä¸­è¿™æ ·å†™ï¼</strong></p>
                    <ul>
                        <li>è¿™æ˜¯é¢è¯•é¢˜ï¼Œç”¨äºè€ƒå¯Ÿç±»å‹è½¬æ¢ç†è§£</li>
                        <li>åˆ©ç”¨å‰¯ä½œç”¨çš„ä»£ç éš¾ä»¥ç»´æŠ¤</li>
                        <li>è¿åäº†å‡½æ•°å¼ç¼–ç¨‹çš„çº¯å‡½æ•°åŸåˆ™</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå­—èŠ‚è·³åŠ¨é¢è¯•ç»å…¸é¢˜</span>
            </div>
        </div>

        <div class="nav-links" style="margin-top: 3rem; display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="01-datatypes.html" style="padding: 0.75rem 1.5rem; background: #e2e8f0; color: #2d3748; text-decoration: none; border-radius: 6px;">â¬…ï¸ ä¸Šä¸€èŠ‚ï¼šæ•°æ®ç±»å‹</a>
            <a href="../index.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">ğŸ“‹ é¢è¯•é¢˜å¯¼èˆª</a>
            <a href="../../basics/01-type-conversion.html" style="padding: 0.75rem 1.5rem; background: #48bb78; color: white; text-decoration: none; border-radius: 6px;">ğŸ“– è¿”å›å­¦ä¹ å†…å®¹</a>
            <a href="02-operators.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">â¡ï¸ ä¸‹ä¸€èŠ‚ï¼šè¿ç®—ç¬¦</a>
        </div>
    </div>
    
    <script>
        // é€‰æ‹©ç­”æ¡ˆ
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const parent = this.closest('.quiz-item');
                const options = parent.querySelectorAll('.option');
                
                // å¦‚æœå·²ç»æäº¤è¿‡ç­”æ¡ˆï¼Œä¸å…è®¸å†é€‰æ‹©
                if (this.classList.contains('correct') || this.classList.contains('wrong')) {
                    return;
                }
                
                options.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
        
        // æ£€æŸ¥å•é€‰ç­”æ¡ˆ
        function checkAnswer(questionNum, correctAnswer) {
            const parent = document.querySelector(`[data-question="${questionNum}"]`);
            const selected = parent.querySelector('.option.selected');
            
            if (!selected) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            const options = parent.querySelectorAll('.option');
            
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt.dataset.answer === correctAnswer) {
                    opt.classList.add('correct');
                } else if (opt.classList.contains('selected')) {
                    opt.classList.add('wrong');
                }
            });
            
            showAnswer(questionNum);
        }
        
        // æ£€æŸ¥å¤šé€‰ç­”æ¡ˆ
        function checkAnswerMultiple(questionNum, correctAnswers) {
            const parent = document.querySelector(`[data-question="${questionNum}"]`);
            const selected = parent.querySelectorAll('.option.selected');
            
            if (selected.length === 0) {
                alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            const options = parent.querySelectorAll('.option');
            
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (correctAnswers.includes(opt.dataset.answer)) {
                    opt.classList.add('correct');
                } else if (opt.classList.contains('selected')) {
                    opt.classList.add('wrong');
                }
            });
            
            showAnswer(questionNum);
        }
        
        // æ˜¾ç¤ºç­”æ¡ˆè§£æ
        function showAnswer(questionNum) {
            const answer = document.getElementById(`answer-${questionNum}`);
            answer.classList.add('show');
        }
        
        // è¿è¡Œä»£ç 
        function runCode(questionNum) {
            const output = document.getElementById(`output-${questionNum}`);
            let result = '';
            
            const originalLog = console.log;
            console.log = (...args) => {
                result += args.join(' ') + '\n';
            };
            
            try {
                if (questionNum === 3) {
                    function getType(value) {
                        return Object.prototype.toString.call(value).slice(8, -1);
                    }
                    
                    console.log(getType([]));
                    console.log(getType({}));
                    console.log(getType(null));
                    console.log(getType(undefined));
                    console.log(getType(123));
                    console.log(getType('abc'));
                    console.log(getType(true));
                    console.log(getType(Symbol()));
                    console.log(getType(123n));
                    console.log(getType(new Date()));
                    console.log(getType(/regex/));
                    console.log(getType(() => {}));
                } else if (questionNum === 4) {
                    const obj = {
                        [Symbol.toPrimitive](hint) {
                            console.log('hint:', hint);
                            if (hint === 'number') return 10;
                            if (hint === 'string') return 'hello';
                            return 'default';
                        }
                    };
                    
                    console.log(+obj);
                    console.log(`${obj}`);
                    console.log(obj + '');
                    console.log(obj + 10);
                } else if (questionNum === 5) {
                    console.log(1 + "2" + 3);
                    console.log(1 + 2 + "3");
                    console.log("1" + 2 + 3);
                    console.log("A" - "B" + 2);
                    console.log([] + null + 1);
                    console.log([1,2,3] + [4,5,6]);
                }
            } catch (e) {
                result = 'Error: ' + e.message;
            }
            
            console.log = originalLog;
            output.innerHTML = '<pre>' + result + '</pre>';
            output.classList.add('show');
        }
    </script>
</body>
</html>
