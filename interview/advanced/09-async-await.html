<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async/await é¢è¯•é¢˜ - JavaScript é¢è¯•é¢˜ç²¾é€‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #2d3748;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 2.5rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #1a202c;
            margin-bottom: 0.5rem;
            font-size: 2rem;
        }

        .subtitle {
            color: #718096;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .quiz-item {
            background: #f7fafc;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 4px solid #667eea;
        }

        .quiz-item-header {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .difficulty {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .difficulty.easy {
            background: #c6f6d5;
            color: #22543d;
        }

        .difficulty.medium {
            background: #fef5e7;
            color: #744210;
        }

        .difficulty.hard {
            background: #fed7d7;
            color: #742a2a;
        }

        .tag {
            background: #e6fffa;
            color: #234e52;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .question {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .code-question {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
            border-left: 4px solid #667eea;
        }

        .code-question pre {
            margin: 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .code-question code {
            font-family: inherit;
        }

        .keyword { color: #c792ea; }
        .function { color: #82aaff; }
        .string { color: #c3e88d; }
        .number { color: #f78c6c; }
        .comment { color: #697098; font-style: italic; }
        .operator { color: #89ddff; }
        .property { color: #ffcb6b; }
        .bracket { color: #a6accd; }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin: 1.5rem 0;
        }

        .option {
            background: white;
            padding: 1rem 1.25rem;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option:hover {
            border-color: #667eea;
            background: #f7fafc;
            transform: translateX(4px);
        }

        .option.selected {
            border-color: #667eea;
            background: #eef2ff;
        }

        .option.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .option.wrong {
            border-color: #f56565;
            background: #fff5f5;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #2d3748;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .answer-section {
            display: none;
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            border: 2px solid #bee3f8;
        }

        .answer-section.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .answer-label {
            display: inline-block;
            background: #48bb78;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .explanation {
            color: #2d3748;
            line-height: 1.8;
        }

        .explanation h4 {
            color: #2d3748;
            margin: 1.5rem 0 1rem 0;
            font-size: 1.1rem;
        }

        .explanation ul, .explanation ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .explanation li {
            margin-bottom: 0.5rem;
        }

        .explanation p {
            margin-bottom: 1rem;
        }

        .explanation strong {
            color: #1a202c;
            font-weight: 600;
        }

        .source-tag {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.4rem 0.8rem;
            background: #edf2f7;
            color: #4a5568;
            border-radius: 6px;
            font-size: 0.85rem;
        }

        .nav-links a {
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
        }

        .nav-links a:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ async/await é¢è¯•é¢˜ç²¾é€‰</h1>
        <p class="subtitle">æŒæ¡ async/await è¯­æ³•å’Œæœ€ä½³å®è·µ - 10é“ç²¾é€‰é¢˜ç›®</p>

        <!-- Q1: asyncå‡½æ•°è¿”å›å€¼ -->
        <div class="quiz-item" data-question="1">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">asyncå‡½æ•°</span>
            </div>
            
            <div class="question">Q1: async å‡½æ•°çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="number">123</span>;
<span class="bracket">}</span>

<span class="keyword">const</span> result <span class="operator">=</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>result<span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> 123
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> Promise {<pending>}
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> Promise {fulfilled: 123}
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> undefined
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(1, 'C')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(1)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-1">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šC</div>
                <div class="explanation">
                    <h4>async å‡½æ•°è¿”å›å€¼ç‰¹æ€§ï¼š</h4>
                    
                    <p><strong>æ ¸å¿ƒè§„åˆ™ï¼š</strong></p>
                    <ul>
                        <li>async å‡½æ•°<strong>æ€»æ˜¯è¿”å› Promise</strong></li>
                        <li>return çš„å€¼ä¼šè¢«åŒ…è£…æˆ Promise.resolve(value)</li>
                        <li>æŠ›å‡ºçš„é”™è¯¯ä¼šè¢«åŒ…è£…æˆ Promise.reject(error)</li>
                    </ul>
                    
                    <div class="code-question"><pre><code><span class="comment">// è¿”å›æ™®é€šå€¼</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test1</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="number">123</span>;
<span class="bracket">}</span>
<span class="function">test1</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// Promise {fulfilled: 123}</span>

<span class="comment">// ç­‰ä»·äº</span>
<span class="keyword">function</span> <span class="function">test2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="number">123</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// æŠ›å‡ºé”™è¯¯</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test3</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error'</span><span class="bracket">)</span>;
<span class="bracket">}</span>
<span class="function">test3</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// Promise {rejected: Error}</span>

<span class="comment">// è¿”å›Promise</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test4</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="number">456</span><span class="bracket">)</span>;
<span class="bracket">}</span>
<span class="function">test4</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// Promise {fulfilled: 456}</span></code></pre></div>
                    
                    <p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// æ–¹å¼1: then/catch</span>
<span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span>result <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>result<span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// 123</span>

<span class="comment">// æ–¹å¼2: await</span>
<span class="keyword">const</span> result <span class="operator">=</span> <span class="keyword">await</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>result<span class="bracket">)</span>;  <span class="comment">// 123</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šasyncå‡½æ•°åŸºç¡€</span>
            </div>
        </div>

        <!-- Q2: awaitè¡¨è¾¾å¼ -->
        <div class="quiz-item" data-question="2">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">awaitç”¨æ³•</span>
            </div>
            
            <div class="question">Q2: await è¡¨è¾¾å¼å¯ä»¥ç”¨åœ¨å“ªé‡Œï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> åªèƒ½åœ¨ async å‡½æ•°å†…éƒ¨
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å¯ä»¥åœ¨ä»»ä½•å‡½æ•°å†…éƒ¨
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> async å‡½æ•°å†…éƒ¨æˆ–æ¨¡å—é¡¶å±‚
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> åªèƒ½åœ¨ Promise.then ä¸­
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(2, 'C')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(2)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-2">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šC</div>
                <div class="explanation">
                    <h4>await ä½¿ç”¨ä½ç½®ï¼š</h4>
                    
                    <p><strong>1. async å‡½æ•°å†…éƒ¨ï¼ˆå¸¸è§ï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">getData</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> result <span class="operator">=</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span><span class="string">'/api/data'</span><span class="bracket">)</span>;
    <span class="keyword">return</span> result;
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>2. æ¨¡å—é¡¶å±‚ï¼ˆTop-level await, ES2022ï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åœ¨ESæ¨¡å—é¡¶å±‚ç›´æ¥ä½¿ç”¨</span>
<span class="keyword">const</span> data <span class="operator">=</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span><span class="string">'/api/data'</span><span class="bracket">)</span>;
<span class="keyword">const</span> json <span class="operator">=</span> <span class="keyword">await</span> data.<span class="function">json</span><span class="bracket">(</span><span class="bracket">)</span>;

<span class="comment">// æ¡ä»¶å¯¼å…¥</span>
<span class="keyword">const</span> module <span class="operator">=</span> <span class="keyword">await</span> <span class="keyword">import</span><span class="bracket">(</span><span class="string">'./module.js'</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>âŒ é”™è¯¯ç”¨æ³•ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åœ¨æ™®é€šå‡½æ•°ä¸­ä½¿ç”¨ - æŠ¥é”™ï¼</span>
<span class="keyword">function</span> <span class="function">getData</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> result <span class="operator">=</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span><span class="string">'/api'</span><span class="bracket">)</span>;  <span class="comment">// âŒ SyntaxError</span>
<span class="bracket">}</span>

<span class="comment">// åœ¨å›è°ƒä¸­ä½¿ç”¨ - ä¸ä¼šç­‰å¾…</span>
<span class="bracket">[</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">]</span>.<span class="function">forEach</span><span class="bracket">(</span><span class="keyword">async</span> item <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">await</span> <span class="function">process</span><span class="bracket">(</span>item<span class="bracket">)</span>;  <span class="comment">// âš ï¸ forEachä¸ä¼šç­‰å¾…</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// æ­£ç¡®åšæ³•ï¼šä½¿ç”¨for...of</span>
<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">const</span> item <span class="keyword">of</span> <span class="bracket">[</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">]</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">await</span> <span class="function">process</span><span class="bracket">(</span>item<span class="bracket">)</span>;  <span class="comment">// âœ… ä¸²è¡Œæ‰§è¡Œ</span>
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šawaitè¡¨è¾¾å¼</span>
            </div>
        </div>

        <!-- Q3: é”™è¯¯å¤„ç† -->
        <div class="quiz-item" data-question="3">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">é”™è¯¯å¤„ç†</span>
            </div>
            
            <div class="question">Q3: å¦‚ä½•åœ¨ async/await ä¸­å¤„ç†é”™è¯¯ï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">fetchData</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> response <span class="operator">=</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span><span class="string">'/api/data'</span><span class="bracket">)</span>;
    <span class="comment">// å¦‚æœfetchå¤±è´¥æ€ä¹ˆåŠï¼Ÿ</span>
<span class="bracket">}</span></code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä½¿ç”¨ .catch() æ–¹æ³•
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä½¿ç”¨ try/catch è¯­å¥
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> Aå’ŒBéƒ½å¯ä»¥
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> async/await ä¸éœ€è¦é”™è¯¯å¤„ç†
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(3, 'C')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(3)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-3">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šC</div>
                <div class="explanation">
                    <h4>async/await é”™è¯¯å¤„ç†æ–¹å¼ï¼š</h4>
                    
                    <p><strong>æ–¹å¼1ï¼štry/catchï¼ˆæ¨èï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">fetchData</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">try</span> <span class="bracket">{</span>
        <span class="keyword">const</span> response <span class="operator">=</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span><span class="string">'/api/data'</span><span class="bracket">)</span>;
        <span class="keyword">const</span> data <span class="operator">=</span> <span class="keyword">await</span> response.<span class="function">json</span><span class="bracket">(</span><span class="bracket">)</span>;
        <span class="keyword">return</span> data;
    <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span><span class="string">'è·å–æ•°æ®å¤±è´¥:'</span>, error<span class="bracket">)</span>;
        <span class="keyword">throw</span> error;  <span class="comment">// é‡æ–°æŠ›å‡ºæˆ–å¤„ç†</span>
    <span class="bracket">}</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>æ–¹å¼2ï¼š.catch() æ–¹æ³•</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">fetchData</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> response <span class="operator">=</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span><span class="string">'/api/data'</span><span class="bracket">)</span>
        .<span class="function">catch</span><span class="bracket">(</span>error <span class="operator">=></span> <span class="bracket">{</span>
            <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span><span class="string">'è¯·æ±‚å¤±è´¥'</span>, error<span class="bracket">)</span>;
            <span class="keyword">return</span> <span class="keyword">null</span>;
        <span class="bracket">}</span><span class="bracket">)</span>;
    
    <span class="keyword">if</span> <span class="bracket">(</span><span class="operator">!</span>response<span class="bracket">)</span> <span class="keyword">return</span>;
    <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="function">json</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>æ–¹å¼3ï¼šæ··åˆä½¿ç”¨</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">main</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> data <span class="operator">=</span> <span class="keyword">await</span> <span class="function">fetchData</span><span class="bracket">(</span><span class="bracket">)</span>
        .<span class="function">catch</span><span class="bracket">(</span>error <span class="operator">=></span> <span class="bracket">{</span>
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'ä½¿ç”¨é»˜è®¤æ•°æ®'</span><span class="bracket">)</span>;
            <span class="keyword">return</span> defaultData;
        <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// è°ƒç”¨æ—¶ä¹Ÿå¯ä»¥æ•è·</span>
<span class="function">main</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">catch</span><span class="bracket">(</span>error <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span><span class="string">'ç¨‹åºé”™è¯¯'</span>, error<span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æœ€ä½³å®è·µï¼š</strong></p>
                    <ul>
                        <li>å¯¹äºå¯èƒ½å‡ºé”™çš„æ“ä½œä½¿ç”¨ try/catch</li>
                        <li>å•ä¸ªæ“ä½œå¯ä»¥ä½¿ç”¨ .catch()</li>
                        <li>ä¸è¦å¿˜è®°å¤„ç† rejected Promise</li>
                        <li>é¡¶å±‚è°ƒç”¨è¦æœ‰é”™è¯¯å¤„ç†</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šé”™è¯¯å¤„ç†</span>
            </div>
        </div>

        <!-- Q4: ä¸²è¡Œvså¹¶è¡Œ -->
        <div class="quiz-item" data-question="4">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">å¹¶å‘æ§åˆ¶</span>
            </div>
            
            <div class="question">Q4: ä»¥ä¸‹ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="comment">// å†™æ³•1</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">method1</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> a <span class="operator">=</span> <span class="keyword">await</span> <span class="function">task1</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="keyword">const</span> b <span class="operator">=</span> <span class="keyword">await</span> <span class="function">task2</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// å†™æ³•2</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">method2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> <span class="bracket">[</span>a, b<span class="bracket">]</span> <span class="operator">=</span> <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">all</span><span class="bracket">(</span><span class="bracket">[</span><span class="function">task1</span><span class="bracket">(</span><span class="bracket">)</span>, <span class="function">task2</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">]</span><span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> å®Œå…¨ç›¸åŒ
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> method1ä¸²è¡Œæ‰§è¡Œï¼Œmethod2å¹¶è¡Œæ‰§è¡Œ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> method1æ›´å¿«
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> method2é”™è¯¯å¤„ç†æ›´å¥½
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(4, 'B')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(4)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-4">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</div>
                <div class="explanation">
                    <h4>ä¸²è¡Œ vs å¹¶è¡Œæ‰§è¡Œï¼š</h4>
                    
                    <p><strong>ä¸²è¡Œæ‰§è¡Œï¼ˆSequentialï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">sequential</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> a <span class="operator">=</span> <span class="keyword">await</span> <span class="function">task1</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// ç­‰å¾…task1å®Œæˆ</span>
    <span class="keyword">const</span> b <span class="operator">=</span> <span class="keyword">await</span> <span class="function">task2</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// ç„¶åæ‰§è¡Œtask2</span>
    <span class="comment">// æ€»è€—æ—¶ = task1è€—æ—¶ + task2è€—æ—¶</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>å¹¶è¡Œæ‰§è¡Œï¼ˆParallelï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">parallel</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// åŒæ—¶å¯åŠ¨ä¸¤ä¸ªä»»åŠ¡</span>
    <span class="keyword">const</span> <span class="bracket">[</span>a, b<span class="bracket">]</span> <span class="operator">=</span> <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">all</span><span class="bracket">(</span><span class="bracket">[</span><span class="function">task1</span><span class="bracket">(</span><span class="bracket">)</span>, <span class="function">task2</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">]</span><span class="bracket">)</span>;
    <span class="comment">// æ€»è€—æ—¶ = max(task1è€—æ—¶, task2è€—æ—¶)</span>
<span class="bracket">}</span>

<span class="comment">// å¦ä¸€ç§å¹¶è¡Œå†™æ³•</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">parallel2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> p1 <span class="operator">=</span> <span class="function">task1</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// ç«‹å³å¯åŠ¨</span>
    <span class="keyword">const</span> p2 <span class="operator">=</span> <span class="function">task2</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// ç«‹å³å¯åŠ¨</span>
    
    <span class="keyword">const</span> a <span class="operator">=</span> <span class="keyword">await</span> p1;  <span class="comment">// ç­‰å¾…p1</span>
    <span class="keyword">const</span> b <span class="operator">=</span> <span class="keyword">await</span> p2;  <span class="comment">// ç­‰å¾…p2</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>æ€§èƒ½å¯¹æ¯”ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// å‡è®¾task1è€—æ—¶1ç§’ï¼Œtask2è€—æ—¶2ç§’</span>

<span class="comment">// ä¸²è¡Œï¼šæ€»å…±3ç§’</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">seq</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">await</span> <span class="function">delay</span><span class="bracket">(</span><span class="number">1000</span><span class="bracket">)</span>;  <span class="comment">// 1ç§’</span>
    <span class="keyword">await</span> <span class="function">delay</span><span class="bracket">(</span><span class="number">2000</span><span class="bracket">)</span>;  <span class="comment">// å†2ç§’</span>
    <span class="comment">// æ€»è®¡3ç§’</span>
<span class="bracket">}</span>

<span class="comment">// å¹¶è¡Œï¼šæ€»å…±2ç§’</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">par</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">all</span><span class="bracket">(</span><span class="bracket">[</span>
        <span class="function">delay</span><span class="bracket">(</span><span class="number">1000</span><span class="bracket">)</span>,
        <span class="function">delay</span><span class="bracket">(</span><span class="number">2000</span><span class="bracket">)</span>
    <span class="bracket">]</span><span class="bracket">)</span>;
    <span class="comment">// æ€»è®¡2ç§’ï¼ˆå–æœ€é•¿çš„ï¼‰</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>é€‰æ‹©å»ºè®®ï¼š</strong></p>
                    <ul>
                        <li><strong>ä¸²è¡Œ</strong>ï¼šä»»åŠ¡ä¹‹é—´æœ‰ä¾èµ–å…³ç³»</li>
                        <li><strong>å¹¶è¡Œ</strong>ï¼šä»»åŠ¡ç‹¬ç«‹ï¼Œå¯ä»¥åŒæ—¶æ‰§è¡Œ</li>
                        <li>å¹¶è¡Œå¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå¹¶å‘æ§åˆ¶</span>
            </div>
        </div>

        <!-- Q5: å¾ªç¯ä¸­çš„await -->
        <div class="quiz-item" data-question="5">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">å¾ªç¯å¤„ç†</span>
            </div>
            
            <div class="question">Q5: ä»¥ä¸‹ä»£ç ä¼šå¦‚ä½•æ‰§è¡Œï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">processArray</span><span class="bracket">(</span>array<span class="bracket">)</span> <span class="bracket">{</span>
    array.<span class="function">forEach</span><span class="bracket">(</span><span class="keyword">async</span> item <span class="operator">=></span> <span class="bracket">{</span>
        <span class="keyword">await</span> <span class="function">processItem</span><span class="bracket">(</span>item<span class="bracket">)</span>;
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>item<span class="bracket">)</span>;
    <span class="bracket">}</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'Done'</span><span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä¸²è¡Œå¤„ç†ï¼ŒDoneæœ€åè¾“å‡º
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> Doneå¯èƒ½å…ˆè¾“å‡ºï¼ŒforEachä¸ä¼šç­‰å¾…await
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ä¼šæŠ¥é”™
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> å¹¶è¡Œå¤„ç†ï¼ŒDoneæœ€åè¾“å‡º
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(5, 'B')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(5)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-5">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</div>
                <div class="explanation">
                    <h4>å¾ªç¯ä¸­çš„ await é™·é˜±ï¼š</h4>
                    
                    <p><strong>âŒ é”™è¯¯ï¼šforEach + async</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">wrong</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="bracket">[</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">]</span>.<span class="function">forEach</span><span class="bracket">(</span><span class="keyword">async</span> num <span class="operator">=></span> <span class="bracket">{</span>
        <span class="keyword">await</span> <span class="function">delay</span><span class="bracket">(</span><span class="number">100</span><span class="bracket">)</span>;
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>num<span class="bracket">)</span>;
    <span class="bracket">}</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'Done'</span><span class="bracket">)</span>;  <span class="comment">// ç«‹å³è¾“å‡ºï¼</span>
<span class="bracket">}</span>
<span class="comment">// è¾“å‡ºé¡ºåºï¼šDone â†’ 1 â†’ 2 â†’ 3</span></code></pre></div>
                    
                    <p><strong>âœ… æ­£ç¡®ï¼šfor...of (ä¸²è¡Œ)</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">sequential</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">const</span> num <span class="keyword">of</span> <span class="bracket">[</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">]</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">await</span> <span class="function">delay</span><span class="bracket">(</span><span class="number">100</span><span class="bracket">)</span>;
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>num<span class="bracket">)</span>;
    <span class="bracket">}</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'Done'</span><span class="bracket">)</span>;  <span class="comment">// ç­‰å¾…æ‰€æœ‰å®Œæˆ</span>
<span class="bracket">}</span>
<span class="comment">// è¾“å‡ºé¡ºåºï¼š1 â†’ 2 â†’ 3 â†’ Done</span></code></pre></div>
                    
                    <p><strong>âœ… æ­£ç¡®ï¼šPromise.all (å¹¶è¡Œ)</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">parallel</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">all</span><span class="bracket">(</span>
        <span class="bracket">[</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">]</span>.<span class="function">map</span><span class="bracket">(</span><span class="keyword">async</span> num <span class="operator">=></span> <span class="bracket">{</span>
            <span class="keyword">await</span> <span class="function">delay</span><span class="bracket">(</span><span class="number">100</span><span class="bracket">)</span>;
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>num<span class="bracket">)</span>;
        <span class="bracket">}</span><span class="bracket">)</span>
    <span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'Done'</span><span class="bracket">)</span>;
<span class="bracket">}</span>
<span class="comment">// è¾“å‡ºé¡ºåºï¼š1ã€2ã€3ï¼ˆå‡ ä¹åŒæ—¶ï¼‰ â†’ Done</span></code></pre></div>
                    
                    <p><strong>å¯¹æ¯”è¡¨ï¼š</strong></p>
                    <ul>
                        <li><code>forEach</code>: ä¸ç­‰å¾…ï¼Œç«‹å³è¿”å› âŒ</li>
                        <li><code>for...of</code>: ä¸²è¡Œæ‰§è¡Œï¼Œä¾æ¬¡ç­‰å¾… âœ…</li>
                        <li><code>for await...of</code>: å¤„ç†å¼‚æ­¥è¿­ä»£å™¨ âœ…</li>
                        <li><code>Promise.all + map</code>: å¹¶è¡Œæ‰§è¡Œ âœ…</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå¾ªç¯ä¸­ä½¿ç”¨await</span>
            </div>
        </div>

        <!-- Q6: asyncå‡½æ•°æ‰§è¡Œæ—¶æœº -->
        <div class="quiz-item" data-question="6">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">æ‰§è¡Œæ—¶æœº</span>
            </div>
            
            <div class="question">Q6: ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span><span class="bracket">)</span>;

<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span>;
    <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">3</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">4</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> 1 2 3 4
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> 1 2 4 3
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> 1 4 2 3
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> 2 1 4 3
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(6, 'B')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(6)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-6">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</div>
                <div class="explanation">
                    <h4>async/await æ‰§è¡Œæ—¶æœºï¼š</h4>
                    
                    <p><strong>å…³é”®ç‚¹ï¼š</strong></p>
                    <ul>
                        <li>async å‡½æ•°åœ¨<strong>ç¬¬ä¸€ä¸ª await ä¹‹å‰æ˜¯åŒæ­¥æ‰§è¡Œ</strong></li>
                        <li>await ä¹‹åçš„ä»£ç è¿›å…¥<strong>å¾®ä»»åŠ¡é˜Ÿåˆ—</strong></li>
                        <li>å¾®ä»»åŠ¡åœ¨å½“å‰å®ä»»åŠ¡çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œåæ‰§è¡Œ</li>
                    </ul>
                    
                    <p><strong>æ‰§è¡Œæµç¨‹åˆ†æï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span><span class="bracket">)</span>;  <span class="comment">// â‘  åŒæ­¥ï¼Œè¾“å‡º1</span>

<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span>;  <span class="comment">// â‘¡ åŒæ­¥ï¼Œè¾“å‡º2</span>
    <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// â‘¢ awaitåçš„ä»£ç è¿›å…¥å¾®ä»»åŠ¡</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">3</span><span class="bracket">)</span>;  <span class="comment">// â‘¤ å¾®ä»»åŠ¡ï¼Œè¾“å‡º3</span>
<span class="bracket">}</span>

<span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// è°ƒç”¨å‡½æ•°</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">4</span><span class="bracket">)</span>;  <span class="comment">// â‘£ åŒæ­¥ï¼Œè¾“å‡º4</span>

<span class="comment">// è¾“å‡ºé¡ºåºï¼š1 â†’ 2 â†’ 4 â†’ 3</span></code></pre></div>
                    
                    <p><strong>ç­‰ä»·çš„ Promise å†™æ³•ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span><span class="bracket">)</span>;

<span class="keyword">function</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span>;
    <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">3</span><span class="bracket">)</span>;
    <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">4</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å¤æ‚ç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'start'</span><span class="bracket">)</span>;  <span class="comment">// åŒæ­¥</span>
    
    <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'after await 1'</span><span class="bracket">)</span>;  <span class="comment">// å¾®ä»»åŠ¡1</span>
    
    <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'after await 2'</span><span class="bracket">)</span>;  <span class="comment">// å¾®ä»»åŠ¡2</span>
<span class="bracket">}</span>

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'1'</span><span class="bracket">)</span>;
<span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'2'</span><span class="bracket">)</span>;

<span class="comment">// è¾“å‡ºï¼š1 â†’ start â†’ 2 â†’ after await 1 â†’ after await 2</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šasyncæ‰§è¡Œæ—¶æœº</span>
            </div>
        </div>

        <!-- Q7: è¿”å›å€¼å¤„ç† -->
        <div class="quiz-item" data-question="7">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">è¿”å›å€¼</span>
            </div>
            
            <div class="question">Q7: ä»¥ä¸‹ä»£ç çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="number">123</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// vs</span>

<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="number">123</span><span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> test è¿”å› 123ï¼Œtest2 è¿”å› Promise
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å®Œå…¨ç›¸åŒï¼Œéƒ½è¿”å› Promise {123}
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> test æ›´å¿«
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> test2 æ›´å¿«
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(7, 'D')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(7)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-7">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šD</div>
                <div class="explanation">
                    <h4>return await çš„åŒºåˆ«ï¼š</h4>
                    
                    <p><strong>ç»“æœç›¸åŒï¼Œæ€§èƒ½ä¸åŒï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// test: return await Promise</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="number">123</span><span class="bracket">)</span>;
    <span class="comment">// 1. ç­‰å¾…Promiseå®Œæˆ</span>
    <span class="comment">// 2. å–å‡ºå€¼123</span>
    <span class="comment">// 3. åŒ…è£…æˆæ–°Promise</span>
<span class="bracket">}</span>

<span class="comment">// test2: return Promiseï¼ˆæ›´å¿«ï¼‰</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="number">123</span><span class="bracket">)</span>;
    <span class="comment">// 1. ç›´æ¥è¿”å›Promiseï¼ˆæ— éœ€ç­‰å¾…ï¼‰</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>ä½•æ—¶éœ€è¦ return awaitï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âŒ å¤šä½™çš„ await</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">unnecessary</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span>url<span class="bracket">)</span>;  <span class="comment">// ä¸å¿…è¦</span>
<span class="bracket">}</span>

<span class="comment">// âœ… éœ€è¦ await çš„æƒ…å†µï¼štry/catch</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">necessary</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">try</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span>url<span class="bracket">)</span>;  <span class="comment">// å¿…è¦ï¼æ•è·é”™è¯¯</span>
    <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span>error<span class="bracket">)</span>;
        <span class="keyword">return</span> defaultValue;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// âŒ æ²¡æœ‰awaitï¼Œcatchæ•è·ä¸åˆ°</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">wrong</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">try</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="function">fetch</span><span class="bracket">(</span>url<span class="bracket">)</span>;  <span class="comment">// é”™è¯¯ï¼catchæ•è·ä¸åˆ°</span>
    <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span>error<span class="bracket">)</span>;  <span class="comment">// ä¸ä¼šæ‰§è¡Œ</span>
    <span class="bracket">}</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>ESLintè§„åˆ™ï¼š</strong></p>
                    <ul>
                        <li><code>no-return-await</code>: ç¦æ­¢ä¸å¿…è¦çš„ return await</li>
                        <li>try/catch å†…éƒ¨é™¤å¤–</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šreturn await</span>
            </div>
        </div>

        <!-- Q8: try/catchä½œç”¨åŸŸ -->
        <div class="quiz-item" data-question="8">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">é”™è¯¯å¤„ç†</span>
            </div>
            
            <div class="question">Q8: ä»¥ä¸‹å“ªä¸ªé”™è¯¯ä¼šè¢«catchæ•è·ï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">test</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">try</span> <span class="bracket">{</span>
        <span class="keyword">const</span> promise <span class="operator">=</span> <span class="property">Promise</span>.<span class="function">reject</span><span class="bracket">(</span><span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error1'</span><span class="bracket">)</span><span class="bracket">)</span>;
        <span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error2'</span><span class="bracket">)</span>;
        <span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;
        <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">reject</span><span class="bracket">(</span><span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error3'</span><span class="bracket">)</span><span class="bracket">)</span>;
    <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>error.<span class="property">message</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span></code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> error1, error2, error3 éƒ½ä¼šè¢«æ•è·
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> åªæœ‰ error3 ä¼šè¢«æ•è·
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> error1 å’Œ error3 ä¼šè¢«æ•è·
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> éƒ½ä¸ä¼šè¢«æ•è·
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(8, 'B')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(8)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-8">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</div>
                <div class="explanation">
                    <h4>try/catch æ•è·èŒƒå›´ï¼š</h4>
                    
                    <p><strong>åˆ†ææ¯ä¸ªé”™è¯¯ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// error1: Promise.rejectä½†æ²¡æœ‰await</span>
<span class="keyword">const</span> promise <span class="operator">=</span> <span class="property">Promise</span>.<span class="function">reject</span><span class="bracket">(</span><span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error1'</span><span class="bracket">)</span><span class="bracket">)</span>;
<span class="comment">// âŒ ä¸ä¼šè¢«æ•è·ï¼æ²¡æœ‰awaitï¼Œä¸ä¼šåŒæ­¥æŠ›å‡º</span>

<span class="comment">// error2: setTimeoutä¸­æŠ›å‡º</span>
<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error2'</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;
<span class="comment">// âŒ ä¸ä¼šè¢«æ•è·ï¼å¼‚æ­¥å›è°ƒä¸­çš„é”™è¯¯æ— æ³•è¢«å¤–å±‚catchæ•è·</span>

<span class="comment">// error3: await Promise.reject</span>
<span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">reject</span><span class="bracket">(</span><span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error3'</span><span class="bracket">)</span><span class="bracket">)</span>;
<span class="comment">// âœ… ä¼šè¢«æ•è·ï¼awaitä¼šå°†rejected Promiseè½¬ä¸ºæŠ›å‡ºé”™è¯¯</span></code></pre></div>
                    
                    <p><strong>æ­£ç¡®å¤„ç†æ–¹å¼ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// å¤„ç†error1</span>
<span class="keyword">try</span> <span class="bracket">{</span>
    <span class="keyword">const</span> result <span class="operator">=</span> <span class="keyword">await</span> <span class="property">Promise</span>.<span class="function">reject</span><span class="bracket">(</span><span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error1'</span><span class="bracket">)</span><span class="bracket">)</span>;
    <span class="comment">// æˆ–</span>
    promise.<span class="function">catch</span><span class="bracket">(</span>error <span class="operator">=></span> <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span>error<span class="bracket">)</span><span class="bracket">)</span>;
<span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>e<span class="bracket">)</span> <span class="bracket">{</span> <span class="bracket">}</span>

<span class="comment">// å¤„ç†error2</span>
<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">try</span> <span class="bracket">{</span>
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'error2'</span><span class="bracket">)</span>;
    <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span>error<span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="comment">// æˆ–ä½¿ç”¨async</span>
<span class="function">setTimeout</span><span class="bracket">(</span><span class="keyword">async</span> <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">try</span> <span class="bracket">{</span>
        <span class="keyword">await</span> <span class="function">riskyOperation</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span>error<span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å…³é”®è§„åˆ™ï¼š</strong></p>
                    <ul>
                        <li>try/catch åªèƒ½æ•è·<strong>åŒæ­¥ä»£ç </strong>å’Œ<strong>awaitçš„Promise</strong></li>
                        <li>å¼‚æ­¥å›è°ƒï¼ˆsetTimeout, äº‹ä»¶ç›‘å¬å™¨ï¼‰çš„é”™è¯¯æ— æ³•æ•è·</li>
                        <li>Promiseå¿…é¡»awaitæ‰èƒ½è¢«try/catchæ•è·</li>
                        <li>æœªå¤„ç†çš„Promise rejectionä¼šè§¦å‘unhandledrejectionäº‹ä»¶</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šé”™è¯¯å¤„ç†é™·é˜±</span>
            </div>
        </div>

        <!-- Q9: asyncå‡½æ•°åµŒå¥— -->
        <div class="quiz-item" data-question="9">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">æ‰§è¡Œé¡ºåº</span>
            </div>
            
            <div class="question">Q9: ä»¥ä¸‹ä»£ç è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 start'</span><span class="bracket">)</span>;
    <span class="keyword">await</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 end'</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async2'</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'script start'</span><span class="bracket">)</span>;
<span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'script end'</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> script start â†’ async1 start â†’ async2 â†’ async1 end â†’ script end
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> script start â†’ async1 start â†’ async2 â†’ script end â†’ async1 end
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> script start â†’ script end â†’ async1 start â†’ async2 â†’ async1 end
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> async1 start â†’ async2 â†’ async1 end â†’ script start â†’ script end
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(9, 'B')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(9)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-9">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</div>
                <div class="explanation">
                    <h4>è¯¦ç»†æ‰§è¡Œæµç¨‹ï¼š</h4>
                    
                    <p><strong>é€æ­¥åˆ†æï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// 1. åŒæ­¥ä»£ç </span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'script start'</span><span class="bracket">)</span>;  <span class="comment">// â‘  è¾“å‡º</span>

<span class="comment">// 2. è°ƒç”¨async1</span>
<span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span>;
  <span class="comment">// 2.1 async1å‡½æ•°ä½“ï¼ˆawaitä¹‹å‰åŒæ­¥æ‰§è¡Œï¼‰</span>
  <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 start'</span><span class="bracket">)</span>;  <span class="comment">// â‘¡ è¾“å‡º</span>
  
  <span class="comment">// 2.2 await async2() - è°ƒç”¨async2</span>
  <span class="keyword">async</span> <span class="keyword">function</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
      <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async2'</span><span class="bracket">)</span>;  <span class="comment">// â‘¢ è¾“å‡ºï¼ˆåŒæ­¥ï¼‰</span>
  <span class="bracket">}</span>
  <span class="comment">// async2è¿”å› Promise.resolve(undefined)</span>
  
  <span class="comment">// 2.3 awaitåé¢çš„ä»£ç è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
  <span class="comment">// console.log('async1 end') â†’ å¾®ä»»åŠ¡</span>

<span class="comment">// 3. ç»§ç»­åŒæ­¥ä»£ç </span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'script end'</span><span class="bracket">)</span>;  <span class="comment">// â‘£ è¾“å‡º</span>

<span class="comment">// 4. æ‰§è¡Œå¾®ä»»åŠ¡</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 end'</span><span class="bracket">)</span>;  <span class="comment">// â‘¤ è¾“å‡º</span>

<span class="comment">// æœ€ç»ˆè¾“å‡ºï¼š</span>
<span class="comment">// script start</span>
<span class="comment">// async1 start</span>
<span class="comment">// async2</span>
<span class="comment">// script end</span>
<span class="comment">// async1 end</span></code></pre></div>
                    
                    <p><strong>ç­‰ä»·çš„Promiseå†™æ³•ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 start'</span><span class="bracket">)</span>;
    <span class="keyword">return</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 end'</span><span class="bracket">)</span>;
    <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="keyword">function</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async2'</span><span class="bracket">)</span>;
    <span class="keyword">return</span> <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>å…³é”®ç‚¹ï¼š</strong></p>
                    <ul>
                        <li>asyncå‡½æ•°åœ¨ç¬¬ä¸€ä¸ªawaitä¹‹å‰<strong>åŒæ­¥æ‰§è¡Œ</strong></li>
                        <li>awaitåçš„ä»£ç ç›¸å½“äº<strong>Promise.then</strong>ï¼ˆå¾®ä»»åŠ¡ï¼‰</li>
                        <li>è¢«awaitçš„asyncå‡½æ•°ä¼šç«‹å³æ‰§è¡Œ</li>
                        <li>å¾®ä»»åŠ¡ä¼˜å…ˆäºä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šasyncæ‰§è¡Œé¡ºåº</span>
            </div>
        </div>

        <!-- Q10: å®æˆ˜åº”ç”¨ -->
        <div class="quiz-item" data-question="10">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">æœ€ä½³å®è·µ</span>
            </div>
            
            <div class="question">Q10: å®ç°ä¸€ä¸ªé‡è¯•å‡½æ•°ï¼Œå¤±è´¥åè‡ªåŠ¨é‡è¯•Næ¬¡</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä½¿ç”¨é€’å½’ + try/catch
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä½¿ç”¨å¾ªç¯ + await
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> async/awaitæ— æ³•å®ç°é‡è¯•
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(10, 'C')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(10)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-10">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šC</div>
                <div class="explanation">
                    <h4>å®ç°å¼‚æ­¥é‡è¯•åŠŸèƒ½ï¼š</h4>
                    
                    <p><strong>æ–¹å¼1ï¼šå¾ªç¯å®ç°</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">retry</span><span class="bracket">(</span>fn, times <span class="operator">=</span> <span class="number">3</span>, delay <span class="operator">=</span> <span class="number">1000</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> times; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">try</span> <span class="bracket">{</span>
            <span class="keyword">return</span> <span class="keyword">await</span> <span class="function">fn</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// æˆåŠŸåˆ™è¿”å›</span>
        <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">if</span> <span class="bracket">(</span>i <span class="operator">===</span> times <span class="operator">-</span> <span class="number">1</span><span class="bracket">)</span> <span class="bracket">{</span>
                <span class="keyword">throw</span> error;  <span class="comment">// æœ€åä¸€æ¬¡å¤±è´¥ï¼ŒæŠ›å‡º</span>
            <span class="bracket">}</span>
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">`ç¬¬${i + 1}æ¬¡å¤±è´¥ï¼Œ${delay}msåé‡è¯•...`</span><span class="bracket">)</span>;
            <span class="keyword">await</span> <span class="keyword">new</span> <span class="function">Promise</span><span class="bracket">(</span>r <span class="operator">=></span> <span class="function">setTimeout</span><span class="bracket">(</span>r, delay<span class="bracket">)</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="keyword">await</span> <span class="function">retry</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="function">fetch</span><span class="bracket">(</span><span class="string">'/api/data'</span><span class="bracket">)</span>, <span class="number">3</span>, <span class="number">2000</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æ–¹å¼2ï¼šé€’å½’å®ç°</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">retryRecursive</span><span class="bracket">(</span>fn, times <span class="operator">=</span> <span class="number">3</span>, delay <span class="operator">=</span> <span class="number">1000</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">try</span> <span class="bracket">{</span>
        <span class="keyword">return</span> <span class="keyword">await</span> <span class="function">fn</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">if</span> <span class="bracket">(</span>times <span class="operator">&lt;=</span> <span class="number">1</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">throw</span> error;
        <span class="bracket">}</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">`å‰©ä½™${times - 1}æ¬¡é‡è¯•æœºä¼š`</span><span class="bracket">)</span>;
        <span class="keyword">await</span> <span class="keyword">new</span> <span class="function">Promise</span><span class="bracket">(</span>r <span class="operator">=></span> <span class="function">setTimeout</span><span class="bracket">(</span>r, delay<span class="bracket">)</span><span class="bracket">)</span>;
        <span class="keyword">return</span> <span class="function">retryRecursive</span><span class="bracket">(</span>fn, times <span class="operator">-</span> <span class="number">1</span>, delay<span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>å¢å¼ºç‰ˆï¼šæŒ‡æ•°é€€é¿</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">retryWithBackoff</span><span class="bracket">(</span>
    fn,
    times <span class="operator">=</span> <span class="number">3</span>,
    initialDelay <span class="operator">=</span> <span class="number">1000</span>,
    backoff <span class="operator">=</span> <span class="number">2</span>
<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">let</span> delay <span class="operator">=</span> initialDelay;
    
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> times; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">try</span> <span class="bracket">{</span>
            <span class="keyword">return</span> <span class="keyword">await</span> <span class="function">fn</span><span class="bracket">(</span><span class="bracket">)</span>;
        <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">if</span> <span class="bracket">(</span>i <span class="operator">===</span> times <span class="operator">-</span> <span class="number">1</span><span class="bracket">)</span> <span class="keyword">throw</span> error;
            
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">`ç­‰å¾…${delay}msåé‡è¯•...`</span><span class="bracket">)</span>;
            <span class="keyword">await</span> <span class="keyword">new</span> <span class="function">Promise</span><span class="bracket">(</span>r <span class="operator">=></span> <span class="function">setTimeout</span><span class="bracket">(</span>r, delay<span class="bracket">)</span><span class="bracket">)</span>;
            
            delay <span class="operator">*=</span> backoff;  <span class="comment">// æŒ‡æ•°å¢é•¿</span>
        <span class="bracket">}</span>
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// 1ç§’ â†’ 2ç§’ â†’ 4ç§’</span>
<span class="keyword">await</span> <span class="function">retryWithBackoff</span><span class="bracket">(</span>fetchData, <span class="number">3</span>, <span class="number">1000</span>, <span class="number">2</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>é«˜çº§ç‰¹æ€§ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// æ”¯æŒæ¡ä»¶é‡è¯•</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">retryWhen</span><span class="bracket">(</span>fn, shouldRetry, times <span class="operator">=</span> <span class="number">3</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> times; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">try</span> <span class="bracket">{</span>
            <span class="keyword">return</span> <span class="keyword">await</span> <span class="function">fn</span><span class="bracket">(</span><span class="bracket">)</span>;
        <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>error<span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">if</span> <span class="bracket">(</span><span class="operator">!</span><span class="function">shouldRetry</span><span class="bracket">(</span>error<span class="bracket">)</span> <span class="operator">||</span> i <span class="operator">===</span> times <span class="operator">-</span> <span class="number">1</span><span class="bracket">)</span> <span class="bracket">{</span>
                <span class="keyword">throw</span> error;
            <span class="bracket">}</span>
            <span class="keyword">await</span> <span class="function">delay</span><span class="bracket">(</span><span class="number">1000</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// åªé‡è¯•ç½‘ç»œé”™è¯¯</span>
<span class="keyword">await</span> <span class="function">retryWhen</span><span class="bracket">(</span>
    fetchData,
    error <span class="operator">=></span> error.<span class="property">name</span> <span class="operator">===</span> <span class="string">'NetworkError'</span>,
    <span class="number">3</span>
<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>
                    <ul>
                        <li>ç½‘ç»œè¯·æ±‚é‡è¯•</li>
                        <li>æ•°æ®åº“è¿æ¥é‡è¯•</li>
                        <li>æœåŠ¡è°ƒç”¨å®¹é”™</li>
                        <li>æ–‡ä»¶æ“ä½œé‡è¯•</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šasync/awaitæœ€ä½³å®è·µ</span>
            </div>
        </div>

        <div class="nav-links" style="margin-top: 3rem; display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="09-promises.html" style="padding: 0.75rem 1.5rem; background: #e2e8f0; color: #2d3748; text-decoration: none; border-radius: 6px;">â¬…ï¸ ä¸Šä¸€èŠ‚ï¼šPromise</a>
            <a href="../index.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">ğŸ“‹ é¢è¯•é¢˜å¯¼èˆª</a>
        </div>
    </div>
    
    <script>
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const parent = this.closest('.quiz-item');
                parent.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        function checkAnswer(questionNum, correctAnswer) {
            const quizItem = document.querySelector(`[data-question="${questionNum}"]`);
            const selectedOption = quizItem.querySelector('.option.selected');
            
            if (!selectedOption) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            const userAnswer = selectedOption.getAttribute('data-answer');
            const allOptions = quizItem.querySelectorAll('.option');
            
            allOptions.forEach(option => {
                const answer = option.getAttribute('data-answer');
                if (answer === correctAnswer) {
                    option.classList.add('correct');
                } else if (answer === userAnswer) {
                    option.classList.add('wrong');
                }
            });
            
            setTimeout(() => showAnswer(questionNum), 500);
        }

        function showAnswer(questionNum) {
            const answerSection = document.getElementById(`answer-${questionNum}`);
            answerSection.classList.add('show');
            answerSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    </script>
</body>
</html>
