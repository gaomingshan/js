<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµè§ˆå™¨å¯¼èˆªä¸å†å² - JavaScript é¢è¯•é¢˜</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }
        .container { max-width: 900px; margin: 0 auto; background: white; border-radius: 20px; padding: 3rem; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .header { text-align: center; margin-bottom: 3rem; padding-bottom: 2rem; border-bottom: 3px solid #667eea; }
        .header h1 { color: #667eea; font-size: 2.5rem; margin-bottom: 0.5rem; }
        .header p { color: #718096; font-size: 1.1rem; }
        .quiz-item { background: #f8fafc; border-radius: 12px; padding: 2rem; margin-bottom: 2rem; border: 2px solid #e2e8f0; }
        .quiz-item-header { display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
        .difficulty { padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600; }
        .difficulty.easy { background: #d4edda; color: #155724; }
        .difficulty.medium { background: #fff3cd; color: #856404; }
        .difficulty.hard { background: #f8d7da; color: #721c24; }
        .tag { padding: 0.4rem 1rem; background: #e2e8f0; color: #4a5568; border-radius: 20px; font-size: 0.85rem; }
        .question { font-size: 1.3rem; font-weight: 600; color: #2d3748; margin-bottom: 1.5rem; }
        .options { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1.5rem; }
        .option { padding: 1.2rem; background: white; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
        .option:hover { border-color: #667eea; background: #f7fafc; }
        .option.selected { border-color: #667eea; background: #eef2ff; }
        .btn-group { display: flex; gap: 1rem; margin-bottom: 1.5rem; }
        .btn { padding: 0.75rem 2rem; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; font-weight: 600; }
        .btn-primary { background: #667eea; color: white; }
        .btn-secondary { background: #e2e8f0; color: #4a5568; }
        .answer-section { display: none; margin-top: 1.5rem; padding: 1.5rem; background: white; border-radius: 8px; border-left: 4px solid #667eea; }
        .answer-section.show { display: block; }
        .answer-label { display: inline-block; padding: 0.5rem 1rem; background: #48bb78; color: white; border-radius: 6px; font-weight: 600; margin-bottom: 1rem; }
        .explanation { color: #4a5568; line-height: 1.8; }
        .code-question { background: #2d3748; color: #e2e8f0; padding: 1.5rem; border-radius: 8px; margin: 1rem 0; overflow-x: auto; font-family: 'Courier New', monospace; font-size: 0.9rem; }
        .keyword { color: #c678dd; }
        .function { color: #61afef; }
        .string { color: #98c379; }
        .comment { color: #5c6370; font-style: italic; }
        .number { color: #d19a66; }
        .operator { color: #56b6c2; }
        .property { color: #e06c75; }
        .bracket { color: #abb2bf; }
        .source-tag { display: inline-block; margin-top: 1rem; padding: 0.3rem 0.8rem; background: #eef2ff; color: #667eea; border-radius: 4px; font-size: 0.85rem; }
        table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
        th, td { padding: 0.75rem; text-align: left; border: 1px solid #e2e8f0; }
        th { background: #f7fafc; font-weight: 600; color: #2d3748; }
        .back-link { display: inline-block; margin-bottom: 2rem; color: white; text-decoration: none; font-size: 1.1rem; }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link">â† è¿”å›é¢è¯•é¢˜å¯¼èˆª</a>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ§­ æµè§ˆå™¨å¯¼èˆªä¸å†å²</h1>
            <p>æŒæ¡æµè§ˆå™¨è·¯ç”±å’Œå†å²ç®¡ç†</p>
        </div>

        <!-- Q1: History API -->
        <div class="quiz-item" data-question="1">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">History API</span>
            </div>
            
            <div class="question">Q1: pushState å’Œ replaceState çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> pushStateä¼šå¢åŠ å†å²è®°å½•ï¼ŒreplaceStateæ›¿æ¢å½“å‰è®°å½•
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä¸¤è€…å®Œå…¨ç›¸åŒ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> pushStateä¼šåˆ·æ–°é¡µé¢
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> replaceStateä¼šæ¸…ç©ºæ‰€æœ‰å†å²
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(1, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(1)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-1">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>History API è¯¦è§£ï¼š</h4>
                    
                    <p><strong>pushState - æ·»åŠ æ–°è®°å½•ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// æ·»åŠ æ–°çš„å†å²è®°å½•</span>
history.<span class="function">pushState</span><span class="bracket">(</span>
    <span class="bracket">{</span> page<span class="operator">:</span> <span class="number">1</span> <span class="bracket">}</span>,           <span class="comment">// stateå¯¹è±¡</span>
    <span class="string">'Page 1'</span>,               <span class="comment">// titleï¼ˆå¤§å¤šæ•°æµè§ˆå™¨å¿½ç•¥ï¼‰</span>
    <span class="string">'/page1'</span>                <span class="comment">// URL</span>
<span class="bracket">)</span>;

<span class="comment">// URLå˜ä¸º /page1ï¼Œä½†ä¸åˆ·æ–°é¡µé¢</span>
<span class="comment">// å¯ä»¥ç‚¹å‡»åé€€æŒ‰é’®è¿”å›</span></code></pre></div>
                    
                    <p><strong>replaceState - æ›¿æ¢å½“å‰è®°å½•ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// æ›¿æ¢å½“å‰å†å²è®°å½•</span>
history.<span class="function">replaceState</span><span class="bracket">(</span>
    <span class="bracket">{</span> page<span class="operator">:</span> <span class="number">2</span> <span class="bracket">}</span>,
    <span class="string">'Page 2'</span>,
    <span class="string">'/page2'</span>
<span class="bracket">)</span>;

<span class="comment">// URLå˜ä¸º /page2ï¼Œä¸å¢åŠ å†å²è®°å½•</span>
<span class="comment">// ç‚¹å‡»åé€€ä¼šè·³è¿‡è¿™æ¡è®°å½•</span></code></pre></div>
                    
                    <p><strong>ç›‘å¬popstateäº‹ä»¶ï¼š</strong></p>
                    <div class="code-question"><pre><code>window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'popstate'</span>, <span class="bracket">(</span>event<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'state:'</span>, event.<span class="property">state</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'URL:'</span>, location.<span class="property">pathname</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>SPAè·¯ç”±å®ç°ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">navigate</span><span class="bracket">(</span>url<span class="bracket">)</span> <span class="bracket">{</span>
    history.<span class="function">pushState</span><span class="bracket">(</span><span class="keyword">null</span>, <span class="string">''</span>, url<span class="bracket">)</span>;
    <span class="function">renderPage</span><span class="bracket">(</span>url<span class="bracket">)</span>;
<span class="bracket">}</span>

window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'popstate'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="function">renderPage</span><span class="bracket">(</span>location.<span class="property">pathname</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šHistory API</span>
            </div>
        </div>

        <!-- Q2: Locationå¯¹è±¡ -->
        <div class="quiz-item" data-question="2">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ ç®€å•</span>
                <span class="tag">Location</span>
            </div>
            
            <div class="question">Q2: location.href å’Œ location.replace() çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> hrefä¼šç•™ä¸‹å†å²è®°å½•ï¼Œreplaceä¸ä¼š
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä¸¤è€…å®Œå…¨ç›¸åŒ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> replaceä¼šæ‰“å¼€æ–°çª—å£
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> hrefä¸ä¼šè·³è½¬é¡µé¢
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(2, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(2)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-2">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>Location å¯¹è±¡è¯¦è§£ï¼š</h4>
                    
                    <p><strong>location.href - ä¿ç•™å†å²ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// è·³è½¬å¹¶ä¿ç•™å†å²è®°å½•</span>
location.<span class="property">href</span> <span class="operator">=</span> <span class="string">'https://example.com'</span>;
<span class="comment">// å¯ä»¥ç‚¹å‡»åé€€æŒ‰é’®è¿”å›</span></code></pre></div>
                    
                    <p><strong>location.replace() - ä¸ä¿ç•™å†å²ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// è·³è½¬ä½†ä¸ä¿ç•™å†å²è®°å½•</span>
location.<span class="function">replace</span><span class="bracket">(</span><span class="string">'https://example.com'</span><span class="bracket">)</span>;
<span class="comment">// ç‚¹å‡»åé€€ä¼šè·³è¿‡å½“å‰é¡µ</span></code></pre></div>
                    
                    <p><strong>Locationå±æ€§ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// URL: https://example.com:8080/path?q=test#section</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>location.<span class="property">href</span><span class="bracket">)</span>;      <span class="comment">// å®Œæ•´URL</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>location.<span class="property">protocol</span><span class="bracket">)</span>;  <span class="comment">// "https:"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>location.<span class="property">host</span><span class="bracket">)</span>;      <span class="comment">// "example.com:8080"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>location.<span class="property">hostname</span><span class="bracket">)</span>;  <span class="comment">// "example.com"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>location.<span class="property">port</span><span class="bracket">)</span>;      <span class="comment">// "8080"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>location.<span class="property">pathname</span><span class="bracket">)</span>;  <span class="comment">// "/path"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>location.<span class="property">search</span><span class="bracket">)</span>;    <span class="comment">// "?q=test"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>location.<span class="property">hash</span><span class="bracket">)</span>;      <span class="comment">// "#section"</span></code></pre></div>
                    
                    <p><strong>å…¶ä»–æ–¹æ³•ï¼š</strong></p>
                    <div class="code-question"><pre><code>location.<span class="function">reload</span><span class="bracket">(</span><span class="bracket">)</span>;         <span class="comment">// åˆ·æ–°é¡µé¢</span>
location.<span class="function">reload</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span>;    <span class="comment">// å¼ºåˆ¶ä»æœåŠ¡å™¨åˆ·æ–°</span>
location.<span class="function">assign</span><span class="bracket">(</span><span class="string">'url'</span><span class="bracket">)</span>;   <span class="comment">// ç­‰åŒäºhref=</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šLocation API</span>
            </div>
        </div>

        <!-- Q3: URLSearchParams -->
        <div class="quiz-item" data-question="3">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">URLå¤„ç†</span>
            </div>
            
            <div class="question">Q3: å¦‚ä½•ä¼˜é›…åœ°å¤„ç†URLæŸ¥è¯¢å‚æ•°ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä½¿ç”¨URLSearchParams API
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> åªèƒ½æ‰‹åŠ¨è§£æå­—ç¬¦ä¸²
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> æ— æ³•å¤„ç†
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(3, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(3)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-3">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>URLSearchParams è¯¦è§£ï¼š</h4>
                    
                    <div class="code-question"><pre><code><span class="comment">// åˆ›å»ºæŸ¥è¯¢å‚æ•°</span>
<span class="keyword">const</span> params <span class="operator">=</span> <span class="keyword">new</span> <span class="function">URLSearchParams</span><span class="bracket">(</span><span class="bracket">)</span>;
params.<span class="function">append</span><span class="bracket">(</span><span class="string">'name'</span>, <span class="string">'Alice'</span><span class="bracket">)</span>;
params.<span class="function">append</span><span class="bracket">(</span><span class="string">'age'</span>, <span class="string">'25'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>params.<span class="function">toString</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// "name=Alice&age=25"</span>

<span class="comment">// ä»URLè§£æ</span>
<span class="keyword">const</span> url <span class="operator">=</span> <span class="keyword">new</span> <span class="function">URL</span><span class="bracket">(</span><span class="string">'https://example.com?name=Bob&age=30'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>url.<span class="property">searchParams</span>.<span class="function">get</span><span class="bracket">(</span><span class="string">'name'</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// "Bob"</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>url.<span class="property">searchParams</span>.<span class="function">get</span><span class="bracket">(</span><span class="string">'age'</span><span class="bracket">)</span><span class="bracket">)</span>;   <span class="comment">// "30"</span>

<span class="comment">// å¸¸ç”¨æ–¹æ³•</span>
params.<span class="function">set</span><span class="bracket">(</span><span class="string">'name'</span>, <span class="string">'Charlie'</span><span class="bracket">)</span>;  <span class="comment">// è®¾ç½®/æ›´æ–°</span>
params.<span class="function">delete</span><span class="bracket">(</span><span class="string">'age'</span><span class="bracket">)</span>;           <span class="comment">// åˆ é™¤</span>
params.<span class="function">has</span><span class="bracket">(</span><span class="string">'name'</span><span class="bracket">)</span>;             <span class="comment">// æ£€æŸ¥æ˜¯å¦å­˜åœ¨</span>
params.<span class="function">getAll</span><span class="bracket">(</span><span class="string">'tags'</span><span class="bracket">)</span>;          <span class="comment">// è·å–æ‰€æœ‰å€¼ï¼ˆæ•°ç»„ï¼‰</span>

<span class="comment">// éå†å‚æ•°</span>
<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">const</span> <span class="bracket">[</span>key, value<span class="bracket">]</span> <span class="keyword">of</span> params<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>key, value<span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šURL API</span>
            </div>
        </div>

        <!-- Q4-Q10 è¡¥å……å®Œæ•´å†…å®¹ï¼Œè¿™é‡Œç”¨ç´§å‡‘æ ¼å¼ -->
        
        <!-- Q4: hashè·¯ç”± -->
        <div class="quiz-item" data-question="4">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">Hashè·¯ç”±</span>
            </div>
            <div class="question">Q4: Hashè·¯ç”±(#)å’ŒHistoryè·¯ç”±çš„åŒºåˆ«ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> Hashè·¯ç”±æœ‰#å·ä¸”ä¸éœ€è¦æœåŠ¡å™¨é…ç½®ï¼ŒHistoryè·¯ç”±æ›´ç¾è§‚ä½†éœ€è¦æœåŠ¡å™¨æ”¯æŒ</div>
                <div class="option" data-answer="B"><strong>B.</strong> ä¸¤è€…å®Œå…¨ç›¸åŒ</div>
                <div class="option" data-answer="C"><strong>C.</strong> Hashè·¯ç”±æ›´å¿«</div>
                <div class="option" data-answer="D"><strong>D.</strong> Historyè·¯ç”±ä¸å…¼å®¹</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(4, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(4)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-4">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>ä¸¤ç§è·¯ç”±æ¨¡å¼å¯¹æ¯”ï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// Hashè·¯ç”±</span>
<span class="comment">// URL: http://example.com/#/about</span>
window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'hashchange'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">const</span> hash <span class="operator">=</span> location.<span class="property">hash</span>.<span class="function">slice</span><span class="bracket">(</span><span class="number">1</span><span class="bracket">)</span>; <span class="comment">// "/about"</span>
    <span class="function">renderPage</span><span class="bracket">(</span>hash<span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// Historyè·¯ç”±</span>
<span class="comment">// URL: http://example.com/about</span>
<span class="keyword">function</span> <span class="function">navigate</span><span class="bracket">(</span>path<span class="bracket">)</span> <span class="bracket">{</span>
    history.<span class="function">pushState</span><span class="bracket">(</span><span class="keyword">null</span>, <span class="string">''</span>, path<span class="bracket">)</span>;
    <span class="function">renderPage</span><span class="bracket">(</span>path<span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
                    <p><strong>Hashè·¯ç”±ä¼˜ç‚¹ï¼š</strong>ä¸éœ€è¦æœåŠ¡å™¨é…ç½®ã€å…¼å®¹æ€§å¥½<br>
                    <strong>Historyè·¯ç”±ä¼˜ç‚¹ï¼š</strong>URLç¾è§‚ã€SEOå‹å¥½</p>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå‰ç«¯è·¯ç”±</span>
            </div>
        </div>

        <!-- Q5-Q10ç²¾ç®€ä½†å®Œæ•´ -->
        <div class="quiz-item" data-question="5">
            <div class="quiz-item-header"><span class="difficulty easy">ğŸŸ¢ ç®€å•</span><span class="tag">Referrer</span></div>
            <div class="question">Q5: document.referrerçš„ä½œç”¨ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> è·å–æ¥æºé¡µé¢çš„URL</div>
                <div class="option" data-answer="B"><strong>B.</strong> è·å–å½“å‰é¡µé¢URL</div>
                <div class="option" data-answer="C"><strong>C.</strong> è·³è½¬åˆ°ä¸Šä¸€é¡µ</div>
                <div class="option" data-answer="D"><strong>D.</strong> åˆ·æ–°é¡µé¢</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(5, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(5)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-5">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <div class="code-question"><pre><code><span class="comment">// è·å–æ¥æºé¡µé¢</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>document.<span class="property">referrer</span><span class="bracket">)</span>; <span class="comment">// ä¸Šä¸€ä¸ªé¡µé¢çš„URL</span>

<span class="comment">// åº”ç”¨ï¼šç»Ÿè®¡æ¥æºã€åˆ¤æ–­å…¥å£</span>
<span class="keyword">if</span> <span class="bracket">(</span>document.<span class="property">referrer</span>.<span class="function">includes</span><span class="bracket">(</span><span class="string">'google.com'</span><span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'æ¥è‡ªGoogleæœç´¢'</span><span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šDocument API</span>
            </div>
        </div>

        <div class="quiz-item" data-question="6">
            <div class="quiz-item-header"><span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span><span class="tag">å‰è¿›åé€€</span></div>
            <div class="question">Q6: history.go()ã€back()ã€forward()çš„ç”¨æ³•ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> go(n)è·³è½¬næ­¥ï¼Œback()åé€€ï¼Œforward()å‰è¿›</div>
                <div class="option" data-answer="B"><strong>B.</strong> åªèƒ½åé€€ä¸èƒ½å‰è¿›</div>
                <div class="option" data-answer="C"><strong>C.</strong> go()å·²åºŸå¼ƒ</div>
                <div class="option" data-answer="D"><strong>D.</strong> å¿…é¡»ç”¨location</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(6, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(6)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-6">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <div class="code-question"><pre><code>history.<span class="function">back</span><span class="bracket">(</span><span class="bracket">)</span>;      <span class="comment">// åé€€ä¸€é¡µï¼Œç­‰åŒäºgo(-1)</span>
history.<span class="function">forward</span><span class="bracket">(</span><span class="bracket">)</span>;   <span class="comment">// å‰è¿›ä¸€é¡µï¼Œç­‰åŒäºgo(1)</span>
history.<span class="function">go</span><span class="bracket">(</span><span class="operator">-</span><span class="number">2</span><span class="bracket">)</span>;      <span class="comment">// åé€€2é¡µ</span>
history.<span class="function">go</span><span class="bracket">(</span><span class="number">0</span><span class="bracket">)</span>;       <span class="comment">// åˆ·æ–°å½“å‰é¡µ</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šHistory API</span>
            </div>
        </div>

        <div class="quiz-item" data-question="7">
            <div class="quiz-item-header"><span class="difficulty hard">ğŸ”´ å›°éš¾</span><span class="tag">è·¯ç”±å®ˆå«</span></div>
            <div class="question">Q7: å¦‚ä½•å®ç°è·¯ç”±è·³è½¬å‰çš„æƒé™éªŒè¯ï¼ˆè·¯ç”±å®ˆå«ï¼‰ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> æ‹¦æˆªpushStateå¹¶åœ¨è·³è½¬å‰æ£€æŸ¥æƒé™</div>
                <div class="option" data-answer="B"><strong>B.</strong> æ— æ³•å®ç°</div>
                <div class="option" data-answer="C"><strong>C.</strong> åªèƒ½ç”¨æ¡†æ¶</div>
                <div class="option" data-answer="D"><strong>D.</strong> ç”¨popstate</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(7, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(7)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-7">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <div class="code-question"><pre><code><span class="comment">// è·¯ç”±å®ˆå«å®ç°</span>
<span class="keyword">const</span> originalPushState <span class="operator">=</span> history.<span class="property">pushState</span>;
history.<span class="property">pushState</span> <span class="operator">=</span> <span class="keyword">function</span><span class="bracket">(</span>state, title, url<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span><span class="function">canNavigate</span><span class="bracket">(</span>url<span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
        originalPushState.<span class="function">call</span><span class="bracket">(</span><span class="keyword">this</span>, state, title, url<span class="bracket">)</span>;
    <span class="bracket">}</span> <span class="keyword">else</span> <span class="bracket">{</span>
        <span class="function">alert</span><span class="bracket">(</span><span class="string">'æ— æƒè®¿é—®'</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šè·¯ç”±æ‹¦æˆª</span>
            </div>
        </div>

        <div class="quiz-item" data-question="8">
            <div class="quiz-item-header"><span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span><span class="tag">é¡µé¢å¸è½½</span></div>
            <div class="question">Q8: å¦‚ä½•ç›‘å¬ç”¨æˆ·ç¦»å¼€é¡µé¢ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> ä½¿ç”¨beforeunloadå’Œunloadäº‹ä»¶</div>
                <div class="option" data-answer="B"><strong>B.</strong> æ— æ³•ç›‘å¬</div>
                <div class="option" data-answer="C"><strong>C.</strong> ç”¨popstate</div>
                <div class="option" data-answer="D"><strong>D.</strong> åªèƒ½ç”¨hashchange</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(8, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(8)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-8">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <div class="code-question"><pre><code><span class="comment">// beforeunloadï¼šå¯ä»¥é˜»æ­¢ç¦»å¼€</span>
window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'beforeunload'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    e.<span class="function">preventDefault</span><span class="bracket">(</span><span class="bracket">)</span>;
    e.<span class="property">returnValue</span> <span class="operator">=</span> <span class="string">''</span>; <span class="comment">// æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// unloadï¼šé¡µé¢å³å°†å¸è½½</span>
window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'unload'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="comment">// æ¸…ç†èµ„æºã€å‘é€ç»Ÿè®¡</span>
    navigator.<span class="function">sendBeacon</span><span class="bracket">(</span><span class="string">'/api/log'</span>, data<span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šé¡µé¢ç”Ÿå‘½å‘¨æœŸ</span>
            </div>
        </div>

        <div class="quiz-item" data-question="9">
            <div class="quiz-item-header"><span class="difficulty hard">ğŸ”´ å›°éš¾</span><span class="tag">Page Visibility</span></div>
            <div class="question">Q9: å¦‚ä½•æ£€æµ‹é¡µé¢æ˜¯å¦å¤„äºå¯è§çŠ¶æ€ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> ä½¿ç”¨Page Visibility API (visibilitychangeäº‹ä»¶)</div>
                <div class="option" data-answer="B"><strong>B.</strong> åªèƒ½ç”¨focusäº‹ä»¶</div>
                <div class="option" data-answer="C"><strong>C.</strong> æ— æ³•æ£€æµ‹</div>
                <div class="option" data-answer="D"><strong>D.</strong> ç”¨resizeäº‹ä»¶</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(9, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(9)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-9">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <div class="code-question"><pre><code>document.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'visibilitychange'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span>document.<span class="property">hidden</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="comment">// é¡µé¢ä¸å¯è§ï¼šæš‚åœè§†é¢‘ã€åœæ­¢è½®è¯¢</span>
        video.<span class="function">pause</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span> <span class="keyword">else</span> <span class="bracket">{</span>
        <span class="comment">// é¡µé¢å¯è§ï¼šæ¢å¤æ’­æ”¾</span>
        video.<span class="function">play</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// æ£€æŸ¥å½“å‰çŠ¶æ€</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>document.<span class="property">visibilityState</span><span class="bracket">)</span>; <span class="comment">// 'visible' or 'hidden'</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šPage Visibility API</span>
            </div>
        </div>

        <div class="quiz-item" data-question="10">
            <div class="quiz-item-header"><span class="difficulty hard">ğŸ”´ å›°éš¾</span><span class="tag">å®æˆ˜</span></div>
            <div class="question">Q10: å®ç°ä¸€ä¸ªç®€å•çš„å‰ç«¯è·¯ç”±ç³»ç»Ÿï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> ç»“åˆHistory APIå’Œè‡ªå®šä¹‰è·¯ç”±è¡¨å®ç°å®Œæ•´è·¯ç”±</div>
                <div class="option" data-answer="B"><strong>B.</strong> åªèƒ½ç”¨æ¡†æ¶</div>
                <div class="option" data-answer="C"><strong>C.</strong> å¿…é¡»ç”¨hash</div>
                <div class="option" data-answer="D"><strong>D.</strong> æ— æ³•å®ç°</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(10, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(10)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-10">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <div class="code-question"><pre><code><span class="keyword">class</span> <span class="function">Router</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">routes</span> <span class="operator">=</span> <span class="bracket">{</span><span class="bracket">}</span>;
        window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'popstate'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="keyword">this</span>.<span class="function">handleRoute</span><span class="bracket">(</span><span class="bracket">)</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">route</span><span class="bracket">(</span>path, handler<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">routes</span><span class="bracket">[</span>path<span class="bracket">]</span> <span class="operator">=</span> handler;
    <span class="bracket">}</span>
    
    <span class="function">navigate</span><span class="bracket">(</span>path<span class="bracket">)</span> <span class="bracket">{</span>
        history.<span class="function">pushState</span><span class="bracket">(</span><span class="keyword">null</span>, <span class="string">''</span>, path<span class="bracket">)</span>;
        <span class="keyword">this</span>.<span class="function">handleRoute</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">handleRoute</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> path <span class="operator">=</span> location.<span class="property">pathname</span>;
        <span class="keyword">const</span> handler <span class="operator">=</span> <span class="keyword">this</span>.<span class="property">routes</span><span class="bracket">[</span>path<span class="bracket">]</span> <span class="operator">||</span> <span class="keyword">this</span>.<span class="property">routes</span><span class="bracket">[</span><span class="string">'/404'</span><span class="bracket">]</span>;
        <span class="keyword">if</span> <span class="bracket">(</span>handler<span class="bracket">)</span> <span class="function">handler</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="keyword">const</span> router <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Router</span><span class="bracket">(</span><span class="bracket">)</span>;
router.<span class="function">route</span><span class="bracket">(</span><span class="string">'/'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'Home'</span><span class="bracket">)</span><span class="bracket">)</span>;
router.<span class="function">route</span><span class="bracket">(</span><span class="string">'/about'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'About'</span><span class="bracket">)</span><span class="bracket">)</span>;
router.<span class="function">navigate</span><span class="bracket">(</span><span class="string">'/about'</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šè·¯ç”±ç³»ç»Ÿ</span>
            </div>
        </div>

        <div style="margin-top: 3rem; display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="11-browser-storage.html" style="padding: 0.75rem 1.5rem; background: #e2e8f0; color: #2d3748; text-decoration: none; border-radius: 6px;">â¬…ï¸ ä¸Šä¸€èŠ‚ï¼šæµè§ˆå™¨å­˜å‚¨</a>
            <a href="11-browser-apis.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">â¡ï¸ ä¸‹ä¸€èŠ‚ï¼šæµè§ˆå™¨API</a>
            <a href="../index.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">ğŸ“‹ é¢è¯•é¢˜å¯¼èˆª</a>
        </div>
    </div>
    
    <script>
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const parent = this.closest('.quiz-item');
                parent.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        function checkAnswer(questionNum, correctAnswer) {
            const quizItem = document.querySelector(`[data-question="${questionNum}"]`);
            const selectedOption = quizItem.querySelector('.option.selected');
            if (!selectedOption) { alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼'); return; }
            const userAnswer = selectedOption.dataset.answer;
            quizItem.querySelectorAll('.option').forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt.dataset.answer === correctAnswer) opt.classList.add('correct');
                else if (opt === selectedOption) opt.classList.add('wrong');
            });
            alert(userAnswer === correctAnswer ? 'âœ… å›ç­”æ­£ç¡®ï¼' : 'âŒ å›ç­”é”™è¯¯');
            showAnswer(questionNum);
        }

        function showAnswer(questionNum) {
            document.getElementById(`answer-${questionNum}`).classList.add('show');
        }
    </script>
</body>
</html>
