<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM åŸºç¡€æ“ä½œ é¢è¯•é¢˜ - JavaScript é¢è¯•é¢˜ç²¾é€‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #2d3748;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 2.5rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #1a202c;
            margin-bottom: 0.5rem;
            font-size: 2rem;
        }

        .subtitle {
            color: #718096;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .quiz-item {
            background: #f7fafc;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 4px solid #667eea;
        }

        .quiz-item-header {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .difficulty {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .difficulty.easy {
            background: #c6f6d5;
            color: #22543d;
        }

        .difficulty.medium {
            background: #fef5e7;
            color: #744210;
        }

        .difficulty.hard {
            background: #fed7d7;
            color: #742a2a;
        }

        .tag {
            background: #e6fffa;
            color: #234e52;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .question {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .code-question {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
            border-left: 4px solid #667eea;
        }

        .code-question pre {
            margin: 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .code-question code {
            font-family: inherit;
        }

        .keyword { color: #c792ea; }
        .function { color: #82aaff; }
        .string { color: #c3e88d; }
        .number { color: #f78c6c; }
        .comment { color: #697098; font-style: italic; }
        .operator { color: #89ddff; }
        .property { color: #ffcb6b; }
        .bracket { color: #a6accd; }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin: 1.5rem 0;
        }

        .option {
            background: white;
            padding: 1rem 1.25rem;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option:hover {
            border-color: #667eea;
            background: #f7fafc;
            transform: translateX(4px);
        }

        .option.selected {
            border-color: #667eea;
            background: #eef2ff;
        }

        .option.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .option.wrong {
            border-color: #f56565;
            background: #fff5f5;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #2d3748;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .answer-section {
            display: none;
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            border: 2px solid #bee3f8;
        }

        .answer-section.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .answer-label {
            display: inline-block;
            background: #48bb78;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .explanation {
            color: #2d3748;
            line-height: 1.8;
        }

        .explanation h4 {
            color: #2d3748;
            margin: 1.5rem 0 1rem 0;
            font-size: 1.1rem;
        }

        .explanation ul, .explanation ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .explanation li {
            margin-bottom: 0.5rem;
        }

        .explanation p {
            margin-bottom: 1rem;
        }

        .explanation strong {
            color: #1a202c;
            font-weight: 600;
        }

        .source-tag {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.4rem 0.8rem;
            background: #edf2f7;
            color: #4a5568;
            border-radius: 6px;
            font-size: 0.85rem;
        }

        .nav-links a {
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
        }

        .nav-links a:hover {
            transform: translateY(-2px);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            text-align: left;
        }

        th {
            background: #f7fafc;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ³ DOM åŸºç¡€æ“ä½œ é¢è¯•é¢˜ç²¾é€‰</h1>
        <p class="subtitle">æŒæ¡æ–‡æ¡£å¯¹è±¡æ¨¡å‹æ“ä½œ - 10é“ç²¾é€‰é¢˜ç›®</p>

        <!-- Q1: DOMèŠ‚ç‚¹ç±»å‹ -->
        <div class="quiz-item" data-question="1">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">èŠ‚ç‚¹ç±»å‹</span>
            </div>
            
            <div class="question">Q1: DOMä¸­å¸¸è§çš„èŠ‚ç‚¹ç±»å‹ï¼ˆnodeTypeï¼‰æœ‰å“ªäº›ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> å…ƒç´ èŠ‚ç‚¹(1)ã€å±æ€§èŠ‚ç‚¹(2)ã€æ–‡æœ¬èŠ‚ç‚¹(3)ã€æ³¨é‡ŠèŠ‚ç‚¹(8)ã€æ–‡æ¡£èŠ‚ç‚¹(9)
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> åªæœ‰å…ƒç´ èŠ‚ç‚¹å’Œæ–‡æœ¬èŠ‚ç‚¹
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> å…ƒç´ èŠ‚ç‚¹(0)ã€æ–‡æœ¬èŠ‚ç‚¹(1)ã€æ³¨é‡ŠèŠ‚ç‚¹(2)
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> èŠ‚ç‚¹ç±»å‹åªæœ‰ä¸€ç§
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(1, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(1)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-1">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>DOMèŠ‚ç‚¹ç±»å‹è¯¦è§£ï¼š</h4>
                    
                    <table>
                        <tr>
                            <th>èŠ‚ç‚¹ç±»å‹</th>
                            <th>nodeTypeå€¼</th>
                            <th>nodeName</th>
                            <th>nodeValue</th>
                        </tr>
                        <tr>
                            <td>å…ƒç´ èŠ‚ç‚¹ ELEMENT_NODE</td>
                            <td>1</td>
                            <td>æ ‡ç­¾åï¼ˆå¤§å†™ï¼‰</td>
                            <td>null</td>
                        </tr>
                        <tr>
                            <td>å±æ€§èŠ‚ç‚¹ ATTRIBUTE_NODE</td>
                            <td>2</td>
                            <td>å±æ€§å</td>
                            <td>å±æ€§å€¼</td>
                        </tr>
                        <tr>
                            <td>æ–‡æœ¬èŠ‚ç‚¹ TEXT_NODE</td>
                            <td>3</td>
                            <td>#text</td>
                            <td>æ–‡æœ¬å†…å®¹</td>
                        </tr>
                        <tr>
                            <td>æ³¨é‡ŠèŠ‚ç‚¹ COMMENT_NODE</td>
                            <td>8</td>
                            <td>#comment</td>
                            <td>æ³¨é‡Šå†…å®¹</td>
                        </tr>
                        <tr>
                            <td>æ–‡æ¡£èŠ‚ç‚¹ DOCUMENT_NODE</td>
                            <td>9</td>
                            <td>#document</td>
                            <td>null</td>
                        </tr>
                        <tr>
                            <td>æ–‡æ¡£ç±»å‹èŠ‚ç‚¹ DOCUMENT_TYPE_NODE</td>
                            <td>10</td>
                            <td>doctypeåç§°</td>
                            <td>null</td>
                        </tr>
                        <tr>
                            <td>æ–‡æ¡£ç‰‡æ®µèŠ‚ç‚¹ DOCUMENT_FRAGMENT_NODE</td>
                            <td>11</td>
                            <td>#document-fragment</td>
                            <td>null</td>
                        </tr>
                    </table>
                    
                    <p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> div <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="property">nodeType</span><span class="bracket">)</span>;        <span class="comment">// 1 (å…ƒç´ èŠ‚ç‚¹)</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="property">nodeName</span><span class="bracket">)</span>;       <span class="comment">// "DIV"</span>

<span class="keyword">const</span> textNode <span class="operator">=</span> document.<span class="function">createTextNode</span><span class="bracket">(</span><span class="string">'hello'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>textNode.<span class="property">nodeType</span><span class="bracket">)</span>;   <span class="comment">// 3 (æ–‡æœ¬èŠ‚ç‚¹)</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>textNode.<span class="property">nodeValue</span><span class="bracket">)</span>;  <span class="comment">// "hello"</span>

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>document.<span class="property">nodeType</span><span class="bracket">)</span>;    <span class="comment">// 9 (æ–‡æ¡£èŠ‚ç‚¹)</span></code></pre></div>
                    
                    <p><strong>åˆ¤æ–­èŠ‚ç‚¹ç±»å‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">isElement</span><span class="bracket">(</span>node<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> node.<span class="property">nodeType</span> <span class="operator">===</span> <span class="number">1</span>;
<span class="bracket">}</span>

<span class="keyword">function</span> <span class="function">isTextNode</span><span class="bracket">(</span>node<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> node.<span class="property">nodeType</span> <span class="operator">===</span> <span class="number">3</span>;
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šDOMèŠ‚ç‚¹ç±»å‹</span>
            </div>
        </div>

        <!-- Q2: å…ƒç´ é€‰æ‹© -->
        <div class="quiz-item" data-question="2">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">å…ƒç´ é€‰æ‹©</span>
            </div>
            
            <div class="question">Q2: ä»¥ä¸‹å“ªä¸ªæ–¹æ³•è¿”å›çš„æ˜¯åŠ¨æ€é›†åˆï¼ˆä¼šè‡ªåŠ¨æ›´æ–°ï¼‰ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> getElementsByClassName å’Œ getElementsByTagName
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> querySelectorAll
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> querySelector
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> éƒ½æ˜¯é™æ€é›†åˆ
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(2, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(2)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-2">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>åŠ¨æ€é›†åˆ vs é™æ€é›†åˆï¼š</h4>
                    
                    <p><strong>åŠ¨æ€é›†åˆï¼ˆHTMLCollectionï¼‰ï¼š</strong></p>
                    <ul>
                        <li><code>getElementsByClassName()</code></li>
                        <li><code>getElementsByTagName()</code></li>
                        <li><code>getElementsByName()</code></li>
                        <li><code>children</code> å±æ€§</li>
                    </ul>
                    
                    <p><strong>é™æ€é›†åˆï¼ˆNodeListï¼‰ï¼š</strong></p>
                    <ul>
                        <li><code>querySelectorAll()</code></li>
                        <li><code>childNodes</code> å±æ€§</li>
                    </ul>
                    
                    <p><strong>åŠ¨æ€é›†åˆç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> divs <span class="operator">=</span> document.<span class="function">getElementsByTagName</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>divs.<span class="property">length</span><span class="bracket">)</span>;  <span class="comment">// å‡è®¾ä¸º 5</span>

<span class="comment">// æ·»åŠ æ–°å…ƒç´ </span>
<span class="keyword">const</span> newDiv <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;
document.<span class="property">body</span>.<span class="function">appendChild</span><span class="bracket">(</span>newDiv<span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>divs.<span class="property">length</span><span class="bracket">)</span>;  <span class="comment">// 6 - è‡ªåŠ¨æ›´æ–°ï¼âœ…</span></code></pre></div>
                    
                    <p><strong>é™æ€é›†åˆç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> divs <span class="operator">=</span> document.<span class="function">querySelectorAll</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>divs.<span class="property">length</span><span class="bracket">)</span>;  <span class="comment">// å‡è®¾ä¸º 5</span>

<span class="keyword">const</span> newDiv <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;
document.<span class="property">body</span>.<span class="function">appendChild</span><span class="bracket">(</span>newDiv<span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>divs.<span class="property">length</span><span class="bracket">)</span>;  <span class="comment">// 5 - ä¸ä¼šæ›´æ–° âŒ</span></code></pre></div>
                    
                    <p><strong>âš ï¸ æ³¨æ„é™·é˜±ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åŠ¨æ€é›†åˆéå†é™·é˜±</span>
<span class="keyword">const</span> divs <span class="operator">=</span> document.<span class="function">getElementsByTagName</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;

<span class="comment">// âŒ é”™è¯¯ï¼šä¼šé™·å…¥æ­»å¾ªç¯ï¼</span>
<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> divs.<span class="property">length</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    document.<span class="property">body</span>.<span class="function">appendChild</span><span class="bracket">(</span>document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span><span class="bracket">)</span>;
    <span class="comment">// divs.length ä¸æ–­å¢åŠ ï¼</span>
<span class="bracket">}</span>

<span class="comment">// âœ… æ­£ç¡®ï¼šç¼“å­˜é•¿åº¦æˆ–è½¬ä¸ºæ•°ç»„</span>
<span class="keyword">const</span> length <span class="operator">=</span> divs.<span class="property">length</span>;
<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> length; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// ...</span>
<span class="bracket">}</span>

<span class="comment">// æˆ–è½¬ä¸ºæ•°ç»„</span>
<span class="property">Array</span>.<span class="function">from</span><span class="bracket">(</span>divs<span class="bracket">)</span>.<span class="function">forEach</span><span class="bracket">(</span>div <span class="operator">=></span> <span class="bracket">{</span><span class="comment">/* ... */</span><span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå…ƒç´ é€‰æ‹©æ–¹æ³•</span>
            </div>
        </div>

        <!-- Q3: èŠ‚ç‚¹æ“ä½œ -->
        <div class="quiz-item" data-question="3">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">èŠ‚ç‚¹æ“ä½œ</span>
            </div>
            
            <div class="question">Q3: appendChild å’Œ insertBefore çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> appendChild æ·»åŠ åˆ°æœ«å°¾ï¼ŒinsertBefore æ’å…¥åˆ°æŒ‡å®šèŠ‚ç‚¹ä¹‹å‰
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å®Œå…¨ç›¸åŒï¼Œåªæ˜¯åå­—ä¸åŒ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> appendChild æ’å…¥åˆ°å¼€å¤´ï¼ŒinsertBefore æ’å…¥åˆ°æœ«å°¾
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> insertBefore æ˜¯ appendChild çš„åˆ«å
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(3, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(3)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-3">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>èŠ‚ç‚¹æ’å…¥æ–¹æ³•è¯¦è§£ï¼š</h4>
                    
                    <p><strong>appendChild - æ·»åŠ åˆ°æœ«å°¾ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> parent <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'parent'</span><span class="bracket">)</span>;
<span class="keyword">const</span> newChild <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;

<span class="comment">// æ·»åŠ åˆ°parentçš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</span>
parent.<span class="function">appendChild</span><span class="bracket">(</span>newChild<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>insertBefore - æ’å…¥åˆ°æŒ‡å®šèŠ‚ç‚¹ä¹‹å‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> parent <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'parent'</span><span class="bracket">)</span>;
<span class="keyword">const</span> newChild <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;
<span class="keyword">const</span> refChild <span class="operator">=</span> parent.<span class="property">children</span><span class="bracket">[</span><span class="number">0</span><span class="bracket">]</span>;

<span class="comment">// æ’å…¥åˆ°refChildä¹‹å‰</span>
parent.<span class="function">insertBefore</span><span class="bracket">(</span>newChild, refChild<span class="bracket">)</span>;

<span class="comment">// å¦‚æœrefChildä¸ºnullï¼Œç­‰åŒäºappendChild</span>
parent.<span class="function">insertBefore</span><span class="bracket">(</span>newChild, <span class="keyword">null</span><span class="bracket">)</span>;  <span class="comment">// æ·»åŠ åˆ°æœ«å°¾</span></code></pre></div>
                    
                    <p><strong>å®ç° insertAfterï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// DOMæ²¡æœ‰æä¾›insertAfterï¼Œå¯ä»¥è‡ªå·±å®ç°</span>
<span class="keyword">function</span> <span class="function">insertAfter</span><span class="bracket">(</span>newElement, targetElement<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> parent <span class="operator">=</span> targetElement.<span class="property">parentNode</span>;
    
    <span class="keyword">if</span> <span class="bracket">(</span>targetElement.<span class="property">nextSibling</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="comment">// å¦‚æœæœ‰ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ï¼Œæ’å…¥åˆ°å®ƒä¹‹å‰</span>
        parent.<span class="function">insertBefore</span><span class="bracket">(</span>newElement, targetElement.<span class="property">nextSibling</span><span class="bracket">)</span>;
    <span class="bracket">}</span> <span class="keyword">else</span> <span class="bracket">{</span>
        <span class="comment">// å¦åˆ™ç›´æ¥æ·»åŠ åˆ°æœ«å°¾</span>
        parent.<span class="function">appendChild</span><span class="bracket">(</span>newElement<span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>ç°ä»£API - before/afterï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> target <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'target'</span><span class="bracket">)</span>;
<span class="keyword">const</span> newElement <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;

<span class="comment">// åœ¨targetä¹‹å‰æ’å…¥</span>
target.<span class="function">before</span><span class="bracket">(</span>newElement<span class="bracket">)</span>;

<span class="comment">// åœ¨targetä¹‹åæ’å…¥</span>
target.<span class="function">after</span><span class="bracket">(</span>newElement<span class="bracket">)</span>;

<span class="comment">// æ›¿æ¢target</span>
target.<span class="function">replaceWith</span><span class="bracket">(</span>newElement<span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šèŠ‚ç‚¹æ’å…¥</span>
            </div>
        </div>

        <!-- Q4: innerHTML vs textContent -->
        <div class="quiz-item" data-question="4">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">å†…å®¹æ“ä½œ</span>
            </div>
            
            <div class="question">Q4: innerHTMLã€innerText å’Œ textContent çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> innerHTML è§£æHTMLï¼ŒtextContent çº¯æ–‡æœ¬ä¸è§¦å‘é‡æ’ï¼ŒinnerText è€ƒè™‘CSSæ ·å¼
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å®Œå…¨ç›¸åŒï¼Œå¯ä»¥äº’æ¢ä½¿ç”¨
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> innerHTML æœ€å®‰å…¨ï¼Œæ¨èä½¿ç”¨
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> textContent ä¼šè§£æHTMLæ ‡ç­¾
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(4, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(4)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-4">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>ä¸‰è€…åŒºåˆ«è¯¦è§£ï¼š</h4>
                    
                    <table>
                        <tr>
                            <th>å±æ€§</th>
                            <th>HTMLè§£æ</th>
                            <th>æ€§èƒ½</th>
                            <th>CSSå½±å“</th>
                            <th>å®‰å…¨æ€§</th>
                        </tr>
                        <tr>
                            <td><strong>innerHTML</strong></td>
                            <td>âœ… è§£æHTML</td>
                            <td>æ…¢ï¼ˆè§£æ+æ¸²æŸ“ï¼‰</td>
                            <td>âŒ</td>
                            <td>âš ï¸ XSSé£é™©</td>
                        </tr>
                        <tr>
                            <td><strong>innerText</strong></td>
                            <td>âŒ çº¯æ–‡æœ¬</td>
                            <td>æ…¢ï¼ˆè§¦å‘é‡æ’ï¼‰</td>
                            <td>âœ… è€ƒè™‘æ ·å¼</td>
                            <td>âœ… å®‰å…¨</td>
                        </tr>
                        <tr>
                            <td><strong>textContent</strong></td>
                            <td>âŒ çº¯æ–‡æœ¬</td>
                            <td>å¿«</td>
                            <td>âŒ ä¸è€ƒè™‘æ ·å¼</td>
                            <td>âœ… å®‰å…¨</td>
                        </tr>
                    </table>
                    
                    <p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;div id="test"&gt;</span>
<span class="comment">  Hello &lt;span style="display:none"&gt;World&lt;/span&gt;</span>
<span class="comment">  &lt;script&gt;alert('xss')&lt;/script&gt;</span>
<span class="comment">&lt;/div&gt;</span>

<span class="keyword">const</span> div <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'test'</span><span class="bracket">)</span>;

<span class="comment">// innerHTML - è¿”å›HTMLå­—ç¬¦ä¸²</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="property">innerHTML</span><span class="bracket">)</span>;
<span class="comment">// "Hello &lt;span style="display:none"&gt;World&lt;/span&gt; &lt;script&gt;...&lt;/script&gt;"</span>

<span class="comment">// innerText - è€ƒè™‘CSSï¼Œéšè—å…ƒç´ ä¸æ˜¾ç¤º</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="property">innerText</span><span class="bracket">)</span>;
<span class="comment">// "Hello" (Worldè¢«display:noneéšè—)</span>

<span class="comment">// textContent - ä¸è€ƒè™‘CSSï¼Œæ‰€æœ‰æ–‡æœ¬</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="property">textContent</span><span class="bracket">)</span>;
<span class="comment">// "Hello World alert('xss')" (åŒ…å«æ‰€æœ‰æ–‡æœ¬å†…å®¹)</span></code></pre></div>
                    
                    <p><strong>XSSé£é™©ç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> userInput <span class="operator">=</span> <span class="string">'&lt;img src=x onerror="alert(\'XSS\')"&gt;'</span>;

<span class="comment">// âŒ å±é™©ï¼ä¼šæ‰§è¡Œæ¶æ„ä»£ç </span>
div.<span class="property">innerHTML</span> <span class="operator">=</span> userInput;

<span class="comment">// âœ… å®‰å…¨ï¼å½“ä½œçº¯æ–‡æœ¬å¤„ç†</span>
div.<span class="property">textContent</span> <span class="operator">=</span> userInput;

<span class="comment">// âœ… æ›´å®‰å…¨çš„æ–¹å¼</span>
<span class="keyword">const</span> text <span class="operator">=</span> document.<span class="function">createTextNode</span><span class="bracket">(</span>userInput<span class="bracket">)</span>;
div.<span class="function">appendChild</span><span class="bracket">(</span>text<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æ€§èƒ½å¯¹æ¯”ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// textContent æœ€å¿«ï¼ˆä¸è§¦å‘é‡æ’ï¼Œä¸è§£æHTMLï¼‰</span>
element.<span class="property">textContent</span> <span class="operator">=</span> <span class="string">'text'</span>;

<span class="comment">// innerText è¾ƒæ…¢ï¼ˆè§¦å‘é‡æ’ï¼Œè€ƒè™‘CSSï¼‰</span>
element.<span class="property">innerText</span> <span class="operator">=</span> <span class="string">'text'</span>;

<span class="comment">// innerHTML æœ€æ…¢ï¼ˆè§£æHTMLï¼Œè§¦å‘é‡æ’é‡ç»˜ï¼‰</span>
element.<span class="property">innerHTML</span> <span class="operator">=</span> <span class="string">'&lt;span&gt;text&lt;/span&gt;'</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå†…å®¹æ“ä½œ</span>
            </div>
        </div>

        <!-- Q5: DocumentFragment -->
        <div class="quiz-item" data-question="5">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">æ€§èƒ½ä¼˜åŒ–</span>
            </div>
            
            <div class="question">Q5: DocumentFragment çš„ä½œç”¨å’Œä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> å‡å°‘å›æµé‡ç»˜ï¼Œæ‰¹é‡æ“ä½œDOMæ—¶æ€§èƒ½æ›´å¥½
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ç”¨æ¥åˆ›å»ºShadow DOM
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> åªæ˜¯æ™®é€šdivçš„åˆ«å
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> ç”¨äºåˆ›å»ºiframe
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(5, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(5)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-5">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>DocumentFragment è¯¦è§£ï¼š</h4>
                    
                    <p><strong>ç‰¹ç‚¹ï¼š</strong></p>
                    <ul>
                        <li>è½»é‡çº§æ–‡æ¡£å¯¹è±¡ï¼Œä¸å±äºä¸»DOMæ ‘</li>
                        <li>æ’å…¥æ—¶åªæ’å…¥å…¶å­èŠ‚ç‚¹ï¼Œè‡ªèº«ä¸ä¼šæ’å…¥</li>
                        <li>å‡å°‘å›æµé‡ç»˜æ¬¡æ•°ï¼Œæå‡æ€§èƒ½</li>
                        <li>ä¸èƒ½ä½¿ç”¨innerHTML</li>
                    </ul>
                    
                    <p><strong>âŒ ä½æ•ˆæ–¹å¼ï¼ˆæ¯æ¬¡éƒ½è§¦å‘é‡æ’ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> ul <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;

<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> <span class="number">1000</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> li <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
    li.<span class="property">textContent</span> <span class="operator">=</span> <span class="string">`Item ${i}`</span>;
    ul.<span class="function">appendChild</span><span class="bracket">(</span>li<span class="bracket">)</span>;  <span class="comment">// è§¦å‘1000æ¬¡é‡æ’ï¼</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>âœ… ä½¿ç”¨ DocumentFragmentï¼ˆåªè§¦å‘ä¸€æ¬¡é‡æ’ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> ul <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;
<span class="keyword">const</span> fragment <span class="operator">=</span> document.<span class="function">createDocumentFragment</span><span class="bracket">(</span><span class="bracket">)</span>;

<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> <span class="number">1000</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> li <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
    li.<span class="property">textContent</span> <span class="operator">=</span> <span class="string">`Item ${i}`</span>;
    fragment.<span class="function">appendChild</span><span class="bracket">(</span>li<span class="bracket">)</span>;  <span class="comment">// åœ¨å†…å­˜ä¸­æ“ä½œ</span>
<span class="bracket">}</span>

ul.<span class="function">appendChild</span><span class="bracket">(</span>fragment<span class="bracket">)</span>;  <span class="comment">// åªè§¦å‘ä¸€æ¬¡é‡æ’ï¼âœ…</span></code></pre></div>
                    
                    <p><strong>ä¸templateç»“åˆä½¿ç”¨ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;template id="item-template"&gt;</span>
<span class="comment">  &lt;li class="item"&gt;</span>
<span class="comment">    &lt;span class="title"&gt;&lt;/span&gt;</span>
<span class="comment">  &lt;/li&gt;</span>
<span class="comment">&lt;/template&gt;</span>

<span class="keyword">const</span> template <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'item-template'</span><span class="bracket">)</span>;
<span class="keyword">const</span> ul <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;
<span class="keyword">const</span> fragment <span class="operator">=</span> document.<span class="function">createDocumentFragment</span><span class="bracket">(</span><span class="bracket">)</span>;

items.<span class="function">forEach</span><span class="bracket">(</span>item <span class="operator">=></span> <span class="bracket">{</span>
    <span class="comment">// å…‹éš†æ¨¡æ¿</span>
    <span class="keyword">const</span> clone <span class="operator">=</span> template.<span class="property">content</span>.<span class="function">cloneNode</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span>;
    clone.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'.title'</span><span class="bracket">)</span>.<span class="property">textContent</span> <span class="operator">=</span> item.<span class="property">title</span>;
    fragment.<span class="function">appendChild</span><span class="bracket">(</span>clone<span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

ul.<span class="function">appendChild</span><span class="bracket">(</span>fragment<span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ€§èƒ½ä¼˜åŒ–</span>
            </div>
        </div>

        <!-- Q6: å±æ€§æ“ä½œ -->
        <div class="quiz-item" data-question="6">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">å±æ€§æ“ä½œ</span>
            </div>
            
            <div class="question">Q6: getAttribute/setAttribute å’Œç›´æ¥è®¿é—®å±æ€§çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> getAttributeè¿”å›å­—ç¬¦ä¸²ï¼Œç›´æ¥è®¿é—®ä¼šç±»å‹è½¬æ¢ï¼›è‡ªå®šä¹‰å±æ€§å¿…é¡»ç”¨getAttribute
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å®Œå…¨ç›¸åŒï¼Œæ²¡æœ‰ä»»ä½•åŒºåˆ«
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> getAttributeæ›´æ…¢ï¼Œåº”è¯¥é¿å…ä½¿ç”¨
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> ç›´æ¥è®¿é—®åªèƒ½ç”¨äºidå±æ€§
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(6, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(6)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-6">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å±æ€§æ“ä½œåŒºåˆ«è¯¦è§£ï¼š</h4>
                    
                    <p><strong>1. è¿”å›å€¼ç±»å‹ä¸åŒï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;input type="checkbox" checked&gt;</span>

<span class="keyword">const</span> input <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'input'</span><span class="bracket">)</span>;

<span class="comment">// getAttribute - è¿”å›å­—ç¬¦ä¸²</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>input.<span class="function">getAttribute</span><span class="bracket">(</span><span class="string">'checked'</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// "" (ç©ºå­—ç¬¦ä¸²)</span>

<span class="comment">// ç›´æ¥è®¿é—® - è¿”å›å¸ƒå°”å€¼</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>input.<span class="property">checked</span><span class="bracket">)</span>;  <span class="comment">// true</span></code></pre></div>
                    
                    <p><strong>2. è‡ªå®šä¹‰å±æ€§ï¼ˆdata-*ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;div id="box" data-user-id="123" data-role="admin"&gt;&lt;/div&gt;</span>

<span class="keyword">const</span> box <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'box'</span><span class="bracket">)</span>;

<span class="comment">// æ–¹å¼1: getAttribute</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>box.<span class="function">getAttribute</span><span class="bracket">(</span><span class="string">'data-user-id'</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// "123"</span>

<span class="comment">// æ–¹å¼2: dataset (æ¨è)</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>box.<span class="property">dataset</span>.<span class="property">userId</span><span class="bracket">)</span>;  <span class="comment">// "123" (é©¼å³°å‘½å)</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>box.<span class="property">dataset</span>.<span class="property">role</span><span class="bracket">)</span>;     <span class="comment">// "admin"</span>

<span class="comment">// è®¾ç½®dataset</span>
box.<span class="property">dataset</span>.<span class="property">status</span> <span class="operator">=</span> <span class="string">'active'</span>;  <span class="comment">// &lt;div data-status="active"&gt;</span></code></pre></div>
                    
                    <p><strong>3. hrefå±æ€§ç‰¹æ®Šæƒ…å†µï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;a id="link" href="/page"&gt;Link&lt;/a&gt;</span>

<span class="keyword">const</span> link <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'link'</span><span class="bracket">)</span>;

<span class="comment">// getAttribute - è¿”å›HTMLå±æ€§å€¼</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>link.<span class="function">getAttribute</span><span class="bracket">(</span><span class="string">'href'</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// "/page"</span>

<span class="comment">// ç›´æ¥è®¿é—® - è¿”å›å®Œæ•´URL</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>link.<span class="property">href</span><span class="bracket">)</span>;  <span class="comment">// "http://example.com/page"</span></code></pre></div>
                    
                    <p><strong>4. classå±æ€§ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> div <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;

<span class="comment">// getAttribute/setAttribute</span>
div.<span class="function">setAttribute</span><span class="bracket">(</span><span class="string">'class'</span>, <span class="string">'foo bar'</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="function">getAttribute</span><span class="bracket">(</span><span class="string">'class'</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// "foo bar"</span>

<span class="comment">// classNameå±æ€§</span>
div.<span class="property">className</span> <span class="operator">=</span> <span class="string">'foo bar'</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="property">className</span><span class="bracket">)</span>;  <span class="comment">// "foo bar"</span>

<span class="comment">// classList API (æ¨è)</span>
div.<span class="property">classList</span>.<span class="function">add</span><span class="bracket">(</span><span class="string">'baz'</span><span class="bracket">)</span>;
div.<span class="property">classList</span>.<span class="function">remove</span><span class="bracket">(</span><span class="string">'foo'</span><span class="bracket">)</span>;
div.<span class="property">classList</span>.<span class="function">toggle</span><span class="bracket">(</span><span class="string">'active'</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>é€‰æ‹©å»ºè®®ï¼š</strong></p>
                    <ul>
                        <li><strong>æ ‡å‡†å±æ€§</strong>ï¼šç›´æ¥è®¿é—®ï¼ˆå¦‚ <code>input.value</code>ï¼‰</li>
                        <li><strong>è‡ªå®šä¹‰å±æ€§</strong>ï¼šä½¿ç”¨ <code>dataset</code></li>
                        <li><strong>éœ€è¦åŸå§‹å€¼</strong>ï¼šä½¿ç”¨ <code>getAttribute</code></li>
                        <li><strong>classæ“ä½œ</strong>ï¼šä½¿ç”¨ <code>classList</code></li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå±æ€§æ“ä½œ</span>
            </div>
        </div>

        <!-- Q7: å›æµé‡ç»˜ -->
        <div class="quiz-item" data-question="7">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">æ€§èƒ½ä¼˜åŒ–</span>
            </div>
            
            <div class="question">Q7: ä»¥ä¸‹å“ªäº›æ“ä½œä¼šè§¦å‘å›æµï¼ˆreflowï¼‰ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä¿®æ”¹å…ƒç´ å°ºå¯¸ã€ä½ç½®ã€æ˜¾ç¤ºçŠ¶æ€ï¼Œè¯»å–offsetTopç­‰å±æ€§
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> åªæœ‰ä¿®æ”¹colorä¼šè§¦å‘å›æµ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ä¿®æ”¹textContentä¸ä¼šè§¦å‘å›æµ
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> å›æµå’Œé‡ç»˜æ˜¯ç›¸åŒçš„æ¦‚å¿µ
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(7, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(7)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-7">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å›æµï¼ˆReflowï¼‰ä¸é‡ç»˜ï¼ˆRepaintï¼‰ï¼š</h4>
                    
                    <p><strong>å›æµï¼šé‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±æ€§</strong></p>
                    <p>è§¦å‘åœºæ™¯ï¼š</p>
                    <ul>
                        <li>æ·»åŠ /åˆ é™¤DOMå…ƒç´ </li>
                        <li>å…ƒç´ å°ºå¯¸æ”¹å˜ï¼ˆwidth, height, padding, border, marginï¼‰</li>
                        <li>å†…å®¹æ”¹å˜ï¼ˆæ–‡æœ¬æˆ–å›¾ç‰‡å°ºå¯¸æ”¹å˜ï¼‰</li>
                        <li>æµè§ˆå™¨çª—å£resize</li>
                        <li>è·å–æŸäº›å±æ€§ï¼ˆoffsetTop, scrollTop, clientWidthç­‰ï¼‰</li>
                    </ul>
                    
                    <p><strong>é‡ç»˜ï¼šé‡æ–°ç»˜åˆ¶å…ƒç´ å¤–è§‚</strong></p>
                    <p>è§¦å‘åœºæ™¯ï¼š</p>
                    <ul>
                        <li>color, background, visibilityæ”¹å˜</li>
                        <li>ä¸å½±å“å¸ƒå±€çš„æ ·å¼æ”¹å˜</li>
                    </ul>
                    
                    <p><strong>âš ï¸ æ³¨æ„ï¼šå›æµå¿…å®šå¼•èµ·é‡ç»˜ï¼Œä½†é‡ç»˜ä¸ä¸€å®šå¼•èµ·å›æµï¼</strong></p>
                    
                    <p><strong>ä¼šè§¦å‘å›æµçš„å±æ€§è¯»å–ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âŒ ç³Ÿç³•çš„ä»£ç  - å¤šæ¬¡è§¦å‘å›æµ</span>
<span class="keyword">const</span> div <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'box'</span><span class="bracket">)</span>;

div.<span class="property">style</span>.<span class="property">width</span> <span class="operator">=</span> <span class="string">'100px'</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="property">offsetWidth</span><span class="bracket">)</span>;  <span class="comment">// è§¦å‘å›æµ</span>

div.<span class="property">style</span>.<span class="property">height</span> <span class="operator">=</span> <span class="string">'100px'</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>div.<span class="property">offsetHeight</span><span class="bracket">)</span>;  <span class="comment">// åˆè§¦å‘å›æµ</span></code></pre></div>
                    
                    <p><strong>ä¼˜åŒ–æ–¹æ¡ˆ1ï¼šæ‰¹é‡ä¿®æ”¹æ ·å¼</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âœ… æ–¹å¼1: ä½¿ç”¨cssText</span>
div.<span class="property">style</span>.<span class="property">cssText</span> <span class="operator">=</span> <span class="string">'width: 100px; height: 100px;'</span>;

<span class="comment">// âœ… æ–¹å¼2: ä¿®æ”¹class</span>
div.<span class="property">classList</span>.<span class="function">add</span><span class="bracket">(</span><span class="string">'box-large'</span><span class="bracket">)</span>;

<span class="comment">// âœ… æ–¹å¼3: ç¼“å­˜å±æ€§å€¼</span>
<span class="keyword">const</span> width <span class="operator">=</span> div.<span class="property">offsetWidth</span>;  <span class="comment">// åªè¯»ä¸€æ¬¡</span>
<span class="keyword">const</span> height <span class="operator">=</span> div.<span class="property">offsetHeight</span>;
<span class="comment">// ä½¿ç”¨ç¼“å­˜çš„å€¼è¿›è¡Œè®¡ç®—</span></code></pre></div>
                    
                    <p><strong>ä¼˜åŒ–æ–¹æ¡ˆ2ï¼šæ–‡æ¡£ç¢ç‰‡æˆ–display:none</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âœ… ç¦»çº¿æ“ä½œï¼šå…ˆéšè—ï¼Œä¿®æ”¹å®Œå†æ˜¾ç¤º</span>
<span class="keyword">const</span> ul <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;

ul.<span class="property">style</span>.<span class="property">display</span> <span class="operator">=</span> <span class="string">'none'</span>;  <span class="comment">// è„±ç¦»æ–‡æ¡£æµ</span>

<span class="comment">// è¿›è¡Œå¤§é‡DOMæ“ä½œ...</span>
<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> <span class="number">1000</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> li <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
    ul.<span class="function">appendChild</span><span class="bracket">(</span>li<span class="bracket">)</span>;
<span class="bracket">}</span>

ul.<span class="property">style</span>.<span class="property">display</span> <span class="operator">=</span> <span class="string">'block'</span>;  <span class="comment">// ä¸€æ¬¡æ€§å›æµ</span></code></pre></div>
                    
                    <p><strong>ä¼˜åŒ–æ–¹æ¡ˆ3ï¼šä½¿ç”¨transformæ›¿ä»£top/left</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âŒ è§¦å‘å›æµ</span>
div.<span class="property">style</span>.<span class="property">left</span> <span class="operator">=</span> <span class="string">'100px'</span>;

<span class="comment">// âœ… åªè§¦å‘é‡ç»˜ï¼ˆGPUåŠ é€Ÿï¼‰</span>
div.<span class="property">style</span>.<span class="property">transform</span> <span class="operator">=</span> <span class="string">'translateX(100px)'</span>;</code></pre></div>
                    
                    <p><strong>è§¦å‘å¼ºåˆ¶åŒæ­¥å¸ƒå±€çš„å±æ€§ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// è¿™äº›å±æ€§ä¼šå¼ºåˆ¶æµè§ˆå™¨ç«‹å³è®¡ç®—å¸ƒå±€</span>
offsetTop, offsetLeft, offsetWidth, offsetHeight
scrollTop, scrollLeft, scrollWidth, scrollHeight
clientTop, clientLeft, clientWidth, clientHeight
getComputedStyle<span class="bracket">(</span><span class="bracket">)</span>
getBoundingClientRect<span class="bracket">(</span><span class="bracket">)</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ€§èƒ½ä¼˜åŒ–</span>
            </div>
        </div>

        <!-- Q8: MutationObserver -->
        <div class="quiz-item" data-question="8">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">DOMç›‘å¬</span>
            </div>
            
            <div class="question">Q8: MutationObserver çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ç›‘å¬DOMæ ‘çš„å˜åŒ–ï¼ˆå±æ€§ã€å­èŠ‚ç‚¹ã€æ–‡æœ¬ç­‰ï¼‰
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ç›‘å¬é¼ æ ‡äº‹ä»¶
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ç›‘å¬ç½‘ç»œè¯·æ±‚
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> ç›‘å¬é¡µé¢æ»šåŠ¨
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(8, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(8)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-8">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>MutationObserver è¯¦è§£ï¼š</h4>
                    
                    <p><strong>ç”¨é€”ï¼š</strong>å¼‚æ­¥ç›‘å¬DOMæ ‘çš„å˜åŒ–</p>
                    <p><strong>ä¼˜åŠ¿ï¼š</strong>ç›¸æ¯”æ—§çš„MutationEventsï¼Œæ€§èƒ½æ›´å¥½ï¼Œå¼‚æ­¥æ‰§è¡Œ</p>
                    
                    <p><strong>åŸºæœ¬ä½¿ç”¨ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åˆ›å»ºè§‚å¯Ÿå™¨</span>
<span class="keyword">const</span> observer <span class="operator">=</span> <span class="keyword">new</span> <span class="function">MutationObserver</span><span class="bracket">(</span><span class="bracket">(</span>mutations<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    mutations.<span class="function">forEach</span><span class="bracket">(</span>mutation <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'å˜åŒ–ç±»å‹ï¼š'</span>, mutation.<span class="property">type</span><span class="bracket">)</span>;
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'ç›®æ ‡å…ƒç´ ï¼š'</span>, mutation.<span class="property">target</span><span class="bracket">)</span>;
        
        <span class="keyword">if</span> <span class="bracket">(</span>mutation.<span class="property">type</span> <span class="operator">===</span> <span class="string">'childList'</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'æ·»åŠ çš„èŠ‚ç‚¹ï¼š'</span>, mutation.<span class="property">addedNodes</span><span class="bracket">)</span>;
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'åˆ é™¤çš„èŠ‚ç‚¹ï¼š'</span>, mutation.<span class="property">removedNodes</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// é…ç½®å¹¶å¼€å§‹è§‚å¯Ÿ</span>
<span class="keyword">const</span> target <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'container'</span><span class="bracket">)</span>;
observer.<span class="function">observe</span><span class="bracket">(</span>target, <span class="bracket">{</span>
    childList<span class="operator">:</span> <span class="keyword">true</span>,       <span class="comment">// ç›‘å¬å­èŠ‚ç‚¹å˜åŒ–</span>
    attributes<span class="operator">:</span> <span class="keyword">true</span>,      <span class="comment">// ç›‘å¬å±æ€§å˜åŒ–</span>
    characterData<span class="operator">:</span> <span class="keyword">true</span>,  <span class="comment">// ç›‘å¬æ–‡æœ¬å†…å®¹å˜åŒ–</span>
    subtree<span class="operator">:</span> <span class="keyword">true</span>,         <span class="comment">// ç›‘å¬æ‰€æœ‰åä»£èŠ‚ç‚¹</span>
    attributeOldValue<span class="operator">:</span> <span class="keyword">true</span>,  <span class="comment">// è®°å½•å±æ€§æ—§å€¼</span>
    characterDataOldValue<span class="operator">:</span> <span class="keyword">true</span>  <span class="comment">// è®°å½•æ–‡æœ¬æ—§å€¼</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// åœæ­¢è§‚å¯Ÿ</span>
observer.<span class="function">disconnect</span><span class="bracket">(</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜ç¤ºä¾‹1ï¼šç›‘å¬DOMå˜åŒ–</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> observer <span class="operator">=</span> <span class="keyword">new</span> <span class="function">MutationObserver</span><span class="bracket">(</span><span class="bracket">(</span>mutations<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">const</span> mutation <span class="keyword">of</span> mutations<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">if</span> <span class="bracket">(</span>mutation.<span class="property">type</span> <span class="operator">===</span> <span class="string">'childList'</span><span class="bracket">)</span> <span class="bracket">{</span>
            mutation.<span class="property">addedNodes</span>.<span class="function">forEach</span><span class="bracket">(</span>node <span class="operator">=></span> <span class="bracket">{</span>
                <span class="keyword">if</span> <span class="bracket">(</span>node.<span class="property">nodeType</span> <span class="operator">===</span> <span class="number">1</span><span class="bracket">)</span> <span class="bracket">{</span>  <span class="comment">// å…ƒç´ èŠ‚ç‚¹</span>
                    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'æ–°å¢å…ƒç´ ï¼š'</span>, node<span class="bracket">)</span>;
                <span class="bracket">}</span>
            <span class="bracket">}</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;

observer.<span class="function">observe</span><span class="bracket">(</span>document.<span class="property">body</span>, <span class="bracket">{</span> childList<span class="operator">:</span> <span class="keyword">true</span>, subtree<span class="operator">:</span> <span class="keyword">true</span> <span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜ç¤ºä¾‹2ï¼šç›‘å¬ç‰¹å®šå±æ€§</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> observer <span class="operator">=</span> <span class="keyword">new</span> <span class="function">MutationObserver</span><span class="bracket">(</span><span class="bracket">(</span>mutations<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    mutations.<span class="function">forEach</span><span class="bracket">(</span>mutation <span class="operator">=></span> <span class="bracket">{</span>
        <span class="keyword">if</span> <span class="bracket">(</span>mutation.<span class="property">type</span> <span class="operator">===</span> <span class="string">'attributes'</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">`å±æ€§ ${mutation.<span class="property">attributeName</span>} æ”¹å˜äº†`</span><span class="bracket">)</span>;
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'æ—§å€¼ï¼š'</span>, mutation.<span class="property">oldValue</span><span class="bracket">)</span>;
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'æ–°å€¼ï¼š'</span>, mutation.<span class="property">target</span>.<span class="function">getAttribute</span><span class="bracket">(</span>mutation.<span class="property">attributeName</span><span class="bracket">)</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

observer.<span class="function">observe</span><span class="bracket">(</span>element, <span class="bracket">{</span>
    attributes<span class="operator">:</span> <span class="keyword">true</span>,
    attributeOldValue<span class="operator">:</span> <span class="keyword">true</span>,
    attributeFilter<span class="operator">:</span> <span class="bracket">[</span><span class="string">'class'</span>, <span class="string">'style'</span><span class="bracket">]</span>  <span class="comment">// åªç›‘å¬ç‰¹å®šå±æ€§</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>
                    <ul>
                        <li>ç›‘å¬ç¬¬ä¸‰æ–¹åº“å¯¹DOMçš„ä¿®æ”¹</li>
                        <li>å®ç°è™šæ‹Ÿæ»šåŠ¨çš„å¯è§æ€§æ£€æµ‹</li>
                        <li>å“åº”å¼å¸ƒå±€è°ƒæ•´</li>
                        <li>è¡¨å•éªŒè¯å’Œè‡ªåŠ¨ä¿å­˜</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šDOMç›‘å¬</span>
            </div>
        </div>

        <!-- Q9: cloneNode -->
        <div class="quiz-item" data-question="9">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">èŠ‚ç‚¹å…‹éš†</span>
            </div>
            
            <div class="question">Q9: cloneNode(true) å’Œ cloneNode(false) çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> trueæ·±æ‹·è´ï¼ˆåŒ…å«åä»£ï¼‰ï¼Œfalseæµ…æ‹·è´ï¼ˆåªæ‹·è´è‡ªèº«ï¼‰ï¼Œéƒ½ä¸æ‹·è´äº‹ä»¶ç›‘å¬å™¨
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> trueæ‹·è´äº‹ä»¶ï¼Œfalseä¸æ‹·è´
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> æ²¡æœ‰ä»»ä½•åŒºåˆ«
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> trueæ‹·è´æ ·å¼ï¼Œfalseä¸æ‹·è´
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(9, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(9)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-9">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>cloneNode è¯¦è§£ï¼š</h4>
                    
                    <p><strong>è¯­æ³•ï¼š</strong><code>node.cloneNode(deep)</code></p>
                    <ul>
                        <li><code>deep = true</code>ï¼šæ·±æ‹·è´ï¼Œå¤åˆ¶èŠ‚ç‚¹åŠå…¶æ‰€æœ‰åä»£</li>
                        <li><code>deep = false</code>ï¼šæµ…æ‹·è´ï¼Œåªå¤åˆ¶èŠ‚ç‚¹è‡ªèº«</li>
                    </ul>
                    
                    <p><strong>ç¤ºä¾‹å¯¹æ¯”ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;div id="parent"&gt;</span>
<span class="comment">  &lt;p&gt;Child 1&lt;/p&gt;</span>
<span class="comment">  &lt;p&gt;Child 2&lt;/p&gt;</span>
<span class="comment">&lt;/div&gt;</span>

<span class="keyword">const</span> parent <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'parent'</span><span class="bracket">)</span>;

<span class="comment">// æµ…æ‹·è´ - åªå¤åˆ¶divï¼Œä¸å¤åˆ¶å­å…ƒç´ </span>
<span class="keyword">const</span> shallowClone <span class="operator">=</span> parent.<span class="function">cloneNode</span><span class="bracket">(</span><span class="keyword">false</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>shallowClone.<span class="property">children</span>.<span class="property">length</span><span class="bracket">)</span>;  <span class="comment">// 0</span>

<span class="comment">// æ·±æ‹·è´ - å¤åˆ¶divåŠæ‰€æœ‰å­å…ƒç´ </span>
<span class="keyword">const</span> deepClone <span class="operator">=</span> parent.<span class="function">cloneNode</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span>;
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>deepClone.<span class="property">children</span>.<span class="property">length</span><span class="bracket">)</span>;  <span class="comment">// 2</span></code></pre></div>
                    
                    <p><strong>âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹ï¼š</strong></p>
                    
                    <p><strong>1. äº‹ä»¶ç›‘å¬å™¨ä¸ä¼šè¢«å¤åˆ¶ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> button <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'btn'</span><span class="bracket">)</span>;
button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'clicked'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="keyword">const</span> clone <span class="operator">=</span> button.<span class="function">cloneNode</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span>;
<span class="comment">// cloneæ²¡æœ‰clickäº‹ä»¶ç›‘å¬å™¨ï¼éœ€è¦é‡æ–°æ·»åŠ </span></code></pre></div>
                    
                    <p><strong>2. IDå±æ€§ä¼šè¢«å¤åˆ¶ï¼ˆéœ€è¦æ³¨æ„ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> original <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'unique'</span><span class="bracket">)</span>;
<span class="keyword">const</span> clone <span class="operator">=</span> original.<span class="function">cloneNode</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span>;

<span class="comment">// âš ï¸ cloneä¹Ÿæœ‰id="unique"ï¼Œé€ æˆIDé‡å¤ï¼</span>
<span class="comment">// åº”è¯¥ç§»é™¤æˆ–ä¿®æ”¹ID</span>
clone.<span class="function">removeAttribute</span><span class="bracket">(</span><span class="string">'id'</span><span class="bracket">)</span>;
<span class="comment">// æˆ–</span>
clone.<span class="property">id</span> <span class="operator">=</span> <span class="string">'unique-clone'</span>;</code></pre></div>
                    
                    <p><strong>3. å†…è”äº‹ä»¶å¤„ç†å™¨ä¼šè¢«å¤åˆ¶ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;button onclick="alert('hello')"&gt;Click&lt;/button&gt;</span>

<span class="keyword">const</span> button <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'button'</span><span class="bracket">)</span>;
<span class="keyword">const</span> clone <span class="operator">=</span> button.<span class="function">cloneNode</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span>;
<span class="comment">// onclickå±æ€§ä¼šè¢«å¤åˆ¶ï¼Œç‚¹å‡»cloneä¹Ÿä¼šè§¦å‘alert âœ…</span></code></pre></div>
                    
                    <p><strong>å®Œæ•´å…‹éš†ï¼ˆåŒ…å«äº‹ä»¶ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">deepCloneWithEvents</span><span class="bracket">(</span>node<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> clone <span class="operator">=</span> node.<span class="function">cloneNode</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span>;
    
    <span class="comment">// è·å–åŸå§‹èŠ‚ç‚¹çš„æ‰€æœ‰äº‹ä»¶ï¼ˆéœ€è¦è‡ªå·±ç»´æŠ¤äº‹ä»¶æ˜ å°„ï¼‰</span>
    <span class="comment">// æˆ–ä½¿ç”¨åº“å¦‚jQueryçš„clone(true)</span>
    
    <span class="keyword">return</span> clone;
<span class="bracket">}</span>

<span class="comment">// jQueryæ–¹å¼ï¼ˆå¦‚æœä½¿ç”¨jQueryï¼‰</span>
<span class="keyword">const</span> clone <span class="operator">=</span> $<span class="bracket">(</span><span class="string">'#original'</span><span class="bracket">)</span>.<span class="function">clone</span><span class="bracket">(</span><span class="keyword">true</span><span class="bracket">)</span>;  <span class="comment">// åŒ…å«äº‹ä»¶</span></code></pre></div>
                    
                    <p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
                    <ul>
                        <li>å¤åˆ¶æ¨¡æ¿èŠ‚ç‚¹åˆ›å»ºæ–°å…ƒç´ </li>
                        <li>å®ç°æ‹–æ‹½å‰¯æœ¬</li>
                        <li>è¡¨å•è¡Œçš„åŠ¨æ€æ·»åŠ </li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šèŠ‚ç‚¹å…‹éš†</span>
            </div>
        </div>

        <!-- Q10: ç»¼åˆåº”ç”¨ -->
        <div class="quiz-item" data-question="10">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">ç»¼åˆåº”ç”¨</span>
            </div>
            
            <div class="question">Q10: å¦‚ä½•é«˜æ•ˆåœ°å°†10000ä¸ªliæ·»åŠ åˆ°ulä¸­ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä½¿ç”¨DocumentFragmentæˆ–innerHTMLæ‰¹é‡æ·»åŠ 
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä½¿ç”¨forå¾ªç¯ç›´æ¥appendChild
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> æ¯æ·»åŠ ä¸€ä¸ªå°±è¯»å–ä¸€æ¬¡offsetHeight
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> ä½¿ç”¨setTimeouté€ä¸ªæ·»åŠ 
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(10, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(10)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-10">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å¤§é‡DOMæ“ä½œä¼˜åŒ–æ–¹æ¡ˆï¼š</h4>
                    
                    <p><strong>âŒ æ–¹æ¡ˆ1ï¼šç›´æ¥appendChildï¼ˆæœ€æ…¢ï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> ul <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;

<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> <span class="number">10000</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> li <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
    li.<span class="property">textContent</span> <span class="operator">=</span> <span class="string">`Item ${i}`</span>;
    ul.<span class="function">appendChild</span><span class="bracket">(</span>li<span class="bracket">)</span>;  <span class="comment">// è§¦å‘10000æ¬¡é‡æ’ï¼</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>âœ… æ–¹æ¡ˆ2ï¼šDocumentFragmentï¼ˆæ¨èï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> ul <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;
<span class="keyword">const</span> fragment <span class="operator">=</span> document.<span class="function">createDocumentFragment</span><span class="bracket">(</span><span class="bracket">)</span>;

<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> <span class="number">10000</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> li <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
    li.<span class="property">textContent</span> <span class="operator">=</span> <span class="string">`Item ${i}`</span>;
    fragment.<span class="function">appendChild</span><span class="bracket">(</span>li<span class="bracket">)</span>;
<span class="bracket">}</span>

ul.<span class="function">appendChild</span><span class="bracket">(</span>fragment<span class="bracket">)</span>;  <span class="comment">// åªè§¦å‘ä¸€æ¬¡é‡æ’ï¼âœ…</span></code></pre></div>
                    
                    <p><strong>âœ… æ–¹æ¡ˆ3ï¼šinnerHTMLï¼ˆæ€§èƒ½å¥½ä½†æœ‰XSSé£é™©ï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> ul <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;
<span class="keyword">let</span> html <span class="operator">=</span> <span class="string">''</span>;

<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> <span class="number">10000</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    html <span class="operator">+=</span> <span class="string">`&lt;li&gt;Item ${i}&lt;/li&gt;`</span>;
<span class="bracket">}</span>

ul.<span class="property">innerHTML</span> <span class="operator">=</span> html;  <span class="comment">// ä¸€æ¬¡æ€§æ¸²æŸ“</span>

<span class="comment">// æˆ–ä½¿ç”¨æ•°ç»„joinï¼ˆæ›´å¿«ï¼‰</span>
<span class="keyword">const</span> items <span class="operator">=</span> <span class="bracket">[</span><span class="bracket">]</span>;
<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> <span class="number">10000</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    items.<span class="function">push</span><span class="bracket">(</span><span class="string">`&lt;li&gt;Item ${i}&lt;/li&gt;`</span><span class="bracket">)</span>;
<span class="bracket">}</span>
ul.<span class="property">innerHTML</span> <span class="operator">=</span> items.<span class="function">join</span><span class="bracket">(</span><span class="string">''</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>âœ… æ–¹æ¡ˆ4ï¼šè™šæ‹Ÿæ»šåŠ¨ï¼ˆæœ€ä¼˜ï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åªæ¸²æŸ“å¯è§åŒºåŸŸçš„å…ƒç´ </span>
<span class="keyword">class</span> <span class="function">VirtualList</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span>container, items, itemHeight<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">container</span> <span class="operator">=</span> container;
        <span class="keyword">this</span>.<span class="property">items</span> <span class="operator">=</span> items;
        <span class="keyword">this</span>.<span class="property">itemHeight</span> <span class="operator">=</span> itemHeight;
        <span class="keyword">this</span>.<span class="property">visibleCount</span> <span class="operator">=</span> <span class="property">Math</span>.<span class="function">ceil</span><span class="bracket">(</span>container.<span class="property">clientHeight</span> <span class="operator">/</span> itemHeight<span class="bracket">)</span>;
        
        <span class="keyword">this</span>.<span class="function">render</span><span class="bracket">(</span><span class="bracket">)</span>;
        <span class="keyword">this</span>.<span class="function">bindScroll</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">render</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> scrollTop <span class="operator">=</span> <span class="keyword">this</span>.<span class="property">container</span>.<span class="property">scrollTop</span>;
        <span class="keyword">const</span> startIndex <span class="operator">=</span> <span class="property">Math</span>.<span class="function">floor</span><span class="bracket">(</span>scrollTop <span class="operator">/</span> <span class="keyword">this</span>.<span class="property">itemHeight</span><span class="bracket">)</span>;
        <span class="keyword">const</span> endIndex <span class="operator">=</span> startIndex <span class="operator">+</span> <span class="keyword">this</span>.<span class="property">visibleCount</span>;
        
        <span class="comment">// åªæ¸²æŸ“å¯è§éƒ¨åˆ†</span>
        <span class="keyword">const</span> visibleItems <span class="operator">=</span> <span class="keyword">this</span>.<span class="property">items</span>.<span class="function">slice</span><span class="bracket">(</span>startIndex, endIndex<span class="bracket">)</span>;
        
        <span class="keyword">this</span>.<span class="property">container</span>.<span class="property">innerHTML</span> <span class="operator">=</span> visibleItems
            .<span class="function">map</span><span class="bracket">(</span><span class="bracket">(</span>item, index<span class="bracket">)</span> <span class="operator">=></span> 
                <span class="string">`&lt;div style="height: ${<span class="keyword">this</span>.<span class="property">itemHeight</span>}px"&gt;${item}&lt;/div&gt;`</span>
            <span class="bracket">)</span>
            .<span class="function">join</span><span class="bracket">(</span><span class="string">''</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">bindScroll</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">container</span>.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'scroll'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
            <span class="keyword">this</span>.<span class="function">render</span><span class="bracket">(</span><span class="bracket">)</span>;
        <span class="bracket">}</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="keyword">const</span> items <span class="operator">=</span> <span class="property">Array</span>.<span class="function">from</span><span class="bracket">(</span><span class="bracket">{</span> length<span class="operator">:</span> <span class="number">10000</span> <span class="bracket">}</span>, <span class="bracket">(</span>_, i<span class="bracket">)</span> <span class="operator">=></span> <span class="string">`Item ${i}`</span><span class="bracket">)</span>;
<span class="keyword">new</span> <span class="function">VirtualList</span><span class="bracket">(</span>container, items, <span class="number">30</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æ€§èƒ½å¯¹æ¯”ï¼ˆ10000ä¸ªå…ƒç´ ï¼‰ï¼š</strong></p>
                    <table>
                        <tr>
                            <th>æ–¹æ¡ˆ</th>
                            <th>è€—æ—¶</th>
                            <th>å†…å­˜å ç”¨</th>
                            <th>æ¨èåº¦</th>
                        </tr>
                        <tr>
                            <td>ç›´æ¥appendChild</td>
                            <td>~1000ms</td>
                            <td>é«˜</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td>DocumentFragment</td>
                            <td>~50ms</td>
                            <td>é«˜</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>innerHTML</td>
                            <td>~30ms</td>
                            <td>é«˜</td>
                            <td>âš ï¸</td>
                        </tr>
                        <tr>
                            <td>è™šæ‹Ÿæ»šåŠ¨</td>
                            <td>~5ms</td>
                            <td>ä½</td>
                            <td>âœ…âœ…</td>
                        </tr>
                    </table>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ€§èƒ½ä¼˜åŒ–</span>
            </div>
        </div>

        <div class="nav-links" style="margin-top: 3rem; display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="09-event-loop.html" style="padding: 0.75rem 1.5rem; background: #e2e8f0; color: #2d3748; text-decoration: none; border-radius: 6px;">â¬…ï¸ ä¸Šä¸€èŠ‚ï¼šäº‹ä»¶å¾ªç¯</a>
            <a href="../index.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">ğŸ“‹ é¢è¯•é¢˜å¯¼èˆª</a>
        </div>
    </div>
    
    <script>
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const parent = this.closest('.quiz-item');
                parent.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        function checkAnswer(questionNum, correctAnswer) {
            const quizItem = document.querySelector(`[data-question="${questionNum}"]`);
            const selectedOption = quizItem.querySelector('.option.selected');
            
            if (!selectedOption) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            const userAnswer = selectedOption.getAttribute('data-answer');
            const allOptions = quizItem.querySelectorAll('.option');
            
            allOptions.forEach(option => {
                const answer = option.getAttribute('data-answer');
                if (answer === correctAnswer) {
                    option.classList.add('correct');
                } else if (answer === userAnswer) {
                    option.classList.add('wrong');
                }
            });
            
            setTimeout(() => showAnswer(questionNum), 500);
        }

        function showAnswer(questionNum) {
            const answerSection = document.getElementById(`answer-${questionNum}`);
            answerSection.classList.add('show');
            answerSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    </script>
</body>
</html>
