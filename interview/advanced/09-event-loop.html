<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº‹ä»¶å¾ªç¯ é¢è¯•é¢˜ - JavaScript é¢è¯•é¢˜ç²¾é€‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #2d3748;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 2.5rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #1a202c;
            margin-bottom: 0.5rem;
            font-size: 2rem;
        }

        .subtitle {
            color: #718096;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .quiz-item {
            background: #f7fafc;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 4px solid #667eea;
        }

        .quiz-item-header {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .difficulty {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .difficulty.easy {
            background: #c6f6d5;
            color: #22543d;
        }

        .difficulty.medium {
            background: #fef5e7;
            color: #744210;
        }

        .difficulty.hard {
            background: #fed7d7;
            color: #742a2a;
        }

        .tag {
            background: #e6fffa;
            color: #234e52;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .question {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .code-question {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
            border-left: 4px solid #667eea;
        }

        .code-question pre {
            margin: 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .code-question code {
            font-family: inherit;
        }

        .keyword { color: #c792ea; }
        .function { color: #82aaff; }
        .string { color: #c3e88d; }
        .number { color: #f78c6c; }
        .comment { color: #697098; font-style: italic; }
        .operator { color: #89ddff; }
        .property { color: #ffcb6b; }
        .bracket { color: #a6accd; }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin: 1.5rem 0;
        }

        .option {
            background: white;
            padding: 1rem 1.25rem;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option:hover {
            border-color: #667eea;
            background: #f7fafc;
            transform: translateX(4px);
        }

        .option.selected {
            border-color: #667eea;
            background: #eef2ff;
        }

        .option.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .option.wrong {
            border-color: #f56565;
            background: #fff5f5;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #2d3748;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .answer-section {
            display: none;
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            border: 2px solid #bee3f8;
        }

        .answer-section.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .answer-label {
            display: inline-block;
            background: #48bb78;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .explanation {
            color: #2d3748;
            line-height: 1.8;
        }

        .explanation h4 {
            color: #2d3748;
            margin: 1.5rem 0 1rem 0;
            font-size: 1.1rem;
        }

        .explanation ul, .explanation ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .explanation li {
            margin-bottom: 0.5rem;
        }

        .explanation p {
            margin-bottom: 1rem;
        }

        .explanation strong {
            color: #1a202c;
            font-weight: 600;
        }

        .source-tag {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.4rem 0.8rem;
            background: #edf2f7;
            color: #4a5568;
            border-radius: 6px;
            font-size: 0.85rem;
        }

        .nav-links a {
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
        }

        .nav-links a:hover {
            transform: translateY(-2px);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            text-align: left;
        }

        th {
            background: #f7fafc;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ äº‹ä»¶å¾ªç¯ é¢è¯•é¢˜ç²¾é€‰</h1>
        <p class="subtitle">æ·±å…¥ç†è§£JavaScriptæ‰§è¡Œæœºåˆ¶ - 10é“ç²¾é€‰é¢˜ç›®</p>

        <!-- Q1: å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ -->
        <div class="quiz-item" data-question="1">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">åŸºç¡€æ¦‚å¿µ</span>
            </div>
            
            <div class="question">Q1: ä»¥ä¸‹å“ªäº›æ˜¯å¾®ä»»åŠ¡ï¼ˆMicrotaskï¼‰ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> Promise.then, MutationObserver, queueMicrotask
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> setTimeout, setInterval, setImmediate
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> requestAnimationFrame, I/Oæ“ä½œ
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> addEventListener, XMLHttpRequest
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(1, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(1)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-1">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å®ä»»åŠ¡ vs å¾®ä»»åŠ¡ï¼š</h4>
                    
                    <p><strong>å¾®ä»»åŠ¡ï¼ˆMicrotaskï¼‰ï¼š</strong></p>
                    <ul>
                        <li><code>Promise.then / catch / finally</code></li>
                        <li><code>MutationObserver</code></li>
                        <li><code>queueMicrotask</code></li>
                        <li><code>process.nextTick</code>ï¼ˆNode.jsï¼‰</li>
                    </ul>
                    
                    <p><strong>å®ä»»åŠ¡ï¼ˆMacrotaskï¼‰ï¼š</strong></p>
                    <ul>
                        <li><code>setTimeout / setInterval</code></li>
                        <li><code>setImmediate</code>ï¼ˆNode.jsï¼‰</li>
                        <li><code>I/Oæ“ä½œ</code></li>
                        <li><code>UIæ¸²æŸ“</code></li>
                        <li><code>requestAnimationFrame</code></li>
                    </ul>
                    
                    <p><strong>æ‰§è¡Œé¡ºåºï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// 1. æ‰§è¡ŒåŒæ­¥ä»£ç </span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'1'</span><span class="bracket">)</span>;

<span class="comment">// 2. å®ä»»åŠ¡</span>
<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'2'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="comment">// 3. å¾®ä»»åŠ¡</span>
<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'3'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'4'</span><span class="bracket">)</span>;

<span class="comment">// è¾“å‡ºé¡ºåºï¼š1 â†’ 4 â†’ 3 â†’ 2</span>
<span class="comment">// åŒæ­¥ä»£ç  â†’ å¾®ä»»åŠ¡ â†’ å®ä»»åŠ¡</span></code></pre></div>
                    
                    <p><strong>æ‰§è¡Œæœºåˆ¶ï¼š</strong></p>
                    <ol>
                        <li>æ‰§è¡ŒåŒæ­¥ä»£ç </li>
                        <li>æ£€æŸ¥å¹¶æ‰§è¡Œ<strong>æ‰€æœ‰</strong>å¾®ä»»åŠ¡</li>
                        <li>æ‰§è¡Œ<strong>ä¸€ä¸ª</strong>å®ä»»åŠ¡</li>
                        <li>å›åˆ°æ­¥éª¤2</li>
                    </ol>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šäº‹ä»¶å¾ªç¯åŸºç¡€</span>
            </div>
        </div>

        <!-- Q2: æ‰§è¡Œé¡ºåº -->
        <div class="quiz-item" data-question="2">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">æ‰§è¡Œé¡ºåº</span>
            </div>
            
            <div class="question">Q2: ä»¥ä¸‹ä»£ç çš„è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'A'</span><span class="bracket">)</span>;

<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'B'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'C'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'D'</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> A D C B
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> A B C D
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> A D B C
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> A C D B
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(2, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(2)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-2">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>è¯¦ç»†æ‰§è¡Œæµç¨‹ï¼š</h4>
                    
                    <div class="code-question"><pre><code><span class="comment">// === ç¬¬1è½®äº‹ä»¶å¾ªç¯ ===</span>
<span class="comment">// åŒæ­¥ä»£ç </span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'A'</span><span class="bracket">)</span>;  <span class="comment">// â‘  è¾“å‡º A</span>

<span class="comment">// setTimeoutè¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'B'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="comment">// Promise.thenè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'C'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="comment">// åŒæ­¥ä»£ç </span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'D'</span><span class="bracket">)</span>;  <span class="comment">// â‘¡ è¾“å‡º D</span>

<span class="comment">// åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="comment">// â‘¢ æ‰§è¡Œå¾®ä»»åŠ¡ï¼šè¾“å‡º C</span>

<span class="comment">// === ç¬¬2è½®äº‹ä»¶å¾ªç¯ ===</span>
<span class="comment">// æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„setTimeout</span>
<span class="comment">// â‘£ è¾“å‡º B</span>

<span class="comment">// æœ€ç»ˆè¾“å‡ºï¼šA â†’ D â†’ C â†’ B</span></code></pre></div>
                    
                    <p><strong>å¯è§†åŒ–æµç¨‹ï¼š</strong></p>
                    <div class="code-question"><pre><code>è°ƒç”¨æ ˆï¼š     A â†’ D â†’ æ¸…ç©º
             â†“
å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼š  [C] â†’ æ‰§è¡ŒC â†’ æ¸…ç©º
             â†“
å®ä»»åŠ¡é˜Ÿåˆ—ï¼š  [B] â†’ æ‰§è¡ŒB</code></pre></div>
                    
                    <p><strong>å…³é”®ç‚¹ï¼š</strong></p>
                    <ul>
                        <li>åŒæ­¥ä»£ç æœ€å…ˆæ‰§è¡Œ</li>
                        <li>å¾®ä»»åŠ¡åœ¨å½“å‰å®ä»»åŠ¡åã€ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰æ‰§è¡Œ</li>
                        <li>setTimeout(fn, 0) ä¸æ˜¯ç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šäº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåº</span>
            </div>
        </div>

        <!-- Q3: å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©º -->
        <div class="quiz-item" data-question="3">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ åŸºç¡€</span>
                <span class="tag">å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
            </div>
            
            <div class="question">Q3: ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'1'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>
    .<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'2'</span><span class="bracket">)</span><span class="bracket">)</span>
    .<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'3'</span><span class="bracket">)</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> 2 3 1
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> 1 2 3
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> 2 1 3
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> 1 3 2
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(3, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(3)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-3">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºæœºåˆ¶ï¼š</h4>
                    
                    <p><strong>æ‰§è¡Œæµç¨‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// 1. setTimeoutè¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'1'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="comment">// 2. ç¬¬ä¸€ä¸ªthenè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>
    .<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'2'</span><span class="bracket">)</span><span class="bracket">)</span>  <span class="comment">// å¾®ä»»åŠ¡1</span>
    .<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'3'</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// å¾®ä»»åŠ¡2ï¼ˆåœ¨1æ‰§è¡Œåæ‰åŠ å…¥ï¼‰</span>

<span class="comment">// 3. åŒæ­¥ä»£ç æ‰§è¡Œå®Œï¼Œå¼€å§‹æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="comment">// æ‰§è¡Œå¾®ä»»åŠ¡1ï¼šè¾“å‡º2ï¼Œthenè¿”å›Promiseï¼Œä¸‹ä¸€ä¸ªthenè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="comment">// æ‰§è¡Œå¾®ä»»åŠ¡2ï¼šè¾“å‡º3</span>
<span class="comment">// å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©º</span>

<span class="comment">// 4. æ‰§è¡Œå®ä»»åŠ¡</span>
<span class="comment">// è¾“å‡º1</span>

<span class="comment">// æœ€ç»ˆï¼š2 â†’ 3 â†’ 1</span></code></pre></div>
                    
                    <p><strong>å…³é”®è§„åˆ™ï¼š</strong></p>
                    <ul>
                        <li>å¾®ä»»åŠ¡é˜Ÿåˆ—å¿…é¡»<strong>å®Œå…¨æ¸…ç©º</strong>æ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
                        <li>æ‰§è¡Œå¾®ä»»åŠ¡æ—¶å¯èƒ½äº§ç”Ÿæ–°çš„å¾®ä»»åŠ¡</li>
                        <li>æ–°äº§ç”Ÿçš„å¾®ä»»åŠ¡ä¼šåœ¨å½“å‰è½®æ¬¡ç»§ç»­æ‰§è¡Œ</li>
                    </ul>
                    
                    <p><strong>é˜Ÿåˆ—çŠ¶æ€ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åˆå§‹çŠ¶æ€</span>
å®ä»»åŠ¡é˜Ÿåˆ—<span class="operator">:</span> <span class="bracket">[</span>setTimeout<span class="bracket">]</span>
å¾®ä»»åŠ¡é˜Ÿåˆ—<span class="operator">:</span> <span class="bracket">[</span>then1<span class="bracket">]</span>

<span class="comment">// æ‰§è¡Œthen1å</span>
å®ä»»åŠ¡é˜Ÿåˆ—<span class="operator">:</span> <span class="bracket">[</span>setTimeout<span class="bracket">]</span>
å¾®ä»»åŠ¡é˜Ÿåˆ—<span class="operator">:</span> <span class="bracket">[</span>then2<span class="bracket">]</span>  <span class="comment">// æ–°å¢</span>

<span class="comment">// æ‰§è¡Œthen2å</span>
å®ä»»åŠ¡é˜Ÿåˆ—<span class="operator">:</span> <span class="bracket">[</span>setTimeout<span class="bracket">]</span>
å¾®ä»»åŠ¡é˜Ÿåˆ—<span class="operator">:</span> <span class="bracket">[</span><span class="bracket">]</span>  <span class="comment">// æ¸…ç©ºï¼Œæ‰§è¡Œå®ä»»åŠ¡</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå¾®ä»»åŠ¡é˜Ÿåˆ—</span>
            </div>
        </div>

        <!-- Q4: å¤æ‚æ‰§è¡Œé¡ºåº -->
        <div class="quiz-item" data-question="4">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">æ‰§è¡Œé¡ºåº</span>
            </div>
            
            <div class="question">Q4: ä»¥ä¸‹ä»£ç è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span><span class="bracket">)</span>;

<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span>;
    <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">3</span><span class="bracket">)</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">4</span><span class="bracket">)</span>;
    <span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">5</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">6</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> 1 6 4 2 3 5
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> 1 6 2 4 3 5
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> 1 6 4 2 5 3
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> 1 2 4 6 3 5
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(4, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(4)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-4">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å¤æ‚æ‰§è¡Œé¡ºåºåˆ†æï¼š</h4>
                    
                    <div class="code-question"><pre><code><span class="comment">// === ç¬¬1è½®äº‹ä»¶å¾ªç¯ ===</span>
<span class="comment">// åŒæ­¥ä»£ç </span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span><span class="bracket">)</span>;  <span class="comment">// â‘  è¾“å‡º1</span>

<span class="comment">// setTimeout1è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="function">setTimeout</span><span class="bracket">(</span>...<span class="bracket">)</span>;  <span class="comment">// å®ä»»åŠ¡é˜Ÿåˆ—ï¼š[setTimeout1]</span>

<span class="comment">// Promise1.thenè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span>...<span class="bracket">)</span>;  <span class="comment">// å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼š[Promise1]</span>

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">6</span><span class="bracket">)</span>;  <span class="comment">// â‘¡ è¾“å‡º6</span>

<span class="comment">// åŒæ­¥ä»£ç æ‰§è¡Œå®Œï¼Œæ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="comment">// æ‰§è¡ŒPromise1ï¼šè¾“å‡º4ï¼ŒsetTimeout2è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">4</span><span class="bracket">)</span>;  <span class="comment">// â‘¢ è¾“å‡º4</span>
<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">5</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;  <span class="comment">// å®ä»»åŠ¡ï¼š[setTimeout1, setTimeout2]</span>

<span class="comment">// === ç¬¬2è½®äº‹ä»¶å¾ªç¯ ===</span>
<span class="comment">// æ‰§è¡ŒsetTimeout1</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span>;  <span class="comment">// â‘£ è¾“å‡º2</span>
<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">3</span><span class="bracket">)</span><span class="bracket">)</span>;  <span class="comment">// å¾®ä»»åŠ¡ï¼š[Promise2]</span>

<span class="comment">// æ¸…ç©ºå¾®ä»»åŠ¡</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">3</span><span class="bracket">)</span>;  <span class="comment">// â‘¤ è¾“å‡º3</span>

<span class="comment">// === ç¬¬3è½®äº‹ä»¶å¾ªç¯ ===</span>
<span class="comment">// æ‰§è¡ŒsetTimeout2</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">5</span><span class="bracket">)</span>;  <span class="comment">// â‘¥ è¾“å‡º5</span>

<span class="comment">// æœ€ç»ˆè¾“å‡ºï¼š1 â†’ 6 â†’ 4 â†’ 2 â†’ 3 â†’ 5</span></code></pre></div>
                    
                    <p><strong>é˜Ÿåˆ—å˜åŒ–ï¼š</strong></p>
                    <table>
                        <tr>
                            <th>é˜¶æ®µ</th>
                            <th>å®ä»»åŠ¡é˜Ÿåˆ—</th>
                            <th>å¾®ä»»åŠ¡é˜Ÿåˆ—</th>
                            <th>è¾“å‡º</th>
                        </tr>
                        <tr>
                            <td>åˆå§‹</td>
                            <td>[]</td>
                            <td>[]</td>
                            <td>1, 6</td>
                        </tr>
                        <tr>
                            <td>åŒæ­¥å®Œæˆ</td>
                            <td>[setTimeout1]</td>
                            <td>[Promise1]</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>æ¸…ç©ºå¾®ä»»åŠ¡</td>
                            <td>[setTimeout1, setTimeout2]</td>
                            <td>[]</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td>ç¬¬2è½®</td>
                            <td>[setTimeout2]</td>
                            <td>[Promise2]</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>æ¸…ç©ºå¾®ä»»åŠ¡</td>
                            <td>[setTimeout2]</td>
                            <td>[]</td>
                            <td>3</td>
                        </tr>
                        <tr>
                            <td>ç¬¬3è½®</td>
                            <td>[]</td>
                            <td>[]</td>
                            <td>5</td>
                        </tr>
                    </table>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå¤æ‚æ‰§è¡Œé¡ºåº</span>
            </div>
        </div>

        <!-- Q5: requestAnimationFrame -->
        <div class="quiz-item" data-question="5">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">RAF</span>
            </div>
            
            <div class="question">Q5: requestAnimationFrame çš„æ‰§è¡Œæ—¶æœºæ˜¯ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> åœ¨å¾®ä»»åŠ¡ä¹‹åï¼Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ä¹‹å‰
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> åœ¨æ‰€æœ‰å¾®ä»»åŠ¡æ‰§è¡Œåï¼Œæµè§ˆå™¨æ¸²æŸ“ä¹‹å‰
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> å’ŒsetTimeout(fn, 0)ä¸€æ ·
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> åœ¨å®ä»»åŠ¡ä¹‹å‰æ‰§è¡Œ
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(5, 'B')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(5)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-5">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šB</div>
                <div class="explanation">
                    <h4>requestAnimationFrame è¯¦è§£ï¼š</h4>
                    
                    <p><strong>å®Œæ•´äº‹ä»¶å¾ªç¯æµç¨‹ï¼š</strong></p>
                    <ol>
                        <li>æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡</li>
                        <li>æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡</li>
                        <li>æ‰§è¡ŒrequestAnimationFrameå›è°ƒ</li>
                        <li>æµè§ˆå™¨æ¸²æŸ“</li>
                        <li>å›åˆ°æ­¥éª¤1</li>
                    </ol>
                    
                    <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'1'</span><span class="bracket">)</span>;

<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'setTimeout'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'Promise'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="function">requestAnimationFrame</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'rAF'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'2'</span><span class="bracket">)</span>;

<span class="comment">// è¾“å‡ºï¼š1 â†’ 2 â†’ Promise â†’ rAF â†’ setTimeout</span></code></pre></div>
                    
                    <p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åŠ¨ç”»ä¼˜åŒ–ï¼šåŒæ­¥åˆ°æµè§ˆå™¨åˆ·æ–°ç‡(60fps)</span>
<span class="keyword">function</span> <span class="function">animate</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="comment">// æ›´æ–°åŠ¨ç”»çŠ¶æ€</span>
    element.<span class="property">style</span>.<span class="property">transform</span> <span class="operator">=</span> <span class="string">`translateX(${x}px)`</span>;
    x <span class="operator">+=</span> <span class="number">1</span>;
    
    <span class="comment">// åœ¨ä¸‹ä¸€å¸§ç»§ç»­</span>
    <span class="function">requestAnimationFrame</span><span class="bracket">(</span>animate<span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="function">requestAnimationFrame</span><span class="bracket">(</span>animate<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>vs setTimeoutï¼š</strong></p>
                    <ul>
                        <li><code>requestAnimationFrame</code>: ä¸å±å¹•åˆ·æ–°ç‡åŒæ­¥ï¼Œæ€§èƒ½å¥½</li>
                        <li><code>setTimeout</code>: å›ºå®šé—´éš”ï¼Œå¯èƒ½æ‰å¸§</li>
                        <li>é¡µé¢ä¸å¯è§æ—¶ï¼ŒrAFè‡ªåŠ¨æš‚åœ</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šRAFæ‰§è¡Œæ—¶æœº</span>
            </div>
        </div>

        <!-- Q6: async/awaitä¸äº‹ä»¶å¾ªç¯ -->
        <div class="quiz-item" data-question="6">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ è¿›é˜¶</span>
                <span class="tag">async/await</span>
            </div>
            
            <div class="question">Q6: ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 start'</span><span class="bracket">)</span>;
    <span class="keyword">await</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 end'</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async2'</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'script start'</span><span class="bracket">)</span>;

<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'setTimeout'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span>;

<span class="keyword">new</span> <span class="function">Promise</span><span class="bracket">(</span>resolve <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise1'</span><span class="bracket">)</span>;
    <span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise2'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'script end'</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> script start â†’ async1 start â†’ async2 â†’ promise1 â†’ script end â†’ async1 end â†’ promise2 â†’ setTimeout
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> script start â†’ async1 start â†’ async2 â†’ promise1 â†’ script end â†’ promise2 â†’ async1 end â†’ setTimeout
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> script start â†’ promise1 â†’ async1 start â†’ async2 â†’ script end â†’ async1 end â†’ promise2 â†’ setTimeout
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> script start â†’ async1 start â†’ promise1 â†’ async2 â†’ script end â†’ async1 end â†’ promise2 â†’ setTimeout
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(6, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(6)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-6">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>async/await åœ¨äº‹ä»¶å¾ªç¯ä¸­çš„æ‰§è¡Œï¼š</h4>
                    
                    <div class="code-question"><pre><code><span class="comment">// åŒæ­¥ä»£ç </span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'script start'</span><span class="bracket">)</span>;  <span class="comment">// â‘  è¾“å‡º</span>

<span class="comment">// setTimeoutè¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="function">setTimeout</span><span class="bracket">(</span>...<span class="bracket">)</span>;

<span class="comment">// è°ƒç”¨async1 - åŒæ­¥æ‰§è¡Œåˆ°ç¬¬ä¸€ä¸ªawait</span>
<span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async1 start'</span><span class="bracket">)</span>;  <span class="comment">// â‘¡ è¾“å‡º</span>
    <span class="keyword">await</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// è°ƒç”¨async2</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'async2'</span><span class="bracket">)</span>;  <span class="comment">// â‘¢ è¾“å‡º</span>
    <span class="comment">// awaitåé¢çš„ä»£ç è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</span>
    <span class="comment">// console.log('async1 end') â†’ å¾®ä»»åŠ¡1</span>

<span class="comment">// Promiseæ„é€ å‡½æ•°åŒæ­¥æ‰§è¡Œ</span>
<span class="keyword">new</span> <span class="function">Promise</span><span class="bracket">(</span>...<span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise1'</span><span class="bracket">)</span>;  <span class="comment">// â‘£ è¾“å‡º</span>
    <span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;
.<span class="function">then</span><span class="bracket">(</span>...<span class="bracket">)</span>;  <span class="comment">// thenè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— â†’ å¾®ä»»åŠ¡2</span>

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'script end'</span><span class="bracket">)</span>;  <span class="comment">// â‘¤ è¾“å‡º</span>

<span class="comment">// åŒæ­¥ä»£ç æ‰§è¡Œå®Œï¼Œæ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="comment">// å¾®ä»»åŠ¡1: console.log('async1 end') // â‘¥ è¾“å‡º</span>
<span class="comment">// å¾®ä»»åŠ¡2: console.log('promise2') // â‘¦ è¾“å‡º</span>

<span class="comment">// æ‰§è¡Œå®ä»»åŠ¡</span>
<span class="comment">// console.log('setTimeout') // â‘§ è¾“å‡º</span></code></pre></div>
                    
                    <p><strong>å…³é”®ç‚¹ï¼š</strong></p>
                    <ul>
                        <li>asyncå‡½æ•°åœ¨awaitä¹‹å‰<strong>åŒæ­¥æ‰§è¡Œ</strong></li>
                        <li>awaitåçš„ä»£ç ä½œä¸º<strong>å¾®ä»»åŠ¡</strong></li>
                        <li>Promiseæ„é€ å‡½æ•°<strong>åŒæ­¥æ‰§è¡Œ</strong></li>
                        <li>thenå›è°ƒæ˜¯<strong>å¾®ä»»åŠ¡</strong></li>
                        <li>å¾®ä»»åŠ¡æŒ‰<strong>å…¥é˜Ÿé¡ºåº</strong>æ‰§è¡Œ</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šasync/awaitä¸äº‹ä»¶å¾ªç¯</span>
            </div>
        </div>

        <!-- Q7: å¤šå±‚åµŒå¥— -->
        <div class="quiz-item" data-question="7">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">åµŒå¥—æ‰§è¡Œ</span>
            </div>
            
            <div class="question">Q7: ä»¥ä¸‹ä»£ç è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="code-question"><pre><code><span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'timeout1'</span><span class="bracket">)</span>;
    <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise1'</span><span class="bracket">)</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'timeout2'</span><span class="bracket">)</span>;
    <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise2'</span><span class="bracket">)</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise3'</span><span class="bracket">)</span>;
    <span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'timeout3'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> promise3 â†’ timeout1 â†’ promise1 â†’ timeout2 â†’ promise2 â†’ timeout3
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> promise3 â†’ timeout1 â†’ timeout2 â†’ promise1 â†’ promise2 â†’ timeout3
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> timeout1 â†’ promise1 â†’ timeout2 â†’ promise2 â†’ promise3 â†’ timeout3
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> promise3 â†’ timeout1 â†’ timeout2 â†’ timeout3 â†’ promise1 â†’ promise2
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(7, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(7)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-7">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å¤šå±‚åµŒå¥—æ‰§è¡Œåˆ†æï¼š</h4>
                    
                    <div class="code-question"><pre><code><span class="comment">// === åˆå§‹çŠ¶æ€ ===</span>
<span class="comment">// å®ä»»åŠ¡é˜Ÿåˆ—ï¼š[timeout1, timeout2]</span>
<span class="comment">// å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼š[promise3.then]</span>

<span class="comment">// === ç¬¬1è½®ï¼šæ‰§è¡Œå¾®ä»»åŠ¡ ===</span>
<span class="comment">// æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise3'</span><span class="bracket">)</span>;  <span class="comment">// â‘  è¾“å‡º</span>
<span class="function">setTimeout</span><span class="bracket">(</span>timeout3<span class="bracket">)</span>;  <span class="comment">// åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾</span>
<span class="comment">// å®ä»»åŠ¡é˜Ÿåˆ—ï¼š[timeout1, timeout2, timeout3]</span>

<span class="comment">// === ç¬¬2è½®ï¼šæ‰§è¡Œtimeout1 ===</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'timeout1'</span><span class="bracket">)</span>;  <span class="comment">// â‘¡ è¾“å‡º</span>
<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span>promise1<span class="bracket">)</span>;  <span class="comment">// åŠ å…¥å¾®ä»»åŠ¡</span>
<span class="comment">// å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼š[promise1]</span>

<span class="comment">// æ¸…ç©ºå¾®ä»»åŠ¡</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise1'</span><span class="bracket">)</span>;  <span class="comment">// â‘¢ è¾“å‡º</span>

<span class="comment">// === ç¬¬3è½®ï¼šæ‰§è¡Œtimeout2 ===</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'timeout2'</span><span class="bracket">)</span>;  <span class="comment">// â‘£ è¾“å‡º</span>
<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span>promise2<span class="bracket">)</span>;  <span class="comment">// åŠ å…¥å¾®ä»»åŠ¡</span>

<span class="comment">// æ¸…ç©ºå¾®ä»»åŠ¡</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise2'</span><span class="bracket">)</span>;  <span class="comment">// â‘¤ è¾“å‡º</span>

<span class="comment">// === ç¬¬4è½®ï¼šæ‰§è¡Œtimeout3 ===</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'timeout3'</span><span class="bracket">)</span>;  <span class="comment">// â‘¥ è¾“å‡º</span>

<span class="comment">// æœ€ç»ˆï¼špromise3 â†’ timeout1 â†’ promise1 â†’ timeout2 â†’ promise2 â†’ timeout3</span></code></pre></div>
                    
                    <p><strong>å…³é”®è§„åˆ™ï¼š</strong></p>
                    <ul>
                        <li>æ¯æ‰§è¡Œ<strong>ä¸€ä¸ª</strong>å®ä»»åŠ¡åï¼Œæ¸…ç©º<strong>æ‰€æœ‰</strong>å¾®ä»»åŠ¡</li>
                        <li>å¾®ä»»åŠ¡ä¸­äº§ç”Ÿçš„å®ä»»åŠ¡ï¼ŒåŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—<strong>æœ«å°¾</strong></li>
                        <li>å®ä»»åŠ¡æŒ‰<strong>FIFO</strong>é¡ºåºæ‰§è¡Œ</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå¤šå±‚åµŒå¥—æ‰§è¡Œ</span>
            </div>
        </div>

        <!-- Q8: Node.jsäº‹ä»¶å¾ªç¯ -->
        <div class="quiz-item" data-question="8">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">Node.js</span>
            </div>
            
            <div class="question">Q8: Node.js ä¸­ process.nextTick å’Œ setImmediate çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> nextTick åœ¨å½“å‰é˜¶æ®µç»“æŸåç«‹å³æ‰§è¡Œï¼ŒsetImmediate åœ¨checké˜¶æ®µæ‰§è¡Œ
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å®Œå…¨ç›¸åŒï¼Œåªæ˜¯åå­—ä¸åŒ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> setImmediate æ¯” nextTick å…ˆæ‰§è¡Œ
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> nextTick æ˜¯å®ä»»åŠ¡ï¼ŒsetImmediate æ˜¯å¾®ä»»åŠ¡
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(8, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(8)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-8">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>Node.js äº‹ä»¶å¾ªç¯é˜¶æ®µï¼š</h4>
                    
                    <p><strong>äº‹ä»¶å¾ªç¯6ä¸ªé˜¶æ®µï¼š</strong></p>
                    <ol>
                        <li><strong>timers</strong>: æ‰§è¡ŒsetTimeout/setIntervalå›è°ƒ</li>
                        <li><strong>pending callbacks</strong>: æ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€è½®çš„I/Oå›è°ƒ</li>
                        <li><strong>idle, prepare</strong>: å†…éƒ¨ä½¿ç”¨</li>
                        <li><strong>poll</strong>: è·å–æ–°çš„I/Oäº‹ä»¶</li>
                        <li><strong>check</strong>: æ‰§è¡ŒsetImmediateå›è°ƒ</li>
                        <li><strong>close callbacks</strong>: å…³é—­å›è°ƒï¼ˆå¦‚socket.on('close')ï¼‰</li>
                    </ol>
                    
                    <p><strong>æ‰§è¡Œä¼˜å…ˆçº§ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// process.nextTick - æœ€é«˜ä¼˜å…ˆçº§</span>
<span class="property">process</span>.<span class="function">nextTick</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'nextTick'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="comment">// Promise - å¾®ä»»åŠ¡</span>
<span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'promise'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="comment">// setImmediate - checké˜¶æ®µ</span>
<span class="function">setImmediate</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'immediate'</span><span class="bracket">)</span><span class="bracket">)</span>;

<span class="comment">// setTimeout - timersé˜¶æ®µ</span>
<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'timeout'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="comment">// è¾“å‡ºé¡ºåºï¼šnextTick â†’ promise â†’ timeout/immediateï¼ˆé¡ºåºä¸ç¡®å®šï¼‰</span></code></pre></div>
                    
                    <p><strong>nextTick vs setImmediateï¼š</strong></p>
                    <table>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>process.nextTick</th>
                            <th>setImmediate</th>
                        </tr>
                        <tr>
                            <td>æ‰§è¡Œæ—¶æœº</td>
                            <td>å½“å‰é˜¶æ®µç»“æŸåç«‹å³æ‰§è¡Œ</td>
                            <td>checké˜¶æ®µæ‰§è¡Œ</td>
                        </tr>
                        <tr>
                            <td>ä¼˜å…ˆçº§</td>
                            <td>æœ€é«˜ï¼ˆæ¯”å¾®ä»»åŠ¡è¿˜é«˜ï¼‰</td>
                            <td>è¾ƒä½</td>
                        </tr>
                        <tr>
                            <td>é€’å½’é£é™©</td>
                            <td>å¯èƒ½é˜»å¡äº‹ä»¶å¾ªç¯</td>
                            <td>ä¸ä¼šé˜»å¡</td>
                        </tr>
                    </table>
                    
                    <p><strong>âš ï¸ ä½¿ç”¨å»ºè®®ï¼š</strong></p>
                    <ul>
                        <li>ä¼˜å…ˆä½¿ç”¨ <code>setImmediate</code>ï¼ˆæ›´å®‰å…¨ï¼‰</li>
                        <li><code>nextTick</code> ä»…ç”¨äºç‰¹æ®Šæƒ…å†µï¼ˆå¦‚é”™è¯¯å¤„ç†ï¼‰</li>
                        <li>é¿å…é€’å½’è°ƒç”¨ <code>nextTick</code></li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šNode.jsäº‹ä»¶å¾ªç¯</span>
            </div>
        </div>

        <!-- Q9: ç»¼åˆç»ƒä¹  -->
        <div class="quiz-item" data-question="9">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">ç»¼åˆåº”ç”¨</span>
            </div>
            
            <div class="question">Q9: ä»¥ä¸‹ä»£ç è¾“å‡ºé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆç»å…¸é¢è¯•é¢˜ï¼‰</div>
            
            <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span><span class="bracket">)</span>;

<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span>;
    <span class="keyword">await</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">3</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">4</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span>;

<span class="keyword">new</span> <span class="function">Promise</span><span class="bracket">(</span><span class="bracket">(</span>resolve<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">5</span><span class="bracket">)</span>;
    <span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">6</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">7</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">8</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">9</span><span class="bracket">)</span>;</code></pre></div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> 1 2 4 5 9 3 6 7 8
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> 1 2 4 9 5 3 6 7 8
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> 1 2 4 5 9 6 3 7 8
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> 1 9 2 4 5 3 6 7 8
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(9, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(9)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-9">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å®Œæ•´æ‰§è¡Œæµç¨‹åˆ†æï¼š</h4>
                    
                    <div class="code-question"><pre><code><span class="comment">// === åŒæ­¥ä»£ç  ===</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">1</span><span class="bracket">)</span>;  <span class="comment">// â‘  è¾“å‡º1</span>

<span class="comment">// è°ƒç”¨async1</span>
<span class="function">async1</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span>;  <span class="comment">// â‘¡ è¾“å‡º2</span>
    <span class="keyword">await</span> <span class="function">async2</span><span class="bracket">(</span><span class="bracket">)</span>;
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">4</span><span class="bracket">)</span>;  <span class="comment">// â‘¢ è¾“å‡º4</span>
    <span class="comment">// console.log(3) â†’ å¾®ä»»åŠ¡é˜Ÿåˆ—</span>

<span class="comment">// Promiseæ„é€ å‡½æ•°</span>
<span class="keyword">new</span> <span class="function">Promise</span><span class="bracket">(</span>...<span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">5</span><span class="bracket">)</span>;  <span class="comment">// â‘£ è¾“å‡º5</span>
    <span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>;
.<span class="function">then</span><span class="bracket">(</span>...<span class="bracket">)</span>;  <span class="comment">// then1 â†’ å¾®ä»»åŠ¡é˜Ÿåˆ—</span>

<span class="function">setTimeout</span><span class="bracket">(</span>...<span class="bracket">)</span>;  <span class="comment">// â†’ å®ä»»åŠ¡é˜Ÿåˆ—</span>

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">9</span><span class="bracket">)</span>;  <span class="comment">// â‘¤ è¾“å‡º9</span>

<span class="comment">// === å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼š[async1çš„awaitå, then1] ===</span>
<span class="comment">// æ‰§è¡Œå¾®ä»»åŠ¡1</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">3</span><span class="bracket">)</span>;  <span class="comment">// â‘¥ è¾“å‡º3</span>

<span class="comment">// æ‰§è¡Œå¾®ä»»åŠ¡2ï¼ˆthen1ï¼‰</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">6</span><span class="bracket">)</span>;  <span class="comment">// â‘¦ è¾“å‡º6</span>
<span class="comment">// then2 â†’ å¾®ä»»åŠ¡é˜Ÿåˆ—</span>

<span class="comment">// æ‰§è¡Œå¾®ä»»åŠ¡3ï¼ˆthen2ï¼‰</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">7</span><span class="bracket">)</span>;  <span class="comment">// â‘§ è¾“å‡º7</span>

<span class="comment">// === å®ä»»åŠ¡ ===</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="number">8</span><span class="bracket">)</span>;  <span class="comment">// â‘¨ è¾“å‡º8</span>

<span class="comment">// æœ€ç»ˆï¼š1 â†’ 2 â†’ 4 â†’ 5 â†’ 9 â†’ 3 â†’ 6 â†’ 7 â†’ 8</span></code></pre></div>
                    
                    <p><strong>å…³é”®ç‚¹æ€»ç»“ï¼š</strong></p>
                    <ol>
                        <li>åŒæ­¥ä»£ç ï¼š1, 2, 4, 5, 9</li>
                        <li>å¾®ä»»åŠ¡ï¼ˆä¾æ¬¡ï¼‰ï¼š3, 6, 7</li>
                        <li>å®ä»»åŠ¡ï¼š8</li>
                    </ol>
                    
                    <p><strong>å¾®ä»»åŠ¡é˜Ÿåˆ—å˜åŒ–ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åˆå§‹ï¼š[awaitåçš„3, then(6)]</span>
<span class="comment">// æ‰§è¡Œ3åï¼š[then(6)]</span>
<span class="comment">// æ‰§è¡Œ6åï¼š[then(7)]  // then(6)æ‰§è¡Œå®Œè¿”å›Promiseï¼Œthen(7)å…¥é˜Ÿ</span>
<span class="comment">// æ‰§è¡Œ7åï¼š[]  // æ¸…ç©ºï¼Œæ‰§è¡Œå®ä»»åŠ¡</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šäº‹ä»¶å¾ªç¯ç»¼åˆç»ƒä¹ </span>
            </div>
        </div>

        <!-- Q10: å®æˆ˜åº”ç”¨ -->
        <div class="quiz-item" data-question="10">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">æ€§èƒ½ä¼˜åŒ–</span>
            </div>
            
            <div class="question">Q10: å¦‚ä½•é¿å…é•¿ä»»åŠ¡é˜»å¡ä¸»çº¿ç¨‹ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä½¿ç”¨Web Worker
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä»»åŠ¡åˆ†ç‰‡ + requestIdleCallback
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ä½¿ç”¨setTimeoutåˆ†è§£ä»»åŠ¡
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> ä»¥ä¸Šéƒ½å¯ä»¥
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(10, 'D')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(10)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-10">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šD</div>
                <div class="explanation">
                    <h4>é¿å…é•¿ä»»åŠ¡é˜»å¡çš„æ–¹æ³•ï¼š</h4>
                    
                    <p><strong>æ–¹æ³•1ï¼šWeb Workerï¼ˆå¤šçº¿ç¨‹ï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// ä¸»çº¿ç¨‹</span>
<span class="keyword">const</span> worker <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Worker</span><span class="bracket">(</span><span class="string">'worker.js'</span><span class="bracket">)</span>;

worker.<span class="function">postMessage</span><span class="bracket">(</span><span class="bracket">{</span> data<span class="operator">:</span> largeArray <span class="bracket">}</span><span class="bracket">)</span>;

worker.<span class="function">onmessage</span> <span class="operator">=</span> <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'å¤„ç†å®Œæˆ'</span>, e.<span class="property">data</span><span class="bracket">)</span>;
<span class="bracket">}</span>;

<span class="comment">// worker.js</span>
<span class="function">onmessage</span> <span class="operator">=</span> <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">const</span> result <span class="operator">=</span> <span class="function">heavyComputation</span><span class="bracket">(</span>e.<span class="property">data</span><span class="bracket">)</span>;
    <span class="function">postMessage</span><span class="bracket">(</span>result<span class="bracket">)</span>;
<span class="bracket">}</span>;</code></pre></div>
                    
                    <p><strong>æ–¹æ³•2ï¼šä»»åŠ¡åˆ†ç‰‡ï¼ˆTime Slicingï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// ä½¿ç”¨requestIdleCallback</span>
<span class="keyword">function</span> <span class="function">processLargeArray</span><span class="bracket">(</span>array<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> chunkSize <span class="operator">=</span> <span class="number">1000</span>;
    <span class="keyword">let</span> index <span class="operator">=</span> <span class="number">0</span>;
    
    <span class="keyword">function</span> <span class="function">processChunk</span><span class="bracket">(</span>deadline<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">while</span> <span class="bracket">(</span>index <span class="operator">&lt;</span> array.<span class="property">length</span> <span class="operator">&&</span> deadline.<span class="function">timeRemaining</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">></span> <span class="number">0</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="comment">// å¤„ç†å•ä¸ªå…ƒç´ </span>
            <span class="function">processItem</span><span class="bracket">(</span>array<span class="bracket">[</span>index<span class="bracket">]</span><span class="bracket">)</span>;
            index<span class="operator">++</span>;
        <span class="bracket">}</span>
        
        <span class="keyword">if</span> <span class="bracket">(</span>index <span class="operator">&lt;</span> array.<span class="property">length</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="function">requestIdleCallback</span><span class="bracket">(</span>processChunk<span class="bracket">)</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>
    
    <span class="function">requestIdleCallback</span><span class="bracket">(</span>processChunk<span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>æ–¹æ³•3ï¼šsetTimeoutåˆ†è§£ä»»åŠ¡</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">async</span> <span class="keyword">function</span> <span class="function">processInChunks</span><span class="bracket">(</span>array, chunkSize <span class="operator">=</span> <span class="number">100</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> array.<span class="property">length</span>; i <span class="operator">+=</span> chunkSize<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> chunk <span class="operator">=</span> array.<span class="function">slice</span><span class="bracket">(</span>i, i <span class="operator">+</span> chunkSize<span class="bracket">)</span>;
        
        <span class="comment">// å¤„ç†å½“å‰åˆ†ç‰‡</span>
        chunk.<span class="function">forEach</span><span class="bracket">(</span>item <span class="operator">=></span> <span class="function">processItem</span><span class="bracket">(</span>item<span class="bracket">)</span><span class="bracket">)</span>;
        
        <span class="comment">// è®©å‡ºæ§åˆ¶æƒï¼Œé¿å…é˜»å¡</span>
        <span class="keyword">await</span> <span class="keyword">new</span> <span class="function">Promise</span><span class="bracket">(</span>resolve <span class="operator">=></span> <span class="function">setTimeout</span><span class="bracket">(</span>resolve, <span class="number">0</span><span class="bracket">)</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>æ–¹æ³•4ï¼šä½¿ç”¨Schedulerï¼ˆReactå®ç°ï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">scheduler</span><span class="bracket">(</span>tasks<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> frameTime <span class="operator">=</span> <span class="number">16</span>;  <span class="comment">// 60fps â‰ˆ 16ms</span>
    <span class="keyword">let</span> taskIndex <span class="operator">=</span> <span class="number">0</span>;
    
    <span class="keyword">function</span> <span class="function">runTask</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> start <span class="operator">=</span> <span class="property">Date</span>.<span class="function">now</span><span class="bracket">(</span><span class="bracket">)</span>;
        
        <span class="keyword">while</span> <span class="bracket">(</span>taskIndex <span class="operator">&lt;</span> tasks.<span class="property">length</span><span class="bracket">)</span> <span class="bracket">{</span>
            tasks<span class="bracket">[</span>taskIndex<span class="operator">++</span><span class="bracket">]</span><span class="bracket">(</span><span class="bracket">)</span>;
            
            <span class="comment">// è¶…æ—¶åˆ™è®©å‡ºæ§åˆ¶æƒ</span>
            <span class="keyword">if</span> <span class="bracket">(</span><span class="property">Date</span>.<span class="function">now</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">-</span> start <span class="operator">></span> frameTime<span class="bracket">)</span> <span class="bracket">{</span>
                <span class="function">requestAnimationFrame</span><span class="bracket">(</span>runTask<span class="bracket">)</span>;
                <span class="keyword">return</span>;
            <span class="bracket">}</span>
        <span class="bracket">}</span>
    <span class="bracket">}</span>
    
    <span class="function">requestAnimationFrame</span><span class="bracket">(</span>runTask<span class="bracket">)</span>;
<span class="bracket">}</span></code></pre></div>
                    
                    <p><strong>é€‰æ‹©å»ºè®®ï¼š</strong></p>
                    <ul>
                        <li><strong>CPUå¯†é›†å‹</strong>ï¼šä¼˜å…ˆä½¿ç”¨Web Worker</li>
                        <li><strong>å¤§æ•°æ®å¤„ç†</strong>ï¼šä»»åŠ¡åˆ†ç‰‡ + requestIdleCallback</li>
                        <li><strong>ç®€å•åœºæ™¯</strong>ï¼šsetTimeoutåˆ†è§£</li>
                        <li><strong>åŠ¨ç”»ç›¸å…³</strong>ï¼šrequestAnimationFrame</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ€§èƒ½ä¼˜åŒ–å®è·µ</span>
            </div>
        </div>

        <div class="nav-links" style="margin-top: 3rem; display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="09-async-await.html" style="padding: 0.75rem 1.5rem; background: #e2e8f0; color: #2d3748; text-decoration: none; border-radius: 6px;">â¬…ï¸ ä¸Šä¸€èŠ‚ï¼šasync/await</a>
            <a href="../index.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">ğŸ“‹ é¢è¯•é¢˜å¯¼èˆª</a>
        </div>
    </div>
    
    <script>
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const parent = this.closest('.quiz-item');
                parent.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        function checkAnswer(questionNum, correctAnswer) {
            const quizItem = document.querySelector(`[data-question="${questionNum}"]`);
            const selectedOption = quizItem.querySelector('.option.selected');
            
            if (!selectedOption) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            const userAnswer = selectedOption.getAttribute('data-answer');
            const allOptions = quizItem.querySelectorAll('.option');
            
            allOptions.forEach(option => {
                const answer = option.getAttribute('data-answer');
                if (answer === correctAnswer) {
                    option.classList.add('correct');
                } else if (answer === userAnswer) {
                    option.classList.add('wrong');
                }
            });
            
            setTimeout(() => showAnswer(questionNum), 500);
        }

        function showAnswer(questionNum) {
            const answerSection = document.getElementById(`answer-${questionNum}`);
            answerSection.classList.add('show');
            answerSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    </script>
</body>
</html>
