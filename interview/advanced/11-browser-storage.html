<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµè§ˆå™¨å­˜å‚¨ - JavaScript é¢è¯•é¢˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 3px solid #667eea;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            color: #718096;
            font-size: 1.1rem;
        }

        .quiz-item {
            background: #f8fafc;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .quiz-item:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .quiz-item-header {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .difficulty {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .difficulty.easy {
            background: #d4edda;
            color: #155724;
        }

        .difficulty.medium {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty.hard {
            background: #f8d7da;
            color: #721c24;
        }

        .tag {
            padding: 0.4rem 1rem;
            background: #e2e8f0;
            color: #4a5568;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .question {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .option {
            padding: 1.2rem;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            border-color: #667eea;
            background: #f7fafc;
        }

        .option.selected {
            border-color: #667eea;
            background: #eef2ff;
        }

        .option.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .option.wrong {
            border-color: #f56565;
            background: #fff5f5;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .btn {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .answer-section {
            display: none;
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .answer-section.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .answer-label {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: #48bb78;
            color: white;
            border-radius: 6px;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .explanation {
            color: #4a5568;
            line-height: 1.8;
        }

        .explanation h4 {
            color: #2d3748;
            margin: 1.5rem 0 1rem 0;
        }

        .explanation ul, .explanation ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .explanation li {
            margin-bottom: 0.5rem;
        }

        .code-question {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .code-question pre {
            margin: 0;
        }

        .code-question code {
            font-family: 'Courier New', Courier, monospace;
        }

        .keyword {
            color: #c678dd;
        }

        .function {
            color: #61afef;
        }

        .string {
            color: #98c379;
        }

        .comment {
            color: #5c6370;
            font-style: italic;
        }

        .number {
            color: #d19a66;
        }

        .operator {
            color: #56b6c2;
        }

        .property {
            color: #e06c75;
        }

        .bracket {
            color: #abb2bf;
        }

        .source-tag {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.3rem 0.8rem;
            background: #eef2ff;
            color: #667eea;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid #e2e8f0;
        }

        th {
            background: #f7fafc;
            font-weight: 600;
            color: #2d3748;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 2rem;
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .back-link:hover {
            transform: translateX(-5px);
        }

        .nav-links {
            display: flex;
            gap: 1rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            padding: 0.75rem 1.5rem;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link">â† è¿”å›é¢è¯•é¢˜å¯¼èˆª</a>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ’¾ æµè§ˆå™¨å­˜å‚¨</h1>
            <p>æŒæ¡å®¢æˆ·ç«¯æ•°æ®å­˜å‚¨çš„å„ç§æ–¹æ¡ˆ</p>
        </div>

        <!-- Q1: localStorage vs sessionStorage -->
        <div class="quiz-item" data-question="1">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ ç®€å•</span>
                <span class="tag">Web Storage</span>
            </div>
            
            <div class="question">Q1: localStorage å’Œ sessionStorage çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> localStorageæ°¸ä¹…å­˜å‚¨ï¼ŒsessionStorageä¼šè¯ç»“æŸåæ¸…é™¤
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä¸¤è€…å®Œå…¨ç›¸åŒ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> localStorageå®¹é‡æ›´å¤§
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> sessionStorageå¯ä»¥è·¨åŸŸè®¿é—®
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(1, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(1)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-1">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>localStorage vs sessionStorage è¯¦è§£ï¼š</h4>
                    
                    <p><strong>å¯¹æ¯”è¡¨æ ¼ï¼š</strong></p>
                    <table>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>localStorage</th>
                            <th>sessionStorage</th>
                        </tr>
                        <tr>
                            <td>ç”Ÿå‘½å‘¨æœŸ</td>
                            <td>æ°¸ä¹…å­˜å‚¨ï¼ˆé™¤éæ‰‹åŠ¨åˆ é™¤ï¼‰</td>
                            <td>ä¼šè¯ç»“æŸï¼ˆå…³é—­æ ‡ç­¾é¡µ/çª—å£ï¼‰åæ¸…é™¤</td>
                        </tr>
                        <tr>
                            <td>ä½œç”¨åŸŸ</td>
                            <td>åŒæºï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰ä¸‹å…±äº«</td>
                            <td>åŒæºä¸”åŒä¸€çª—å£/æ ‡ç­¾é¡µ</td>
                        </tr>
                        <tr>
                            <td>å®¹é‡</td>
                            <td>é€šå¸¸5-10MB</td>
                            <td>é€šå¸¸5-10MB</td>
                        </tr>
                        <tr>
                            <td>API</td>
                            <td>ç›¸åŒ</td>
                            <td>ç›¸åŒ</td>
                        </tr>
                    </table>
                    
                    <p><strong>åŸºæœ¬ä½¿ç”¨ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// localStorage</span>
localStorage.<span class="function">setItem</span><span class="bracket">(</span><span class="string">'username'</span>, <span class="string">'Alice'</span><span class="bracket">)</span>;
<span class="keyword">const</span> username <span class="operator">=</span> localStorage.<span class="function">getItem</span><span class="bracket">(</span><span class="string">'username'</span><span class="bracket">)</span>;
localStorage.<span class="function">removeItem</span><span class="bracket">(</span><span class="string">'username'</span><span class="bracket">)</span>;
localStorage.<span class="function">clear</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// æ¸…é™¤æ‰€æœ‰</span>

<span class="comment">// sessionStorageï¼ˆAPIç›¸åŒï¼‰</span>
sessionStorage.<span class="function">setItem</span><span class="bracket">(</span><span class="string">'token'</span>, <span class="string">'abc123'</span><span class="bracket">)</span>;
<span class="keyword">const</span> token <span class="operator">=</span> sessionStorage.<span class="function">getItem</span><span class="bracket">(</span><span class="string">'token'</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å­˜å‚¨å¯¹è±¡ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âŒ é”™è¯¯ï¼šç›´æ¥å­˜å‚¨å¯¹è±¡ä¼šå˜æˆ[object Object]</span>
localStorage.<span class="function">setItem</span><span class="bracket">(</span><span class="string">'user'</span>, <span class="bracket">{</span> name<span class="operator">:</span> <span class="string">'Alice'</span> <span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨JSONåºåˆ—åŒ–</span>
<span class="keyword">const</span> user <span class="operator">=</span> <span class="bracket">{</span> name<span class="operator">:</span> <span class="string">'Alice'</span>, age<span class="operator">:</span> <span class="number">25</span> <span class="bracket">}</span>;
localStorage.<span class="function">setItem</span><span class="bracket">(</span><span class="string">'user'</span>, <span class="property">JSON</span>.<span class="function">stringify</span><span class="bracket">(</span>user<span class="bracket">)</span><span class="bracket">)</span>;

<span class="comment">// è¯»å–æ—¶ååºåˆ—åŒ–</span>
<span class="keyword">const</span> userData <span class="operator">=</span> <span class="property">JSON</span>.<span class="function">parse</span><span class="bracket">(</span>localStorage.<span class="function">getItem</span><span class="bracket">(</span><span class="string">'user'</span><span class="bracket">)</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>éå†å­˜å‚¨ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// æ–¹å¼1ï¼šä½¿ç”¨lengthå’Œkey</span>
<span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> localStorage.<span class="property">length</span>; i<span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> key <span class="operator">=</span> localStorage.<span class="function">key</span><span class="bracket">(</span>i<span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>key, localStorage.<span class="function">getItem</span><span class="bracket">(</span>key<span class="bracket">)</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// æ–¹å¼2ï¼šä½¿ç”¨Object.keys</span>
<span class="property">Object</span>.<span class="function">keys</span><span class="bracket">(</span>localStorage<span class="bracket">)</span>.<span class="function">forEach</span><span class="bracket">(</span>key <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>key, localStorage<span class="bracket">[</span>key<span class="bracket">]</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>ç›‘å¬storageäº‹ä»¶ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// æ³¨æ„ï¼šåªèƒ½ç›‘å¬å…¶ä»–çª—å£/æ ‡ç­¾é¡µçš„å˜åŒ–</span>
window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'storage'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'key:'</span>, e.<span class="property">key</span><span class="bracket">)</span>;           <span class="comment">// å˜åŒ–çš„é”®</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'oldValue:'</span>, e.<span class="property">oldValue</span><span class="bracket">)</span>;  <span class="comment">// æ—§å€¼</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'newValue:'</span>, e.<span class="property">newValue</span><span class="bracket">)</span>;  <span class="comment">// æ–°å€¼</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'url:'</span>, e.<span class="property">url</span><span class="bracket">)</span>;           <span class="comment">// è§¦å‘å˜åŒ–çš„é¡µé¢URL</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šWeb Storage API</span>
            </div>
        </div>

        <!-- Q2: Cookie -->
        <div class="quiz-item" data-question="2">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">Cookie</span>
            </div>
            
            <div class="question">Q2: Cookie æœ‰å“ªäº›é‡è¦å±æ€§ï¼Ÿå®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> expires/max-ageã€domainã€pathã€secureã€httpOnlyã€sameSite
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> åªæœ‰nameå’Œvalueä¸¤ä¸ªå±æ€§
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> åªæœ‰expireså±æ€§
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> Cookieä¸æ”¯æŒå±æ€§é…ç½®
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(2, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(2)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-2">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>Cookie å±æ€§è¯¦è§£ï¼š</h4>
                    
                    <p><strong>1. expires / max-ageï¼ˆè¿‡æœŸæ—¶é—´ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// expiresï¼šå…·ä½“è¿‡æœŸæ—¥æœŸ</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"name=Alice; expires=Thu, 01 Jan 2025 00:00:00 GMT"</span>;

<span class="comment">// max-ageï¼šç›¸å¯¹ç§’æ•°ï¼ˆä¼˜å…ˆçº§é«˜äºexpiresï¼‰</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"name=Bob; max-age=3600"</span>;  <span class="comment">// 1å°æ—¶åè¿‡æœŸ</span>

<span class="comment">// ä¸è®¾ç½®ï¼šä¼šè¯Cookieï¼Œå…³é—­æµè§ˆå™¨ååˆ é™¤</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"sessionId=abc123"</span>;</code></pre></div>
                    
                    <p><strong>2. domainï¼ˆåŸŸï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// è®¾ç½®å¯è®¿é—®çš„åŸŸ</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"token=xyz; domain=example.com"</span>;
<span class="comment">// å­åŸŸåä¹Ÿå¯è®¿é—®ï¼šsub.example.com</span>

<span class="comment">// ä¸è®¾ç½®ï¼šä»…å½“å‰åŸŸå¯è®¿é—®</span></code></pre></div>
                    
                    <p><strong>3. pathï¼ˆè·¯å¾„ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// é™åˆ¶Cookieçš„å¯è®¿é—®è·¯å¾„</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"data=test; path=/admin"</span>;
<span class="comment">// åªæœ‰/adminåŠå…¶å­è·¯å¾„å¯è®¿é—®</span>

document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"data=test; path=/"</span>;  <span class="comment">// å…¨ç«™å¯è®¿é—®</span></code></pre></div>
                    
                    <p><strong>4. secureï¼ˆå®‰å…¨ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åªåœ¨HTTPSä¸‹ä¼ è¾“</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"token=secret; secure"</span>;
<span class="comment">// HTTPè¯·æ±‚ä¸ä¼šå‘é€æ­¤Cookie âœ…</span></code></pre></div>
                    
                    <p><strong>5. httpOnlyï¼ˆHTTPä¸“ç”¨ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âš ï¸ åªèƒ½åœ¨æœåŠ¡å™¨ç«¯è®¾ç½®ï¼ŒJavaScriptæ— æ³•è®¾ç½®</span>
<span class="comment">// Set-Cookie: sessionId=abc; HttpOnly</span>

<span class="comment">// JavaScriptæ— æ³•è®¿é—®æ­¤Cookie</span>
<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>document.<span class="property">cookie</span><span class="bracket">)</span>;  <span class="comment">// çœ‹ä¸åˆ°httpOnlyçš„Cookie</span>

<span class="comment">// é˜²æ­¢XSSæ”»å‡»çªƒå–Cookie âœ…</span></code></pre></div>
                    
                    <p><strong>6. sameSiteï¼ˆè·¨ç«™ç­–ç•¥ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// Strictï¼šä¸¥æ ¼æ¨¡å¼ï¼Œå®Œå…¨ç¦æ­¢ç¬¬ä¸‰æ–¹Cookie</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"id=1; sameSite=Strict"</span>;

<span class="comment">// Laxï¼šå®½æ¾æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼Œéƒ¨åˆ†ç¬¬ä¸‰æ–¹è¯·æ±‚å…è®¸</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"id=2; sameSite=Lax"</span>;

<span class="comment">// Noneï¼šæ— é™åˆ¶ï¼Œå¿…é¡»é…åˆSecure</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"id=3; sameSite=None; secure"</span>;</code></pre></div>
                    
                    <p><strong>å®Œæ•´ç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">setCookie</span><span class="bracket">(</span>name, value, days<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> date <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Date</span><span class="bracket">(</span><span class="bracket">)</span>;
    date.<span class="function">setTime</span><span class="bracket">(</span>date.<span class="function">getTime</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">+</span> days <span class="operator">*</span> <span class="number">24</span> <span class="operator">*</span> <span class="number">60</span> <span class="operator">*</span> <span class="number">60</span> <span class="operator">*</span> <span class="number">1000</span><span class="bracket">)</span>;
    document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">`${name}=${value}; expires=${date.<span class="function">toUTCString</span><span class="bracket">(</span><span class="bracket">)</span>}; path=/`</span>;
<span class="bracket">}</span>

<span class="keyword">function</span> <span class="function">getCookie</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> cookies <span class="operator">=</span> document.<span class="property">cookie</span>.<span class="function">split</span><span class="bracket">(</span><span class="string">'; '</span><span class="bracket">)</span>;
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">const</span> cookie <span class="keyword">of</span> cookies<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> <span class="bracket">[</span>key, value<span class="bracket">]</span> <span class="operator">=</span> cookie.<span class="function">split</span><span class="bracket">(</span><span class="string">'='</span><span class="bracket">)</span>;
        <span class="keyword">if</span> <span class="bracket">(</span>key <span class="operator">===</span> name<span class="bracket">)</span> <span class="keyword">return</span> value;
    <span class="bracket">}</span>
    <span class="keyword">return</span> <span class="keyword">null</span>;
<span class="bracket">}</span>

<span class="keyword">function</span> <span class="function">deleteCookie</span><span class="bracket">(</span>name<span class="bracket">)</span> <span class="bracket">{</span>
    document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">`${name}=; max-age=0; path=/`</span>;
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šCookie API</span>
            </div>
        </div>

        <!-- Q3: Storage vs Cookie -->
        <div class="quiz-item" data-question="3">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">å¯¹æ¯”</span>
            </div>
            
            <div class="question">Q3: localStorage/sessionStorage å’Œ Cookie çš„ä¸»è¦åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> Storageå®¹é‡å¤§ï¼ˆ5-10MBï¼‰ï¼Œä¸ä¼šè‡ªåŠ¨å‘é€ï¼›Cookieå®¹é‡å°ï¼ˆ4KBï¼‰ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å‘é€
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä¸¤è€…å®Œå…¨ç›¸åŒ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> Cookieæ›´å®‰å…¨
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> Storageå¯ä»¥è·¨åŸŸè®¿é—®
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(3, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(3)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-3">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å…¨é¢å¯¹æ¯”ï¼š</h4>
                    
                    <table>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>localStorage</th>
                            <th>sessionStorage</th>
                            <th>Cookie</th>
                        </tr>
                        <tr>
                            <td>å®¹é‡</td>
                            <td>5-10MB</td>
                            <td>5-10MB</td>
                            <td>~4KB</td>
                        </tr>
                        <tr>
                            <td>ç”Ÿå‘½å‘¨æœŸ</td>
                            <td>æ°¸ä¹…</td>
                            <td>ä¼šè¯ç»“æŸ</td>
                            <td>å¯è®¾ç½®è¿‡æœŸæ—¶é—´</td>
                        </tr>
                        <tr>
                            <td>ä½œç”¨åŸŸ</td>
                            <td>åŒæºå…±äº«</td>
                            <td>åŒæº+åŒçª—å£</td>
                            <td>å¯é…ç½®domain/path</td>
                        </tr>
                        <tr>
                            <td>HTTPè¯·æ±‚</td>
                            <td>âŒ ä¸å‘é€</td>
                            <td>âŒ ä¸å‘é€</td>
                            <td>âœ… è‡ªåŠ¨å‘é€</td>
                        </tr>
                        <tr>
                            <td>API</td>
                            <td>ç®€å•æ˜“ç”¨</td>
                            <td>ç®€å•æ˜“ç”¨</td>
                            <td>å­—ç¬¦ä¸²æ“ä½œ</td>
                        </tr>
                        <tr>
                            <td>å®‰å…¨æ€§</td>
                            <td>JSå¯è®¿é—®</td>
                            <td>JSå¯è®¿é—®</td>
                            <td>å¯è®¾ç½®HttpOnly</td>
                        </tr>
                    </table>
                    
                    <p><strong>ä½¿ç”¨åœºæ™¯å»ºè®®ï¼š</strong></p>
                    
                    <p><strong>localStorageï¼š</strong></p>
                    <ul>
                        <li>ç”¨æˆ·åå¥½è®¾ç½®ï¼ˆä¸»é¢˜ã€è¯­è¨€ç­‰ï¼‰</li>
                        <li>ç¼“å­˜ä¸æ•æ„Ÿçš„æ•°æ®</li>
                        <li>ç¦»çº¿åº”ç”¨æ•°æ®</li>
                    </ul>
                    
                    <p><strong>sessionStorageï¼š</strong></p>
                    <ul>
                        <li>è¡¨å•æ•°æ®ä¸´æ—¶ä¿å­˜</li>
                        <li>å•é¡µé¢åº”ç”¨çš„é¡µé¢çŠ¶æ€</li>
                        <li>ä¸´æ—¶è´­ç‰©è½¦ï¼ˆå•æ ‡ç­¾é¡µï¼‰</li>
                    </ul>
                    
                    <p><strong>Cookieï¼š</strong></p>
                    <ul>
                        <li>èº«ä»½è®¤è¯tokenï¼ˆé…åˆHttpOnlyã€Secureï¼‰</li>
                        <li>éœ€è¦æœåŠ¡å™¨è®¿é—®çš„æ•°æ®</li>
                        <li>è·¨åŸŸå…±äº«ï¼ˆé…ç½®domainï¼‰</li>
                    </ul>
                    
                    <p><strong>æ€§èƒ½å¯¹æ¯”ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// Cookieï¼šæ¯æ¬¡HTTPè¯·æ±‚éƒ½å‘é€</span>
<span class="comment">// å¦‚æœCookieå¾ˆå¤§ï¼Œä¼šå½±å“è¯·æ±‚æ€§èƒ½ âš ï¸</span>
document.<span class="property">cookie</span> <span class="operator">=</span> <span class="string">"data=" + å¤§é‡æ•°æ®;  <span class="comment">// ä¸æ¨è</span></span>

<span class="comment">// Storageï¼šä¸å½±å“HTTPè¯·æ±‚</span>
localStorage.<span class="function">setItem</span><span class="bracket">(</span><span class="string">'data'</span>, å¤§é‡æ•°æ®<span class="bracket">)</span>;  <span class="comment">// âœ… æ¨è</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå­˜å‚¨å¯¹æ¯”</span>
            </div>
        </div>

        <!-- Q4: IndexedDB -->
        <div class="quiz-item" data-question="4">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">IndexedDB</span>
            </div>
            
            <div class="question">Q4: IndexedDB çš„ç‰¹ç‚¹å’Œä½¿ç”¨åœºæ™¯ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> å®¹é‡å¤§ï¼ˆæ— ä¸Šé™ï¼‰ï¼Œæ”¯æŒç´¢å¼•å’Œäº‹åŠ¡ï¼Œé€‚åˆå­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> åªèƒ½å­˜å‚¨æ–‡æœ¬æ•°æ®
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> å’ŒlocalStorageå®Œå…¨ç›¸åŒ
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> å·²è¢«åºŸå¼ƒ
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(4, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(4)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-4">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>IndexedDB è¯¦è§£ï¼š</h4>
                    
                    <p><strong>ç‰¹ç‚¹ï¼š</strong></p>
                    <ul>
                        <li>å®¹é‡å¤§ï¼šé€šå¸¸å‡ ç™¾MBåˆ°å‡ GB</li>
                        <li>æ”¯æŒç´¢å¼•ï¼šå¯ä»¥å¿«é€ŸæŸ¥è¯¢</li>
                        <li>æ”¯æŒäº‹åŠ¡ï¼šä¿è¯æ•°æ®ä¸€è‡´æ€§</li>
                        <li>å¼‚æ­¥APIï¼šä¸é˜»å¡ä¸»çº¿ç¨‹</li>
                        <li>æ”¯æŒå­˜å‚¨å¤æ‚å¯¹è±¡ã€Blobç­‰</li>
                    </ul>
                    
                    <p><strong>åŸºæœ¬ä½¿ç”¨ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// 1. æ‰“å¼€æ•°æ®åº“</span>
<span class="keyword">const</span> request <span class="operator">=</span> indexedDB.<span class="function">open</span><span class="bracket">(</span><span class="string">'MyDatabase'</span>, <span class="number">1</span><span class="bracket">)</span>;

request.<span class="property">onupgradeneeded</span> <span class="operator">=</span> <span class="bracket">(</span>event<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">const</span> db <span class="operator">=</span> event.<span class="property">target</span>.<span class="property">result</span>;
    <span class="comment">// åˆ›å»ºå¯¹è±¡å­˜å‚¨</span>
    <span class="keyword">const</span> store <span class="operator">=</span> db.<span class="function">createObjectStore</span><span class="bracket">(</span><span class="string">'users'</span>, <span class="bracket">{</span> keyPath<span class="operator">:</span> <span class="string">'id'</span> <span class="bracket">}</span><span class="bracket">)</span>;
    store.<span class="function">createIndex</span><span class="bracket">(</span><span class="string">'name'</span>, <span class="string">'name'</span>, <span class="bracket">{</span> unique<span class="operator">:</span> <span class="keyword">false</span> <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span>;

<span class="comment">// 2. æ·»åŠ æ•°æ®</span>
request.<span class="property">onsuccess</span> <span class="operator">=</span> <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">const</span> db <span class="operator">=</span> request.<span class="property">result</span>;
    <span class="keyword">const</span> transaction <span class="operator">=</span> db.<span class="function">transaction</span><span class="bracket">(</span><span class="string">'users'</span>, <span class="string">'readwrite'</span><span class="bracket">)</span>;
    <span class="keyword">const</span> store <span class="operator">=</span> transaction.<span class="function">objectStore</span><span class="bracket">(</span><span class="string">'users'</span><span class="bracket">)</span>;
    store.<span class="function">add</span><span class="bracket">(</span><span class="bracket">{</span> id<span class="operator">:</span> <span class="number">1</span>, name<span class="operator">:</span> <span class="string">'Alice'</span>, age<span class="operator">:</span> <span class="number">25</span> <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span>;</code></pre></div>
                    
                    <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>ç¦»çº¿åº”ç”¨ã€å¤§é‡æ•°æ®ç¼“å­˜ã€PWAåº”ç”¨</p>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šIndexedDB API</span>
            </div>
        </div>

        <!-- Q5-Q10ç²¾ç®€ç‰ˆ -->
        <div class="quiz-item" data-question="5">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ ç®€å•</span>
                <span class="tag">å­˜å‚¨é™åˆ¶</span>
            </div>
            <div class="question">Q5: æµè§ˆå™¨å­˜å‚¨çš„åŒæºç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> åªæœ‰åè®®ã€åŸŸåã€ç«¯å£éƒ½ç›¸åŒæ‰èƒ½å…±äº«å­˜å‚¨</div>
                <div class="option" data-answer="B"><strong>B.</strong> å¯ä»¥è·¨åŸŸè®¿é—®</div>
                <div class="option" data-answer="C"><strong>C.</strong> åªéœ€è¦åŸŸåç›¸åŒ</div>
                <div class="option" data-answer="D"><strong>D.</strong> ä¸å—åŒæºç­–ç•¥é™åˆ¶</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(5, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(5)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-5">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <p><strong>åŒæºå®šä¹‰ï¼š</strong>åè®®ï¼ˆhttp/httpsï¼‰+ åŸŸå + ç«¯å£å®Œå…¨ç›¸åŒ</p>
                    <p>ä¾‹å¦‚ï¼šhttps://example.com:443 å’Œ http://example.com:80 ä¸åŒæº</p>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå®‰å…¨ç­–ç•¥</span>
            </div>
        </div>

        <!-- Q6: å­˜å‚¨äº‹ä»¶ -->
        <div class="quiz-item" data-question="6">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">è·¨æ ‡ç­¾é€šä¿¡</span>
            </div>
            <div class="question">Q6: å¦‚ä½•å®ç°è·¨æ ‡ç­¾é¡µçš„æ•°æ®åŒæ­¥ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> ä½¿ç”¨storageäº‹ä»¶ç›‘å¬localStorageå˜åŒ–</div>
                <div class="option" data-answer="B"><strong>B.</strong> æ— æ³•å®ç°</div>
                <div class="option" data-answer="C"><strong>C.</strong> åªèƒ½ä½¿ç”¨è½®è¯¢</div>
                <div class="option" data-answer="D"><strong>D.</strong> å¿…é¡»é€šè¿‡æœåŠ¡å™¨</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(6, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(6)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-6">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>è·¨æ ‡ç­¾é¡µé€šä¿¡è¯¦è§£ï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// æ–¹æ³•1ï¼šstorageäº‹ä»¶ï¼ˆæ¨èï¼‰</span>
window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'storage'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span>e.<span class="property">key</span> <span class="operator">===</span> <span class="string">'userStatus'</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'å…¶ä»–æ ‡ç­¾é¡µæ›´æ–°äº†ç”¨æˆ·çŠ¶æ€'</span><span class="bracket">)</span>;
        <span class="function">updateUI</span><span class="bracket">(</span>e.<span class="property">newValue</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// åœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µä¿®æ”¹</span>
localStorage.<span class="function">setItem</span><span class="bracket">(</span><span class="string">'userStatus'</span>, <span class="string">'online'</span><span class="bracket">)</span>;

<span class="comment">// æ–¹æ³•2ï¼šBroadcastChannelï¼ˆç°ä»£æµè§ˆå™¨ï¼‰</span>
<span class="keyword">const</span> channel <span class="operator">=</span> <span class="keyword">new</span> <span class="function">BroadcastChannel</span><span class="bracket">(</span><span class="string">'app_channel'</span><span class="bracket">)</span>;
channel.<span class="function">postMessage</span><span class="bracket">(</span><span class="bracket">{</span> type<span class="operator">:</span> <span class="string">'update'</span>, data<span class="operator">:</span> <span class="string">'...'</span> <span class="bracket">}</span><span class="bracket">)</span>;
channel.<span class="property">onmessage</span> <span class="operator">=</span> <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>e.<span class="property">data</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šè·¨æ ‡ç­¾é€šä¿¡</span>
            </div>
        </div>

        <!-- Q7: å­˜å‚¨å®¹é‡ -->
        <div class="quiz-item" data-question="7">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">å®¹é‡ç®¡ç†</span>
            </div>
            <div class="question">Q7: å¦‚ä½•æ£€æµ‹å’Œç®¡ç†å­˜å‚¨å®¹é‡ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> ä½¿ç”¨StorageManager APIæˆ–try-catchæ•è·QuotaExceededError</div>
                <div class="option" data-answer="B"><strong>B.</strong> æ— æ³•æ£€æµ‹</div>
                <div class="option" data-answer="C"><strong>C.</strong> åªèƒ½æ‰‹åŠ¨è®¡ç®—</div>
                <div class="option" data-answer="D"><strong>D.</strong> æµè§ˆå™¨ä¼šè‡ªåŠ¨ç®¡ç†</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(7, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(7)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-7">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å­˜å‚¨å®¹é‡ç®¡ç†ï¼š</h4>
                    <div class="code-question"><pre><code><span class="comment">// æ–¹æ³•1ï¼šStorageManager APIï¼ˆç°ä»£æµè§ˆå™¨ï¼‰</span>
<span class="keyword">if</span> <span class="bracket">(</span>navigator.<span class="property">storage</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> estimate <span class="operator">=</span> <span class="keyword">await</span> navigator.<span class="property">storage</span>.<span class="function">estimate</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">`å·²ç”¨: ${estimate.<span class="property">usage</span>} bytes`</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">`æ€»é‡: ${estimate.<span class="property">quota</span>} bytes`</span><span class="bracket">)</span>;
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">`ä½¿ç”¨ç‡: ${<span class="bracket">(</span>estimate.<span class="property">usage</span> <span class="operator">/</span> estimate.<span class="property">quota</span> <span class="operator">*</span> <span class="number">100</span><span class="bracket">)</span>.<span class="function">toFixed</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span>}%`</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// æ–¹æ³•2ï¼štry-catchæ•è·è¶…é™é”™è¯¯</span>
<span class="keyword">try</span> <span class="bracket">{</span>
    localStorage.<span class="function">setItem</span><span class="bracket">(</span><span class="string">'key'</span>, largeData<span class="bracket">)</span>;
<span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>e<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span>e.<span class="property">name</span> <span class="operator">===</span> <span class="string">'QuotaExceededError'</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">error</span><span class="bracket">(</span><span class="string">'å­˜å‚¨ç©ºé—´å·²æ»¡'</span><span class="bracket">)</span>;
        <span class="function">clearOldData</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// æ–¹æ³•3ï¼šæ‰‹åŠ¨è®¡ç®—å¤§å°</span>
<span class="keyword">function</span> <span class="function">getStorageSize</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">let</span> total <span class="operator">=</span> <span class="number">0</span>;
    <span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">let</span> key <span class="keyword">in</span> localStorage<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">if</span> <span class="bracket">(</span>localStorage.<span class="function">hasOwnProperty</span><span class="bracket">(</span>key<span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
            total <span class="operator">+=</span> key.<span class="property">length</span> <span class="operator">+</span> localStorage<span class="bracket">[</span>key<span class="bracket">]</span>.<span class="property">length</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>
    <span class="keyword">return</span> <span class="bracket">(</span>total <span class="operator">/</span> <span class="number">1024</span><span class="bracket">)</span>.<span class="function">toFixed</span><span class="bracket">(</span><span class="number">2</span><span class="bracket">)</span> <span class="operator">+</span> <span class="string">' KB'</span>;
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå®¹é‡ç®¡ç†</span>
            </div>
        </div>

        <!-- Q8: æ•°æ®è¿‡æœŸ -->
        <div class="quiz-item" data-question="8">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">è¿‡æœŸç­–ç•¥</span>
            </div>
            <div class="question">Q8: localStorageä¸æ”¯æŒè¿‡æœŸæ—¶é—´ï¼Œå¦‚ä½•å®ç°è‡ªåŠ¨è¿‡æœŸï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> å­˜å‚¨æ—¶æ·»åŠ æ—¶é—´æˆ³ï¼Œè¯»å–æ—¶æ£€æŸ¥æ˜¯å¦è¿‡æœŸ</div>
                <div class="option" data-answer="B"><strong>B.</strong> æ— æ³•å®ç°</div>
                <div class="option" data-answer="C"><strong>C.</strong> ä½¿ç”¨setTimeout</div>
                <div class="option" data-answer="D"><strong>D.</strong> å¿…é¡»ç”¨Cookie</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(8, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(8)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-8">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>å®ç°localStorageè¿‡æœŸæœºåˆ¶ï¼š</h4>
                    <div class="code-question"><pre><code><span class="keyword">class</span> <span class="function">StorageWithExpiry</span> <span class="bracket">{</span>
    <span class="function">set</span><span class="bracket">(</span>key, value, ttl<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> now <span class="operator">=</span> <span class="property">Date</span>.<span class="function">now</span><span class="bracket">(</span><span class="bracket">)</span>;
        <span class="keyword">const</span> item <span class="operator">=</span> <span class="bracket">{</span>
            value<span class="operator">:</span> value,
            expiry<span class="operator">:</span> now <span class="operator">+</span> ttl
        <span class="bracket">}</span>;
        localStorage.<span class="function">setItem</span><span class="bracket">(</span>key, <span class="property">JSON</span>.<span class="function">stringify</span><span class="bracket">(</span>item<span class="bracket">)</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">get</span><span class="bracket">(</span>key<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> itemStr <span class="operator">=</span> localStorage.<span class="function">getItem</span><span class="bracket">(</span>key<span class="bracket">)</span>;
        <span class="keyword">if</span> <span class="bracket">(</span><span class="operator">!</span>itemStr<span class="bracket">)</span> <span class="keyword">return</span> <span class="keyword">null</span>;
        
        <span class="keyword">const</span> item <span class="operator">=</span> <span class="property">JSON</span>.<span class="function">parse</span><span class="bracket">(</span>itemStr<span class="bracket">)</span>;
        <span class="keyword">const</span> now <span class="operator">=</span> <span class="property">Date</span>.<span class="function">now</span><span class="bracket">(</span><span class="bracket">)</span>;
        
        <span class="keyword">if</span> <span class="bracket">(</span>now <span class="operator">></span> item.<span class="property">expiry</span><span class="bracket">)</span> <span class="bracket">{</span>
            localStorage.<span class="function">removeItem</span><span class="bracket">(</span>key<span class="bracket">)</span>;
            <span class="keyword">return</span> <span class="keyword">null</span>;
        <span class="bracket">}</span>
        
        <span class="keyword">return</span> item.<span class="property">value</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="keyword">const</span> storage <span class="operator">=</span> <span class="keyword">new</span> <span class="function">StorageWithExpiry</span><span class="bracket">(</span><span class="bracket">)</span>;
storage.<span class="function">set</span><span class="bracket">(</span><span class="string">'token'</span>, <span class="string">'abc123'</span>, <span class="number">3600000</span><span class="bracket">)</span>; <span class="comment">// 1å°æ—¶åè¿‡æœŸ</span>
<span class="keyword">const</span> token <span class="operator">=</span> storage.<span class="function">get</span><span class="bracket">(</span><span class="string">'token'</span><span class="bracket">)</span>;           <span class="comment">// æœªè¿‡æœŸè¿”å›å€¼ï¼Œå·²è¿‡æœŸè¿”å›null</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šè¿‡æœŸç®¡ç†</span>
            </div>
        </div>

        <!-- Q9: å­˜å‚¨åŠ å¯† -->
        <div class="quiz-item" data-question="9">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">å®‰å…¨</span>
            </div>
            <div class="question">Q9: å¦‚ä½•å®‰å…¨åœ°å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> åŠ å¯†åå­˜å‚¨ï¼Œé¿å…æ˜æ–‡ï¼Œæ•æ„Ÿæ•°æ®ä¼˜å…ˆä½¿ç”¨HttpOnly Cookie</div>
                <div class="option" data-answer="B"><strong>B.</strong> ç›´æ¥å­˜å‚¨æ˜æ–‡</div>
                <div class="option" data-answer="C"><strong>C.</strong> localStorageæ˜¯å®‰å…¨çš„</div>
                <div class="option" data-answer="D"><strong>D.</strong> ä¸èƒ½å­˜å‚¨æ•æ„Ÿæ•°æ®</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(9, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(9)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-9">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>æ•æ„Ÿæ•°æ®å­˜å‚¨å®‰å…¨ï¼š</h4>
                    <p><strong>âš ï¸ é£é™©ï¼š</strong></p>
                    <ul>
                        <li>localStorageå¯è¢«JavaScriptè®¿é—®ï¼Œå®¹æ˜“å—XSSæ”»å‡»</li>
                        <li>æ˜æ–‡å­˜å‚¨çš„token/å¯†ç å¯è¢«è½»æ˜“çªƒå–</li>
                    </ul>
                    <p><strong>âœ… æœ€ä½³å®è·µï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// 1. ç®€å•åŠ å¯†ï¼ˆåŸºäºCryptoJSï¼‰</span>
<span class="keyword">import</span> CryptoJS <span class="keyword">from</span> <span class="string">'crypto-js'</span>;

<span class="keyword">function</span> <span class="function">encryptData</span><span class="bracket">(</span>data, key<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> CryptoJS.<span class="function">AES</span>.<span class="function">encrypt</span><span class="bracket">(</span>data, key<span class="bracket">)</span>.<span class="function">toString</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="keyword">function</span> <span class="function">decryptData</span><span class="bracket">(</span>encrypted, key<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> bytes <span class="operator">=</span> CryptoJS.<span class="function">AES</span>.<span class="function">decrypt</span><span class="bracket">(</span>encrypted, key<span class="bracket">)</span>;
    <span class="keyword">return</span> bytes.<span class="function">toString</span><span class="bracket">(</span>CryptoJS.<span class="property">enc</span>.<span class="property">Utf8</span><span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// 2. åŸç”ŸWeb Crypto APIï¼ˆæ¨èï¼‰</span>
<span class="keyword">async</span> <span class="keyword">function</span> <span class="function">generateKey</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">return</span> <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="function">generateKey</span><span class="bracket">(</span>
        <span class="bracket">{</span> name<span class="operator">:</span> <span class="string">'AES-GCM'</span>, length<span class="operator">:</span> <span class="number">256</span> <span class="bracket">}</span>,
        <span class="keyword">true</span>,
        <span class="bracket">[</span><span class="string">'encrypt'</span>, <span class="string">'decrypt'</span><span class="bracket">]</span>
    <span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// 3. å®‰å…¨å»ºè®®</span>
<span class="comment">// âœ… DO: è®¤è¯tokenä½¿ç”¨HttpOnly Cookie</span>
<span class="comment">// âœ… DO: æ•æ„Ÿæ•°æ®åŠ å¯†åå­˜å‚¨</span>
<span class="comment">// âœ… DO: ä½¿ç”¨CSPé˜²æ­¢XSS</span>
<span class="comment">// âŒ DON'T: æ˜æ–‡å­˜å‚¨å¯†ç /token</span>
<span class="comment">// âŒ DON'T: åœ¨localStorageå­˜å‚¨ä¸ªäººéšç§ä¿¡æ¯</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå®‰å…¨å®è·µ</span>
            </div>
        </div>

        <!-- Q10: å®æˆ˜åº”ç”¨ -->
        <div class="quiz-item" data-question="10">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">å®æˆ˜</span>
            </div>
            <div class="question">Q10: å®ç°ä¸€ä¸ªå®Œæ•´çš„è´­ç‰©è½¦å­˜å‚¨æ–¹æ¡ˆï¼Ÿ</div>
            <div class="options">
                <div class="option" data-answer="A"><strong>A.</strong> localStorageå­˜å‚¨ï¼ŒåŒ…å«è¿‡æœŸã€å®¹é‡ã€åŒæ­¥ç­‰å®Œæ•´åŠŸèƒ½</div>
                <div class="option" data-answer="B"><strong>B.</strong> åªç”¨sessionStorage</div>
                <div class="option" data-answer="C"><strong>C.</strong> å¿…é¡»ç”¨åç«¯</div>
                <div class="option" data-answer="D"><strong>D.</strong> ç”¨Cookieå°±å¤Ÿäº†</div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(10, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(10)">æŸ¥çœ‹è§£æ</button>
            </div>
            <div class="answer-section" id="answer-10">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>è´­ç‰©è½¦å­˜å‚¨å®Œæ•´å®ç°ï¼š</h4>
                    <div class="code-question"><pre><code><span class="keyword">class</span> <span class="function">ShoppingCart</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">storageKey</span> <span class="operator">=</span> <span class="string">'shopping_cart'</span>;
        <span class="keyword">this</span>.<span class="property">maxSize</span> <span class="operator">=</span> <span class="number">100</span>; <span class="comment">// æœ€å¤š100ä¸ªå•†å“</span>
        <span class="keyword">this</span>.<span class="function">init</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">init</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="comment">// ç›‘å¬å…¶ä»–æ ‡ç­¾é¡µå˜åŒ–</span>
        window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'storage'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
            <span class="keyword">if</span> <span class="bracket">(</span>e.<span class="property">key</span> <span class="operator">===</span> <span class="keyword">this</span>.<span class="property">storageKey</span><span class="bracket">)</span> <span class="bracket">{</span>
                <span class="keyword">this</span>.<span class="function">onCartChange</span><span class="bracket">(</span><span class="bracket">)</span>;
            <span class="bracket">}</span>
        <span class="bracket">}</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">getItems</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">try</span> <span class="bracket">{</span>
            <span class="keyword">const</span> data <span class="operator">=</span> localStorage.<span class="function">getItem</span><span class="bracket">(</span><span class="keyword">this</span>.<span class="property">storageKey</span><span class="bracket">)</span>;
            <span class="keyword">return</span> data <span class="operator">?</span> <span class="property">JSON</span>.<span class="function">parse</span><span class="bracket">(</span>data<span class="bracket">)</span> <span class="operator">:</span> <span class="bracket">[</span><span class="bracket">]</span>;
        <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">{</span>
            <span class="keyword">return</span> <span class="bracket">[</span><span class="bracket">]</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>
    
    <span class="function">addItem</span><span class="bracket">(</span>product<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> items <span class="operator">=</span> <span class="keyword">this</span>.<span class="function">getItems</span><span class="bracket">(</span><span class="bracket">)</span>;
        
        <span class="comment">// å®¹é‡æ£€æŸ¥</span>
        <span class="keyword">if</span> <span class="bracket">(</span>items.<span class="property">length</span> <span class="operator">>=</span> <span class="keyword">this</span>.<span class="property">maxSize</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span><span class="bracket">(</span><span class="string">'è´­ç‰©è½¦å·²æ»¡'</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
        
        <span class="comment">// æŸ¥æ‰¾å·²å­˜åœ¨çš„å•†å“</span>
        <span class="keyword">const</span> existingItem <span class="operator">=</span> items.<span class="function">find</span><span class="bracket">(</span>item <span class="operator">=></span> item.<span class="property">id</span> <span class="operator">===</span> product.<span class="property">id</span><span class="bracket">)</span>;
        
        <span class="keyword">if</span> <span class="bracket">(</span>existingItem<span class="bracket">)</span> <span class="bracket">{</span>
            existingItem.<span class="property">quantity</span><span class="operator">++</span>;
        <span class="bracket">}</span> <span class="keyword">else</span> <span class="bracket">{</span>
            items.<span class="function">push</span><span class="bracket">(</span><span class="bracket">{</span>
                ...<span class="property">product</span>,
                quantity<span class="operator">:</span> <span class="number">1</span>,
                addedAt<span class="operator">:</span> <span class="property">Date</span>.<span class="function">now</span><span class="bracket">(</span><span class="bracket">)</span>
            <span class="bracket">}</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
        
        <span class="keyword">this</span>.<span class="function">save</span><span class="bracket">(</span>items<span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">removeItem</span><span class="bracket">(</span>productId<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> items <span class="operator">=</span> <span class="keyword">this</span>.<span class="function">getItems</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">filter</span><span class="bracket">(</span>item <span class="operator">=></span> item.<span class="property">id</span> <span class="operator">!==</span> productId<span class="bracket">)</span>;
        <span class="keyword">this</span>.<span class="function">save</span><span class="bracket">(</span>items<span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">save</span><span class="bracket">(</span>items<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">try</span> <span class="bracket">{</span>
            localStorage.<span class="function">setItem</span><span class="bracket">(</span><span class="keyword">this</span>.<span class="property">storageKey</span>, <span class="property">JSON</span>.<span class="function">stringify</span><span class="bracket">(</span>items<span class="bracket">)</span><span class="bracket">)</span>;
            <span class="keyword">this</span>.<span class="function">onCartChange</span><span class="bracket">(</span><span class="bracket">)</span>;
        <span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>e<span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">if</span> <span class="bracket">(</span>e.<span class="property">name</span> <span class="operator">===</span> <span class="string">'QuotaExceededError'</span><span class="bracket">)</span> <span class="bracket">{</span>
                <span class="comment">// æ¸…ç†è¿‡æœŸå•†å“ï¼ˆ7å¤©å‰ï¼‰</span>
                <span class="keyword">this</span>.<span class="function">cleanOldItems</span><span class="bracket">(</span><span class="bracket">)</span>;
            <span class="bracket">}</span>
        <span class="bracket">}</span>
    <span class="bracket">}</span>
    
    <span class="function">cleanOldItems</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> sevenDaysAgo <span class="operator">=</span> <span class="property">Date</span>.<span class="function">now</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">-</span> <span class="number">7</span> <span class="operator">*</span> <span class="number">24</span> <span class="operator">*</span> <span class="number">60</span> <span class="operator">*</span> <span class="number">60</span> <span class="operator">*</span> <span class="number">1000</span>;
        <span class="keyword">const</span> items <span class="operator">=</span> <span class="keyword">this</span>.<span class="function">getItems</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">filter</span><span class="bracket">(</span>
            item <span class="operator">=></span> item.<span class="property">addedAt</span> <span class="operator">></span> sevenDaysAgo
        <span class="bracket">)</span>;
        <span class="keyword">this</span>.<span class="function">save</span><span class="bracket">(</span>items<span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">onCartChange</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="comment">// è§¦å‘UIæ›´æ–°</span>
        window.<span class="function">dispatchEvent</span><span class="bracket">(</span><span class="keyword">new</span> <span class="function">CustomEvent</span><span class="bracket">(</span><span class="string">'cartUpdated'</span><span class="bracket">)</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="keyword">const</span> cart <span class="operator">=</span> <span class="keyword">new</span> <span class="function">ShoppingCart</span><span class="bracket">(</span><span class="bracket">)</span>;
cart.<span class="function">addItem</span><span class="bracket">(</span><span class="bracket">{</span> id<span class="operator">:</span> <span class="number">1</span>, name<span class="operator">:</span> <span class="string">'iPhone'</span>, price<span class="operator">:</span> <span class="number">999</span> <span class="bracket">}</span><span class="bracket">)</span>;

window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'cartUpdated'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="function">updateCartUI</span><span class="bracket">(</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå®æˆ˜åº”ç”¨</span>
            </div>
        </div>

        <div class="nav-links" style="margin-top: 3rem; display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="10-event-handling.html" style="padding: 0.75rem 1.5rem; background: #e2e8f0; color: #2d3748; text-decoration: none; border-radius: 6px;">â¬…ï¸ ä¸Šä¸€èŠ‚ï¼šäº‹ä»¶å¤„ç†æœºåˆ¶</a>
            <a href="11-browser-navigation.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">â¡ï¸ ä¸‹ä¸€èŠ‚ï¼šæµè§ˆå™¨å¯¼èˆª</a>
            <a href="../index.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">ğŸ“‹ é¢è¯•é¢˜å¯¼èˆª</a>
        </div>
    </div>
    
    <script>
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const parent = this.closest('.quiz-item');
                parent.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        function checkAnswer(questionNum, correctAnswer) {
            const quizItem = document.querySelector(`[data-question="${questionNum}"]`);
            const selectedOption = quizItem.querySelector('.option.selected');
            
            if (!selectedOption) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            const userAnswer = selectedOption.dataset.answer;
            const allOptions = quizItem.querySelectorAll('.option');
            
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt.dataset.answer === correctAnswer) {
                    opt.classList.add('correct');
                } else if (opt === selectedOption && userAnswer !== correctAnswer) {
                    opt.classList.add('wrong');
                }
            });
            
            if (userAnswer === correctAnswer) {
                alert('âœ… å›ç­”æ­£ç¡®ï¼');
            } else {
                alert('âŒ å›ç­”é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆå·²æ ‡è®°ä¸ºç»¿è‰²');
            }
            
            showAnswer(questionNum);
        }

        function showAnswer(questionNum) {
            const answerSection = document.getElementById(`answer-${questionNum}`);
            answerSection.classList.add('show');
        }
    </script>
</body>
</html>
