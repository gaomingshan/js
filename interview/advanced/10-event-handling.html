<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº‹ä»¶å¤„ç†æœºåˆ¶ - JavaScript é¢è¯•é¢˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 3px solid #667eea;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            color: #718096;
            font-size: 1.1rem;
        }

        .quiz-item {
            background: #f8fafc;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .quiz-item:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .quiz-item-header {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .difficulty {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .difficulty.easy {
            background: #d4edda;
            color: #155724;
        }

        .difficulty.medium {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty.hard {
            background: #f8d7da;
            color: #721c24;
        }

        .tag {
            padding: 0.4rem 1rem;
            background: #e2e8f0;
            color: #4a5568;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .question {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .option {
            padding: 1.2rem;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            border-color: #667eea;
            background: #f7fafc;
        }

        .option.selected {
            border-color: #667eea;
            background: #eef2ff;
        }

        .option.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .option.wrong {
            border-color: #f56565;
            background: #fff5f5;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .btn {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .answer-section {
            display: none;
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .answer-section.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .answer-label {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: #48bb78;
            color: white;
            border-radius: 6px;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .explanation {
            color: #4a5568;
            line-height: 1.8;
        }

        .explanation h4 {
            color: #2d3748;
            margin: 1.5rem 0 1rem 0;
        }

        .explanation ul, .explanation ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .explanation li {
            margin-bottom: 0.5rem;
        }

        .code-question {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .code-question pre {
            margin: 0;
        }

        .code-question code {
            font-family: 'Courier New', Courier, monospace;
        }

        .keyword {
            color: #c678dd;
        }

        .function {
            color: #61afef;
        }

        .string {
            color: #98c379;
        }

        .comment {
            color: #5c6370;
            font-style: italic;
        }

        .number {
            color: #d19a66;
        }

        .operator {
            color: #56b6c2;
        }

        .property {
            color: #e06c75;
        }

        .bracket {
            color: #abb2bf;
        }

        .source-tag {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.3rem 0.8rem;
            background: #eef2ff;
            color: #667eea;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid #e2e8f0;
        }

        th {
            background: #f7fafc;
            font-weight: 600;
            color: #2d3748;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 2rem;
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .back-link:hover {
            transform: translateX(-5px);
        }

        .nav-links {
            display: flex;
            gap: 1rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            padding: 0.75rem 1.5rem;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link">â† è¿”å›é¢è¯•é¢˜å¯¼èˆª</a>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ äº‹ä»¶å¤„ç†æœºåˆ¶</h1>
            <p>æŒæ¡æµè§ˆå™¨äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒåŸç†</p>
        </div>

        <!-- Q1: äº‹ä»¶å†’æ³¡ä¸æ•è· -->
        <div class="quiz-item" data-question="1">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">äº‹ä»¶æµ</span>
            </div>
            
            <div class="question">Q1: äº‹ä»¶æµçš„ä¸‰ä¸ªé˜¶æ®µæ˜¯ä»€ä¹ˆï¼Ÿæ‰§è¡Œé¡ºåºå¦‚ä½•ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> æ•è·é˜¶æ®µ â†’ ç›®æ ‡é˜¶æ®µ â†’ å†’æ³¡é˜¶æ®µ
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å†’æ³¡é˜¶æ®µ â†’ ç›®æ ‡é˜¶æ®µ â†’ æ•è·é˜¶æ®µ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ç›®æ ‡é˜¶æ®µ â†’ æ•è·é˜¶æ®µ â†’ å†’æ³¡é˜¶æ®µ
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> åªæœ‰å†’æ³¡é˜¶æ®µ
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(1, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(1)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-1">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>DOMäº‹ä»¶æµçš„ä¸‰ä¸ªé˜¶æ®µï¼š</h4>
                    
                    <p><strong>1. æ•è·é˜¶æ®µï¼ˆCapturing Phaseï¼‰</strong></p>
                    <p>äº‹ä»¶ä»windowå¯¹è±¡å¼€å§‹ï¼Œå‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ </p>
                    
                    <p><strong>2. ç›®æ ‡é˜¶æ®µï¼ˆTarget Phaseï¼‰</strong></p>
                    <p>äº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ æœ¬èº«</p>
                    
                    <p><strong>3. å†’æ³¡é˜¶æ®µï¼ˆBubbling Phaseï¼‰</strong></p>
                    <p>äº‹ä»¶ä»ç›®æ ‡å…ƒç´ å‘ä¸Šä¼ æ’­å›windowå¯¹è±¡</p>
                    
                    <p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;div id="outer"&gt;</span>
<span class="comment">  &lt;div id="middle"&gt;</span>
<span class="comment">    &lt;div id="inner"&gt;ç‚¹å‡»æˆ‘&lt;/div&gt;</span>
<span class="comment">  &lt;/div&gt;</span>
<span class="comment">&lt;/div&gt;</span>

<span class="comment">// æ•è·é˜¶æ®µç›‘å¬ï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºtrueï¼‰</span>
outer.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'outer æ•è·'</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="keyword">true</span><span class="bracket">)</span>;

middle.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'middle æ•è·'</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="keyword">true</span><span class="bracket">)</span>;

<span class="comment">// å†’æ³¡é˜¶æ®µç›‘å¬ï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºfalseæˆ–çœç•¥ï¼‰</span>
inner.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'inner ç›®æ ‡'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

middle.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'middle å†’æ³¡'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

outer.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'outer å†’æ³¡'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// ç‚¹å‡»innerï¼Œè¾“å‡ºé¡ºåºï¼š</span>
<span class="comment">// outer æ•è·</span>
<span class="comment">// middle æ•è·</span>
<span class="comment">// inner ç›®æ ‡</span>
<span class="comment">// middle å†’æ³¡</span>
<span class="comment">// outer å†’æ³¡</span></code></pre></div>
                    
                    <p><strong>å…³é”®ç‚¹ï¼š</strong></p>
                    <ul>
                        <li>é»˜è®¤æƒ…å†µä¸‹ï¼Œäº‹ä»¶ç›‘å¬å™¨åœ¨<strong>å†’æ³¡é˜¶æ®µ</strong>è§¦å‘</li>
                        <li>ä½¿ç”¨<code>addEventListener(type, handler, true)</code>å¯ä»¥åœ¨<strong>æ•è·é˜¶æ®µ</strong>ç›‘å¬</li>
                        <li>ç›®æ ‡å…ƒç´ ä¸Šçš„ç›‘å¬å™¨æŒ‰æ·»åŠ é¡ºåºæ‰§è¡Œï¼Œä¸åŒºåˆ†æ•è·æˆ–å†’æ³¡</li>
                        <li>æŸäº›äº‹ä»¶ï¼ˆå¦‚focusã€blurï¼‰ä¸å†’æ³¡</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šäº‹ä»¶æµæœºåˆ¶</span>
            </div>
        </div>

        <!-- Q2: stopPropagation vs stopImmediatePropagation -->
        <div class="quiz-item" data-question="2">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">äº‹ä»¶é˜»æ­¢</span>
            </div>
            
            <div class="question">Q2: stopPropagation() å’Œ stopImmediatePropagation() çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> stopPropagationé˜»æ­¢ä¼ æ’­ä½†ä¸é˜»æ­¢åŒå…ƒç´ å…¶ä»–ç›‘å¬å™¨ï¼›stopImmediatePropagationéƒ½é˜»æ­¢
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä¸¤è€…å®Œå…¨ç›¸åŒ
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> stopPropagationé˜»æ­¢å†’æ³¡ï¼ŒstopImmediatePropagationé˜»æ­¢æ•è·
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> stopPropagationé˜»æ­¢é»˜è®¤è¡Œä¸ºï¼ŒstopImmediatePropagationé˜»æ­¢ä¼ æ’­
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(2, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(2)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-2">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>ä¸¤ç§é˜»æ­¢æ–¹æ³•çš„è¯¦ç»†å¯¹æ¯”ï¼š</h4>
                    
                    <p><strong>1. stopPropagation()</strong></p>
                    <ul>
                        <li>é˜»æ­¢äº‹ä»¶ç»§ç»­ä¼ æ’­ï¼ˆæ•è·æˆ–å†’æ³¡ï¼‰</li>
                        <li><strong>ä¸é˜»æ­¢</strong>åŒä¸€å…ƒç´ ä¸Šçš„å…¶ä»–ç›‘å¬å™¨æ‰§è¡Œ</li>
                    </ul>
                    
                    <p><strong>2. stopImmediatePropagation()</strong></p>
                    <ul>
                        <li>é˜»æ­¢äº‹ä»¶ç»§ç»­ä¼ æ’­</li>
                        <li><strong>åŒæ—¶é˜»æ­¢</strong>åŒä¸€å…ƒç´ ä¸Šçš„å…¶ä»–ç›‘å¬å™¨æ‰§è¡Œ</li>
                    </ul>
                    
                    <p><strong>ç¤ºä¾‹å¯¹æ¯”ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> button <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'button'</span><span class="bracket">)</span>;

<span class="comment">// ç¤ºä¾‹1: stopPropagation</span>
button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'ç›‘å¬å™¨1'</span><span class="bracket">)</span>;
    e.<span class="function">stopPropagation</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// åªé˜»æ­¢å†’æ³¡</span>
<span class="bracket">}</span><span class="bracket">)</span>;

button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'ç›‘å¬å™¨2'</span><span class="bracket">)</span>;  <span class="comment">// âœ… ä¼šæ‰§è¡Œ</span>
<span class="bracket">}</span><span class="bracket">)</span>;

document.<span class="property">body</span>.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'bodyç›‘å¬å™¨'</span><span class="bracket">)</span>;  <span class="comment">// âŒ ä¸ä¼šæ‰§è¡Œ</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// è¾“å‡ºï¼šç›‘å¬å™¨1ã€ç›‘å¬å™¨2</span></code></pre></div>
                    
                    <div class="code-question"><pre><code><span class="comment">// ç¤ºä¾‹2: stopImmediatePropagation</span>
button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'ç›‘å¬å™¨1'</span><span class="bracket">)</span>;
    e.<span class="function">stopImmediatePropagation</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// ç«‹å³åœæ­¢</span>
<span class="bracket">}</span><span class="bracket">)</span>;

button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'ç›‘å¬å™¨2'</span><span class="bracket">)</span>;  <span class="comment">// âŒ ä¸ä¼šæ‰§è¡Œ</span>
<span class="bracket">}</span><span class="bracket">)</span>;

document.<span class="property">body</span>.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'bodyç›‘å¬å™¨'</span><span class="bracket">)</span>;  <span class="comment">// âŒ ä¸ä¼šæ‰§è¡Œ</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// è¾“å‡ºï¼šç›‘å¬å™¨1</span></code></pre></div>
                    
                    <p><strong>å¯¹æ¯”è¡¨æ ¼ï¼š</strong></p>
                    <table>
                        <tr>
                            <th>æ–¹æ³•</th>
                            <th>é˜»æ­¢ä¼ æ’­</th>
                            <th>é˜»æ­¢åŒå…ƒç´ å…¶ä»–ç›‘å¬å™¨</th>
                        </tr>
                        <tr>
                            <td>stopPropagation()</td>
                            <td>âœ…</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td>stopImmediatePropagation()</td>
                            <td>âœ…</td>
                            <td>âœ…</td>
                        </tr>
                    </table>
                    
                    <p><strong>æ³¨æ„ï¼šä¸¤è€…éƒ½ä¸é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œéœ€è¦ç”¨preventDefault()</strong></p>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šäº‹ä»¶æ§åˆ¶</span>
            </div>
        </div>

        <!-- Q3: äº‹ä»¶å§”æ‰˜ -->
        <div class="quiz-item" data-question="3">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">äº‹ä»¶å§”æ‰˜</span>
            </div>
            
            <div class="question">Q3: ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿå®ƒçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œåœ¨çˆ¶å…ƒç´ ä¸Šç›‘å¬å­å…ƒç´ äº‹ä»¶ï¼Œå‡å°‘ç›‘å¬å™¨æ•°é‡
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å°†äº‹ä»¶ä»ä¸€ä¸ªå…ƒç´ è½¬ç§»åˆ°å¦ä¸€ä¸ªå…ƒç´ 
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> é˜»æ­¢äº‹ä»¶å†’æ³¡çš„ä¸€ç§æ–¹å¼
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> è‡ªå®šä¹‰äº‹ä»¶çš„ä¼ é€’æœºåˆ¶
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(3, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(3)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-3">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>äº‹ä»¶å§”æ‰˜ï¼ˆEvent Delegationï¼‰è¯¦è§£ï¼š</h4>
                    
                    <p><strong>æ ¸å¿ƒåŸç†ï¼š</strong>åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œåœ¨çˆ¶å…ƒç´ ä¸Šç»Ÿä¸€å¤„ç†å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶</p>
                    
                    <p><strong>âŒ ä¼ ç»Ÿæ–¹å¼ï¼ˆä¸æ¨èï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;ul id="list"&gt;</span>
<span class="comment">  &lt;li&gt;Item 1&lt;/li&gt;</span>
<span class="comment">  &lt;li&gt;Item 2&lt;/li&gt;</span>
<span class="comment">  &lt;li&gt;Item 3&lt;/li&gt;</span>
<span class="comment">  &lt;!-- å¯èƒ½æœ‰1000ä¸ªli --&gt;</span>
<span class="comment">&lt;/ul&gt;</span>

<span class="comment">// ä¸ºæ¯ä¸ªliæ·»åŠ ç›‘å¬å™¨</span>
<span class="keyword">const</span> items <span class="operator">=</span> document.<span class="function">querySelectorAll</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
items.<span class="function">forEach</span><span class="bracket">(</span>item <span class="operator">=></span> <span class="bracket">{</span>
    item.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>item.<span class="property">textContent</span><span class="bracket">)</span>;
    <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;
<span class="comment">// é—®é¢˜ï¼š1000ä¸ªç›‘å¬å™¨ï¼Œå†…å­˜å ç”¨é«˜</span></code></pre></div>
                    
                    <p><strong>âœ… äº‹ä»¶å§”æ‰˜ï¼ˆæ¨èï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åªåœ¨çˆ¶å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªç›‘å¬å™¨</span>
<span class="keyword">const</span> list <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;
list.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="comment">// åˆ¤æ–­ç‚¹å‡»çš„æ˜¯å¦æ˜¯li</span>
    <span class="keyword">if</span> <span class="bracket">(</span>e.<span class="property">target</span>.<span class="property">tagName</span> <span class="operator">===</span> <span class="string">'LI'</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>e.<span class="property">target</span>.<span class="property">textContent</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;
<span class="comment">// ä¼˜åŠ¿ï¼šåªæœ‰1ä¸ªç›‘å¬å™¨ï¼Œå†…å­˜å ç”¨ä½</span></code></pre></div>
                    
                    <p><strong>æ›´å¥å£®çš„å®ç°ï¼ˆä½¿ç”¨closestï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code>list.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="comment">// closestå¯ä»¥å‘ä¸ŠæŸ¥æ‰¾åŒ¹é…çš„å…ƒç´ </span>
    <span class="keyword">const</span> li <span class="operator">=</span> e.<span class="property">target</span>.<span class="function">closest</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
    
    <span class="keyword">if</span> <span class="bracket">(</span>li <span class="operator">&&</span> list.<span class="function">contains</span><span class="bracket">(</span>li<span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>li.<span class="property">textContent</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// å¥½å¤„ï¼šå³ä½¿ç‚¹å‡»liå†…éƒ¨çš„spanï¼Œä¹Ÿèƒ½æ­£ç¡®å¤„ç†</span>
<span class="comment">// &lt;li&gt;&lt;span&gt;Item 1&lt;/span&gt;&lt;/li&gt;</span></code></pre></div>
                    
                    <p><strong>äº‹ä»¶å§”æ‰˜çš„ä¼˜åŠ¿ï¼š</strong></p>
                    <ul>
                        <li><strong>å†…å­˜å ç”¨å°‘ï¼š</strong>åªéœ€ä¸€ä¸ªç›‘å¬å™¨ï¼Œè€Œä¸æ˜¯Nä¸ª</li>
                        <li><strong>åŠ¨æ€å…ƒç´ æ”¯æŒï¼š</strong>æ–°å¢çš„å­å…ƒç´ è‡ªåŠ¨å…·æœ‰äº‹ä»¶å¤„ç†èƒ½åŠ›</li>
                        <li><strong>æ€§èƒ½æ›´å¥½ï¼š</strong>å‡å°‘DOMæ“ä½œæ¬¡æ•°</li>
                    </ul>
                    
                    <p><strong>å®æˆ˜ç¤ºä¾‹ï¼šåŠ¨æ€åˆ—è¡¨</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> list <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;

<span class="comment">// äº‹ä»¶å§”æ‰˜</span>
list.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span>e.<span class="property">target</span>.<span class="property">classList</span>.<span class="function">contains</span><span class="bracket">(</span><span class="string">'delete-btn'</span><span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
        e.<span class="property">target</span>.<span class="property">parentElement</span>.<span class="function">remove</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// åŠ¨æ€æ·»åŠ æ–°å…ƒç´ </span>
<span class="keyword">function</span> <span class="function">addItem</span><span class="bracket">(</span>text<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> li <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
    li.<span class="property">innerHTML</span> <span class="operator">=</span> <span class="string">`${text} &lt;button class="delete-btn"&gt;åˆ é™¤&lt;/button&gt;`</span>;
    list.<span class="function">appendChild</span><span class="bracket">(</span>li<span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// æ–°å¢çš„å…ƒç´ è‡ªåŠ¨å…·æœ‰åˆ é™¤åŠŸèƒ½ï¼âœ…</span>
<span class="function">addItem</span><span class="bracket">(</span><span class="string">'æ–°é¡¹ç›®'</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ€§èƒ½ä¼˜åŒ–</span>
            </div>
        </div>

        <!-- Q4: preventDefault -->
        <div class="quiz-item" data-question="4">
            <div class="quiz-item-header">
                <span class="difficulty easy">ğŸŸ¢ ç®€å•</span>
                <span class="tag">é»˜è®¤è¡Œä¸º</span>
            </div>
            
            <div class="question">Q4: preventDefault() æ–¹æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼ˆå¦‚é“¾æ¥è·³è½¬ã€è¡¨å•æäº¤ï¼‰
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> é˜»æ­¢äº‹ä»¶å†’æ³¡
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> é˜»æ­¢äº‹ä»¶æ•è·
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> åˆ é™¤äº‹ä»¶ç›‘å¬å™¨
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(4, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(4)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-4">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>preventDefault() è¯¦è§£ï¼š</h4>
                    
                    <p><strong>ä½œç”¨ï¼š</strong>é˜»æ­¢å…ƒç´ çš„é»˜è®¤è¡Œä¸ºï¼Œä½†ä¸å½±å“äº‹ä»¶ä¼ æ’­</p>
                    
                    <p><strong>å¸¸è§åº”ç”¨åœºæ™¯ï¼š</strong></p>
                    
                    <p><strong>1. é˜»æ­¢é“¾æ¥è·³è½¬ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> link <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'a'</span><span class="bracket">)</span>;
link.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    e.<span class="function">preventDefault</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// é˜»æ­¢è·³è½¬</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'é“¾æ¥è¢«ç‚¹å‡»ï¼Œä½†ä¸è·³è½¬'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>2. é˜»æ­¢è¡¨å•æäº¤ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> form <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'form'</span><span class="bracket">)</span>;
form.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'submit'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    e.<span class="function">preventDefault</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// é˜»æ­¢æäº¤</span>
    
    <span class="comment">// è¿›è¡Œè¡¨å•éªŒè¯</span>
    <span class="keyword">const</span> data <span class="operator">=</span> <span class="keyword">new</span> <span class="function">FormData</span><span class="bracket">(</span>form<span class="bracket">)</span>;
    <span class="comment">// ä½¿ç”¨Ajaxæäº¤</span>
    <span class="function">fetch</span><span class="bracket">(</span><span class="string">'/api/submit'</span>, <span class="bracket">{</span>
        method<span class="operator">:</span> <span class="string">'POST'</span>,
        body<span class="operator">:</span> data
    <span class="bracket">}</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>3. é˜»æ­¢å³é”®èœå•ï¼š</strong></p>
                    <div class="code-question"><pre><code>document.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'contextmenu'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    e.<span class="function">preventDefault</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// ç¦ç”¨å³é”®èœå•</span>
    <span class="comment">// æ˜¾ç¤ºè‡ªå®šä¹‰èœå•</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>4. é˜»æ­¢å¤é€‰æ¡†åˆ‡æ¢ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> checkbox <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'input[type="checkbox"]'</span><span class="bracket">)</span>;
checkbox.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    e.<span class="function">preventDefault</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// é˜»æ­¢é€‰ä¸­/å–æ¶ˆé€‰ä¸­</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'å¤é€‰æ¡†è¢«ç¦ç”¨'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æ£€æŸ¥æ˜¯å¦å¯ä»¥é˜»æ­¢ï¼š</strong></p>
                    <div class="code-question"><pre><code>element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span>e.<span class="property">cancelable</span><span class="bracket">)</span> <span class="bracket">{</span>  <span class="comment">// æ£€æŸ¥æ˜¯å¦å¯é˜»æ­¢</span>
        e.<span class="function">preventDefault</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="comment">// æ£€æŸ¥æ˜¯å¦å·²è¢«é˜»æ­¢</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>e.<span class="property">defaultPrevented</span><span class="bracket">)</span>;  <span class="comment">// true/false</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æ³¨æ„ï¼špreventDefault() ä¸å½±å“äº‹ä»¶ä¼ æ’­</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> link <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'a'</span><span class="bracket">)</span>;
link.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    e.<span class="function">preventDefault</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// åªé˜»æ­¢è·³è½¬</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'link clicked'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

document.<span class="property">body</span>.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'body clicked'</span><span class="bracket">)</span>;  <span class="comment">// âœ… ä»ä¼šè§¦å‘ï¼ˆäº‹ä»¶å†’æ³¡ï¼‰</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šäº‹ä»¶æ§åˆ¶</span>
            </div>
        </div>

        <!-- Q5: äº‹ä»¶å¯¹è±¡ -->
        <div class="quiz-item" data-question="5">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">äº‹ä»¶å¯¹è±¡</span>
            </div>
            
            <div class="question">Q5: event.target å’Œ event.currentTarget çš„åŒºåˆ«ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> targetæ˜¯è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼ŒcurrentTargetæ˜¯ç»‘å®šç›‘å¬å™¨çš„å…ƒç´ 
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> targetæ˜¯ç»‘å®šç›‘å¬å™¨çš„å…ƒç´ ï¼ŒcurrentTargetæ˜¯è§¦å‘äº‹ä»¶çš„å…ƒç´ 
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ä¸¤è€…å®Œå…¨ç›¸åŒ
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> targetç”¨äºå†’æ³¡ï¼ŒcurrentTargetç”¨äºæ•è·
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(5, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(5)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-5">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>target vs currentTarget è¯¦è§£ï¼š</h4>
                    
                    <p><strong>event.target</strong></p>
                    <ul>
                        <li>è§¦å‘äº‹ä»¶çš„<strong>å®é™…å…ƒç´ </strong></li>
                        <li>åœ¨äº‹ä»¶ä¼ æ’­è¿‡ç¨‹ä¸­<strong>ä¸ä¼šæ”¹å˜</strong></li>
                        <li>æ°¸è¿œæŒ‡å‘æœ€åˆè¢«ç‚¹å‡»çš„å…ƒç´ </li>
                    </ul>
                    
                    <p><strong>event.currentTarget</strong></p>
                    <ul>
                        <li>ç»‘å®šäº‹ä»¶ç›‘å¬å™¨çš„<strong>å½“å‰å…ƒç´ </strong></li>
                        <li>åœ¨äº‹ä»¶ä¼ æ’­è¿‡ç¨‹ä¸­<strong>ä¼šæ”¹å˜</strong></li>
                        <li>ç­‰åŒäºç›‘å¬å™¨ä¸­çš„<code>this</code>ï¼ˆéç®­å¤´å‡½æ•°ï¼‰</li>
                    </ul>
                    
                    <p><strong>ç¤ºä¾‹æ¼”ç¤ºï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;div id="outer"&gt;</span>
<span class="comment">  &lt;div id="middle"&gt;</span>
<span class="comment">    &lt;button id="inner"&gt;ç‚¹å‡»æˆ‘&lt;/button&gt;</span>
<span class="comment">  &lt;/div&gt;</span>
<span class="comment">&lt;/div&gt;</span>

outer.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'target:'</span>, e.<span class="property">target</span>.<span class="property">id</span><span class="bracket">)</span>;        <span class="comment">// innerï¼ˆå®é™…ç‚¹å‡»çš„ï¼‰</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'currentTarget:'</span>, e.<span class="property">currentTarget</span>.<span class="property">id</span><span class="bracket">)</span>;  <span class="comment">// outerï¼ˆç›‘å¬å™¨æ‰€åœ¨ï¼‰</span>
<span class="bracket">}</span><span class="bracket">)</span>;

middle.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'target:'</span>, e.<span class="property">target</span>.<span class="property">id</span><span class="bracket">)</span>;        <span class="comment">// innerï¼ˆä¸å˜ï¼‰</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'currentTarget:'</span>, e.<span class="property">currentTarget</span>.<span class="property">id</span><span class="bracket">)</span>;  <span class="comment">// middleï¼ˆæ”¹å˜äº†ï¼‰</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// ç‚¹å‡»buttonæ—¶ï¼š</span>
<span class="comment">// targetå§‹ç»ˆæ˜¯ inner</span>
<span class="comment">// currentTargetä¾æ¬¡æ˜¯ inner â†’ middle â†’ outer</span></code></pre></div>
                    
                    <p><strong>äº‹ä»¶å§”æ‰˜ä¸­çš„åº”ç”¨ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">&lt;ul id="list"&gt;</span>
<span class="comment">  &lt;li&gt;&lt;span&gt;Item 1&lt;/span&gt; &lt;button&gt;åˆ é™¤&lt;/button&gt;&lt;/li&gt;</span>
<span class="comment">  &lt;li&gt;&lt;span&gt;Item 2&lt;/span&gt; &lt;button&gt;åˆ é™¤&lt;/button&gt;&lt;/li&gt;</span>
<span class="comment">&lt;/ul&gt;</span>

<span class="keyword">const</span> list <span class="operator">=</span> document.<span class="function">getElementById</span><span class="bracket">(</span><span class="string">'list'</span><span class="bracket">)</span>;

list.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'target:'</span>, e.<span class="property">target</span><span class="bracket">)</span>;           <span class="comment">// å¯èƒ½æ˜¯ span/button/li</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'currentTarget:'</span>, e.<span class="property">currentTarget</span><span class="bracket">)</span>;  <span class="comment">// å§‹ç»ˆæ˜¯ ul</span>
    
    <span class="comment">// ä½¿ç”¨closestæ‰¾åˆ°çœŸæ­£æƒ³è¦çš„å…ƒç´ </span>
    <span class="keyword">const</span> button <span class="operator">=</span> e.<span class="property">target</span>.<span class="function">closest</span><span class="bracket">(</span><span class="string">'button'</span><span class="bracket">)</span>;
    <span class="keyword">if</span> <span class="bracket">(</span>button<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> li <span class="operator">=</span> button.<span class="function">closest</span><span class="bracket">(</span><span class="string">'li'</span><span class="bracket">)</span>;
        li.<span class="function">remove</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>this vs currentTargetï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// æ™®é€šå‡½æ•°ï¼šthis === currentTarget</span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="keyword">function</span><span class="bracket">(</span>e<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="keyword">this</span> <span class="operator">===</span> e.<span class="property">currentTarget</span><span class="bracket">)</span>;  <span class="comment">// true âœ…</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="keyword">this</span> <span class="operator">===</span> element<span class="bracket">)</span>;  <span class="comment">// true</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// ç®­å¤´å‡½æ•°ï¼šthis ä¸ç­‰äº currentTarget</span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="keyword">this</span> <span class="operator">===</span> e.<span class="property">currentTarget</span><span class="bracket">)</span>;  <span class="comment">// false âŒ</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>e.<span class="property">currentTarget</span> <span class="operator">===</span> element<span class="bracket">)</span>;  <span class="comment">// true âœ…</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å¯¹æ¯”æ€»ç»“ï¼š</strong></p>
                    <table>
                        <tr>
                            <th>å±æ€§</th>
                            <th>å«ä¹‰</th>
                            <th>æ˜¯å¦å˜åŒ–</th>
                        </tr>
                        <tr>
                            <td>target</td>
                            <td>è§¦å‘äº‹ä»¶çš„å®é™…å…ƒç´ </td>
                            <td>âŒ ä¸å˜</td>
                        </tr>
                        <tr>
                            <td>currentTarget</td>
                            <td>ç»‘å®šç›‘å¬å™¨çš„å…ƒç´ </td>
                            <td>âœ… å˜åŒ–</td>
                        </tr>
                    </table>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šäº‹ä»¶å¯¹è±¡</span>
            </div>
        </div>

        <!-- Q6: è‡ªå®šä¹‰äº‹ä»¶ -->
        <div class="quiz-item" data-question="6">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">è‡ªå®šä¹‰äº‹ä»¶</span>
            </div>
            
            <div class="question">Q6: å¦‚ä½•åˆ›å»ºå’Œè§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä½¿ç”¨ CustomEvent æ„é€ å‡½æ•°å’Œ dispatchEvent æ–¹æ³•
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä½¿ç”¨ createEvent å’Œ fireEvent
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ä½¿ç”¨ new Event å’Œ trigger
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> æ— æ³•åˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(6, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(6)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-6">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>è‡ªå®šä¹‰äº‹ä»¶è¯¦è§£ï¼š</h4>
                    
                    <p><strong>æ–¹å¼1ï¼šCustomEventï¼ˆæ¨èï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶</span>
<span class="keyword">const</span> myEvent <span class="operator">=</span> <span class="keyword">new</span> <span class="function">CustomEvent</span><span class="bracket">(</span><span class="string">'myevent'</span>, <span class="bracket">{</span>
    detail<span class="operator">:</span> <span class="bracket">{</span> 
        message<span class="operator">:</span> <span class="string">'Hello'</span>,
        value<span class="operator">:</span> <span class="number">42</span>
    <span class="bracket">}</span>,
    bubbles<span class="operator">:</span> <span class="keyword">true</span>,      <span class="comment">// æ˜¯å¦å†’æ³¡</span>
    cancelable<span class="operator">:</span> <span class="keyword">true</span>   <span class="comment">// æ˜¯å¦å¯å–æ¶ˆ</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶</span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'myevent'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span>e.<span class="property">detail</span><span class="bracket">)</span>;  <span class="comment">// { message: 'Hello', value: 42 }</span>
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// è§¦å‘äº‹ä»¶</span>
element.<span class="function">dispatchEvent</span><span class="bracket">(</span>myEvent<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æ–¹å¼2ï¼šEventï¼ˆç®€å•äº‹ä»¶ï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// ä¸éœ€è¦ä¼ é€’æ•°æ®æ—¶ä½¿ç”¨</span>
<span class="keyword">const</span> event <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Event</span><span class="bracket">(</span><span class="string">'build'</span>, <span class="bracket">{</span> 
    bubbles<span class="operator">:</span> <span class="keyword">true</span> 
<span class="bracket">}</span><span class="bracket">)</span>;

element.<span class="function">dispatchEvent</span><span class="bracket">(</span>event<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜ç¤ºä¾‹1ï¼šç»„ä»¶é€šä¿¡</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// å­ç»„ä»¶è§¦å‘äº‹ä»¶</span>
<span class="keyword">class</span> <span class="function">ChildComponent</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span>element<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">element</span> <span class="operator">=</span> element;
    <span class="bracket">}</span>
    
    <span class="function">notifyParent</span><span class="bracket">(</span>data<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> event <span class="operator">=</span> <span class="keyword">new</span> <span class="function">CustomEvent</span><span class="bracket">(</span><span class="string">'child-update'</span>, <span class="bracket">{</span>
            detail<span class="operator">:</span> data,
            bubbles<span class="operator">:</span> <span class="keyword">true</span>
        <span class="bracket">}</span><span class="bracket">)</span>;
        <span class="keyword">this</span>.<span class="property">element</span>.<span class="function">dispatchEvent</span><span class="bracket">(</span>event<span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// çˆ¶ç»„ä»¶ç›‘å¬</span>
parentElement.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'child-update'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'æ”¶åˆ°å­ç»„ä»¶æ•°æ®ï¼š'</span>, e.<span class="property">detail</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜ç¤ºä¾‹2ï¼šäº‹ä»¶æ€»çº¿ï¼ˆEvent Busï¼‰</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">class</span> <span class="function">EventBus</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">bus</span> <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'div'</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">on</span><span class="bracket">(</span>event, callback<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">bus</span>.<span class="function">addEventListener</span><span class="bracket">(</span>event, callback<span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">emit</span><span class="bracket">(</span>event, detail<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> customEvent <span class="operator">=</span> <span class="keyword">new</span> <span class="function">CustomEvent</span><span class="bracket">(</span>event, <span class="bracket">{</span> detail <span class="bracket">}</span><span class="bracket">)</span>;
        <span class="keyword">this</span>.<span class="property">bus</span>.<span class="function">dispatchEvent</span><span class="bracket">(</span>customEvent<span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">off</span><span class="bracket">(</span>event, callback<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">bus</span>.<span class="function">removeEventListener</span><span class="bracket">(</span>event, callback<span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="keyword">const</span> bus <span class="operator">=</span> <span class="keyword">new</span> <span class="function">EventBus</span><span class="bracket">(</span><span class="bracket">)</span>;

<span class="comment">// è®¢é˜…</span>
bus.<span class="function">on</span><span class="bracket">(</span><span class="string">'user-login'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'ç”¨æˆ·ç™»å½•ï¼š'</span>, e.<span class="property">detail</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// å‘å¸ƒ</span>
bus.<span class="function">emit</span><span class="bracket">(</span><span class="string">'user-login'</span>, <span class="bracket">{</span> userId<span class="operator">:</span> <span class="number">123</span>, name<span class="operator">:</span> <span class="string">'Alice'</span> <span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜ç¤ºä¾‹3ï¼šæ¨¡æ‹ŸåŸç”Ÿäº‹ä»¶</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// ç¨‹åºåŒ–è§¦å‘ç‚¹å‡»</span>
<span class="keyword">const</span> button <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'button'</span><span class="bracket">)</span>;
<span class="keyword">const</span> clickEvent <span class="operator">=</span> <span class="keyword">new</span> <span class="function">MouseEvent</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">{</span>
    bubbles<span class="operator">:</span> <span class="keyword">true</span>,
    cancelable<span class="operator">:</span> <span class="keyword">true</span>,
    view<span class="operator">:</span> window
<span class="bracket">}</span><span class="bracket">)</span>;
button.<span class="function">dispatchEvent</span><span class="bracket">(</span>clickEvent<span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šè‡ªå®šä¹‰äº‹ä»¶</span>
            </div>
        </div>

        <!-- Q7: passiveäº‹ä»¶ç›‘å¬ -->
        <div class="quiz-item" data-question="7">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">æ€§èƒ½ä¼˜åŒ–</span>
            </div>
            
            <div class="question">Q7: passive äº‹ä»¶ç›‘å¬å™¨çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> å‘Šè¯‰æµè§ˆå™¨æ°¸è¿œä¸ä¼šè°ƒç”¨preventDefault()ï¼Œæå‡æ»šåŠ¨æ€§èƒ½
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä½¿äº‹ä»¶ç›‘å¬å™¨åœ¨æ•è·é˜¶æ®µè§¦å‘
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ç¦ç”¨äº‹ä»¶å†’æ³¡
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> åªè§¦å‘ä¸€æ¬¡äº‹ä»¶
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(7, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(7)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-7">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>Passive äº‹ä»¶ç›‘å¬å™¨è¯¦è§£ï¼š</h4>
                    
                    <p><strong>é—®é¢˜èƒŒæ™¯ï¼š</strong></p>
                    <p>æµè§ˆå™¨åœ¨å¤„ç†æ»šåŠ¨äº‹ä»¶æ—¶ï¼Œéœ€è¦ç­‰å¾…äº‹ä»¶ç›‘å¬å™¨æ‰§è¡Œå®Œæ¯•ï¼Œå› ä¸ºç›‘å¬å™¨å¯èƒ½è°ƒç”¨<code>preventDefault()</code>é˜»æ­¢æ»šåŠ¨ã€‚è¿™å¯¼è‡´æ»šåŠ¨æ€§èƒ½ä¸‹é™ã€‚</p>
                    
                    <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
                    <p>ä½¿ç”¨<code>passive: true</code>å‘Šè¯‰æµè§ˆå™¨"æˆ‘ä¿è¯ä¸ä¼šè°ƒç”¨preventDefault()"ï¼Œæµè§ˆå™¨å¯ä»¥ç«‹å³æ‰§è¡Œæ»šåŠ¨ï¼Œæå‡æ€§èƒ½ã€‚</p>
                    
                    <p><strong>åŸºæœ¬ä½¿ç”¨ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âŒ ä¼ ç»Ÿæ–¹å¼ï¼ˆå¯èƒ½é˜»å¡æ»šåŠ¨ï¼‰</span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'touchstart'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'touch'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// âœ… Passiveæ–¹å¼ï¼ˆä¸é˜»å¡æ»šåŠ¨ï¼‰</span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'touchstart'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'touch'</span><span class="bracket">)</span>;
    <span class="comment">// e.preventDefault(); // âš ï¸ æ— æ•ˆï¼ä¼šæŠ¥è­¦å‘Š</span>
<span class="bracket">}</span>, <span class="bracket">{</span> passive<span class="operator">:</span> <span class="keyword">true</span> <span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å¸¸è§åº”ç”¨åœºæ™¯ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// 1. è§¦æ‘¸äº‹ä»¶ï¼ˆç§»åŠ¨ç«¯æ»šåŠ¨ä¼˜åŒ–ï¼‰</span>
document.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'touchstart'</span>, handler, <span class="bracket">{</span> passive<span class="operator">:</span> <span class="keyword">true</span> <span class="bracket">}</span><span class="bracket">)</span>;
document.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'touchmove'</span>, handler, <span class="bracket">{</span> passive<span class="operator">:</span> <span class="keyword">true</span> <span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// 2. æ»šè½®äº‹ä»¶</span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'wheel'</span>, handler, <span class="bracket">{</span> passive<span class="operator">:</span> <span class="keyword">true</span> <span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// 3. æ»šåŠ¨äº‹ä»¶ï¼ˆæ¨èï¼‰</span>
window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'scroll'</span>, handler, <span class="bracket">{</span> passive<span class="operator">:</span> <span class="keyword">true</span> <span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®Œæ•´é€‰é¡¹é…ç½®ï¼š</strong></p>
                    <div class="code-question"><pre><code>element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'scroll'</span>, handler, <span class="bracket">{</span>
    capture<span class="operator">:</span> <span class="keyword">false</span>,   <span class="comment">// æ˜¯å¦åœ¨æ•è·é˜¶æ®µ</span>
    passive<span class="operator">:</span> <span class="keyword">true</span>,    <span class="comment">// æ˜¯å¦ä¸ºpassive</span>
    once<span class="operator">:</span> <span class="keyword">false</span>       <span class="comment">// æ˜¯å¦åªè§¦å‘ä¸€æ¬¡</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>onceé€‰é¡¹ç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// åªè§¦å‘ä¸€æ¬¡ï¼Œè‡ªåŠ¨ç§»é™¤</span>
button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'åªæ‰§è¡Œä¸€æ¬¡'</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="bracket">{</span> once<span class="operator">:</span> <span class="keyword">true</span> <span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// ç­‰ä»·äº</span>
<span class="keyword">function</span> <span class="function">handler</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'åªæ‰§è¡Œä¸€æ¬¡'</span><span class="bracket">)</span>;
    button.<span class="function">removeEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handler<span class="bracket">)</span>;
<span class="bracket">}</span>
button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handler<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æ£€æµ‹passiveæ”¯æŒï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">let</span> passiveSupported <span class="operator">=</span> <span class="keyword">false</span>;

<span class="keyword">try</span> <span class="bracket">{</span>
    <span class="keyword">const</span> options <span class="operator">=</span> <span class="bracket">{</span>
        <span class="keyword">get</span> <span class="function">passive</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
            passiveSupported <span class="operator">=</span> <span class="keyword">true</span>;
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="bracket">}</span>
    <span class="bracket">}</span>;
    
    window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'test'</span>, <span class="keyword">null</span>, options<span class="bracket">)</span>;
    window.<span class="function">removeEventListener</span><span class="bracket">(</span><span class="string">'test'</span>, <span class="keyword">null</span>, options<span class="bracket">)</span>;
<span class="bracket">}</span> <span class="keyword">catch</span> <span class="bracket">(</span>err<span class="bracket">)</span> <span class="bracket">{</span>
    passiveSupported <span class="operator">=</span> <span class="keyword">false</span>;
<span class="bracket">}</span>

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'Passiveæ”¯æŒï¼š'</span>, passiveSupported<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>æ€§èƒ½å¯¹æ¯”ï¼š</strong></p>
                    <ul>
                        <li><strong>ä¸ä½¿ç”¨passiveï¼š</strong>æ»šåŠ¨å»¶è¿Ÿå¯èƒ½è¾¾åˆ°100-200ms</li>
                        <li><strong>ä½¿ç”¨passiveï¼š</strong>æ»šåŠ¨æµç•…ï¼Œå»¶è¿Ÿå‡ ä¹ä¸º0</li>
                    </ul>
                    
                    <p><strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong></p>
                    <ul>
                        <li>å¦‚æœç¡®å®éœ€è¦<code>preventDefault()</code>ï¼Œä¸è¦ä½¿ç”¨passive</li>
                        <li>Chrome 56+é»˜è®¤å¯¹touchstart/touchmoveä½¿ç”¨passive</li>
                        <li>passiveç›‘å¬å™¨ä¸­è°ƒç”¨preventDefault()ä¼šè¢«å¿½ç•¥å¹¶æŠ¥è­¦å‘Š</li>
                    </ul>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ€§èƒ½ä¼˜åŒ–</span>
            </div>
        </div>

        <!-- Q8: removeEventListener -->
        <div class="quiz-item" data-question="8">
            <div class="quiz-item-header">
                <span class="difficulty medium">ğŸŸ¡ ä¸­ç­‰</span>
                <span class="tag">äº‹ä»¶ç§»é™¤</span>
            </div>
            
            <div class="question">Q8: ä¸ºä»€ä¹ˆremoveEventListenerç§»é™¤äº‹ä»¶æ—¶å¿…é¡»ä¼ å…¥ç›¸åŒçš„å‡½æ•°å¼•ç”¨ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> æµè§ˆå™¨é€šè¿‡å‡½æ•°å¼•ç”¨æ¥è¯†åˆ«å’ŒåŒ¹é…éœ€è¦ç§»é™¤çš„ç›‘å¬å™¨
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä¸ºäº†æ€§èƒ½ä¼˜åŒ–
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> å¯ä»¥ä¼ å…¥ä¸åŒçš„å‡½æ•°
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> åªæ˜¯æµè§ˆå™¨çš„Bug
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(8, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(8)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-8">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>removeEventListener è¯¦è§£ï¼š</h4>
                    
                    <p><strong>æ ¸å¿ƒåŸç†ï¼š</strong>æµè§ˆå™¨ä½¿ç”¨å‡½æ•°å¼•ç”¨ï¼ˆå†…å­˜åœ°å€ï¼‰æ¥åŒ¹é…å’Œç§»é™¤äº‹ä»¶ç›‘å¬å™¨</p>
                    
                    <p><strong>âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆæ— æ³•ç§»é™¤ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// æ·»åŠ </span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'clicked'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// å°è¯•ç§»é™¤ï¼ˆå¤±è´¥ï¼è¿™æ˜¯æ–°çš„å‡½æ•°å¼•ç”¨ï¼‰</span>
element.<span class="function">removeEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'clicked'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// ç›‘å¬å™¨ä»ç„¶å­˜åœ¨ï¼âŒ</span></code></pre></div>
                    
                    <p><strong>âœ… æ­£ç¡®ç¤ºä¾‹ï¼ˆå¯ä»¥ç§»é™¤ï¼‰ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// ä¿å­˜å‡½æ•°å¼•ç”¨</span>
<span class="keyword">const</span> handler <span class="operator">=</span> <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'clicked'</span><span class="bracket">)</span>;
<span class="bracket">}</span>;

<span class="comment">// æ·»åŠ </span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handler<span class="bracket">)</span>;

<span class="comment">// ç§»é™¤ï¼ˆæˆåŠŸï¼ä½¿ç”¨ç›¸åŒå¼•ç”¨ï¼‰</span>
element.<span class="function">removeEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handler<span class="bracket">)</span>;  <span class="comment">// âœ…</span></code></pre></div>
                    
                    <p><strong>å‚æ•°å¿…é¡»å®Œå…¨åŒ¹é…ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> handler <span class="operator">=</span> <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'clicked'</span><span class="bracket">)</span>;

<span class="comment">// åœ¨æ•è·é˜¶æ®µæ·»åŠ </span>
element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handler, <span class="keyword">true</span><span class="bracket">)</span>;

<span class="comment">// âŒ æ— æ³•ç§»é™¤ï¼ˆå‚æ•°ä¸åŒ¹é…ï¼‰</span>
element.<span class="function">removeEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handler, <span class="keyword">false</span><span class="bracket">)</span>;

<span class="comment">// âœ… å¯ä»¥ç§»é™¤ï¼ˆå‚æ•°åŒ¹é…ï¼‰</span>
element.<span class="function">removeEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handler, <span class="keyword">true</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜æŠ€å·§1ï¼šä½¿ç”¨å‘½åå‡½æ•°</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âœ… æ¨èï¼šä¾¿äºç§»é™¤</span>
<span class="keyword">function</span> <span class="function">handleClick</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'clicked'</span><span class="bracket">)</span>;
<span class="bracket">}</span>

element.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handleClick<span class="bracket">)</span>;
element.<span class="function">removeEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, handleClick<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜æŠ€å·§2ï¼šè‡ªåŠ¨ç§»é™¤çš„åŒ…è£…å‡½æ•°</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">addEventListenerOnce</span><span class="bracket">(</span>element, event, handler<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> wrapper <span class="operator">=</span> <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="function">handler</span><span class="bracket">(</span>e<span class="bracket">)</span>;
        element.<span class="function">removeEventListener</span><span class="bracket">(</span>event, wrapper<span class="bracket">)</span>;
    <span class="bracket">}</span>;
    element.<span class="function">addEventListener</span><span class="bracket">(</span>event, wrapper<span class="bracket">)</span>;
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="function">addEventListenerOnce</span><span class="bracket">(</span>button, <span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'åªè§¦å‘ä¸€æ¬¡'</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜æŠ€å·§3ï¼šäº‹ä»¶ç®¡ç†å™¨</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">class</span> <span class="function">EventManager</span> <span class="bracket">{</span>
    <span class="function">constructor</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">listeners</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Map</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">add</span><span class="bracket">(</span>element, event, handler, options<span class="bracket">)</span> <span class="bracket">{</span>
        element.<span class="function">addEventListener</span><span class="bracket">(</span>event, handler, options<span class="bracket">)</span>;
        
        <span class="comment">// ä¿å­˜å¼•ç”¨</span>
        <span class="keyword">const</span> key <span class="operator">=</span> <span class="string">`${element}_${event}`</span>;
        <span class="keyword">if</span> <span class="bracket">(</span><span class="operator">!</span><span class="keyword">this</span>.<span class="property">listeners</span>.<span class="function">has</span><span class="bracket">(</span>key<span class="bracket">)</span><span class="bracket">)</span> <span class="bracket">{</span>
            <span class="keyword">this</span>.<span class="property">listeners</span>.<span class="function">set</span><span class="bracket">(</span>key, <span class="bracket">[</span><span class="bracket">]</span><span class="bracket">)</span>;
        <span class="bracket">}</span>
        <span class="keyword">this</span>.<span class="property">listeners</span>.<span class="function">get</span><span class="bracket">(</span>key<span class="bracket">)</span>.<span class="function">push</span><span class="bracket">(</span><span class="bracket">{</span> handler, options <span class="bracket">}</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
    
    <span class="function">removeAll</span><span class="bracket">(</span>element, event<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> key <span class="operator">=</span> <span class="string">`${element}_${event}`</span>;
        <span class="keyword">const</span> handlers <span class="operator">=</span> <span class="keyword">this</span>.<span class="property">listeners</span>.<span class="function">get</span><span class="bracket">(</span>key<span class="bracket">)</span> <span class="operator">||</span> <span class="bracket">[</span><span class="bracket">]</span>;
        
        handlers.<span class="function">forEach</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">{</span> handler, options <span class="bracket">}</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
            element.<span class="function">removeEventListener</span><span class="bracket">(</span>event, handler, options<span class="bracket">)</span>;
        <span class="bracket">}</span><span class="bracket">)</span>;
        
        <span class="keyword">this</span>.<span class="property">listeners</span>.<span class="function">delete</span><span class="bracket">(</span>key<span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="keyword">const</span> em <span class="operator">=</span> <span class="keyword">new</span> <span class="function">EventManager</span><span class="bracket">(</span><span class="bracket">)</span>;
em.<span class="function">add</span><span class="bracket">(</span>button, <span class="string">'click'</span>, handler1<span class="bracket">)</span>;
em.<span class="function">add</span><span class="bracket">(</span>button, <span class="string">'click'</span>, handler2<span class="bracket">)</span>;
em.<span class="function">removeAll</span><span class="bracket">(</span>button, <span class="string">'click'</span><span class="bracket">)</span>;  <span class="comment">// ä¸€æ¬¡æ€§ç§»é™¤æ‰€æœ‰</span></code></pre></div>
                    
                    <p><strong>å†…å­˜æ³„æ¼è­¦å‘Šï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// âš ï¸ å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼</span>
<span class="keyword">function</span> <span class="function">createButton</span><span class="bracket">(</span><span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">const</span> button <span class="operator">=</span> document.<span class="function">createElement</span><span class="bracket">(</span><span class="string">'button'</span><span class="bracket">)</span>;
    
    button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'clicked'</span><span class="bracket">)</span>;
    <span class="bracket">}</span><span class="bracket">)</span>;
    
    <span class="comment">// åˆ é™¤æŒ‰é’®å‰åº”è¯¥å…ˆç§»é™¤äº‹ä»¶ï¼</span>
    button.<span class="function">remove</span><span class="bracket">(</span><span class="bracket">)</span>;  <span class="comment">// âš ï¸ äº‹ä»¶ç›‘å¬å™¨å¯èƒ½ä»åœ¨å†…å­˜ä¸­</span>
<span class="bracket">}</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šå†…å­˜ç®¡ç†</span>
            </div>
        </div>

        <!-- Q9: äº‹ä»¶å¾ªç¯ä¸äº‹ä»¶ -->
        <div class="quiz-item" data-question="9">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">äº‹ä»¶å¾ªç¯</span>
            </div>
            
            <div class="question">Q9: ç”¨æˆ·äº¤äº’äº‹ä»¶ï¼ˆå¦‚clickï¼‰åœ¨äº‹ä»¶å¾ªç¯ä¸­å±äºä»€ä¹ˆä»»åŠ¡ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> å®ä»»åŠ¡ï¼ˆMacroTaskï¼‰
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> å¾®ä»»åŠ¡ï¼ˆMicroTaskï¼‰
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> åŒæ­¥ä»»åŠ¡
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> æ—¢ä¸æ˜¯å®ä»»åŠ¡ä¹Ÿä¸æ˜¯å¾®ä»»åŠ¡
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(9, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(9)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-9">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>äº‹ä»¶ä¸äº‹ä»¶å¾ªç¯è¯¦è§£ï¼š</h4>
                    
                    <p><strong>ç”¨æˆ·äº¤äº’äº‹ä»¶å±äºå®ä»»åŠ¡</strong></p>
                    <p>åŒ…æ‹¬ï¼šclickã€scrollã€resizeã€inputç­‰</p>
                    
                    <p><strong>æ‰§è¡Œé¡ºåºç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code>button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'1. ç‚¹å‡»äº‹ä»¶ï¼ˆå®ä»»åŠ¡ï¼‰'</span><span class="bracket">)</span>;
    
    <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'2. Promiseï¼ˆå¾®ä»»åŠ¡ï¼‰'</span><span class="bracket">)</span>;
    <span class="bracket">}</span><span class="bracket">)</span>;
    
    <span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'4. setTimeoutï¼ˆå®ä»»åŠ¡ï¼‰'</span><span class="bracket">)</span>;
    <span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;
    
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'3. åŒæ­¥ä»£ç '</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// ç‚¹å‡»æŒ‰é’®åè¾“å‡ºé¡ºåºï¼š</span>
<span class="comment">// 1. ç‚¹å‡»äº‹ä»¶ï¼ˆå®ä»»åŠ¡ï¼‰</span>
<span class="comment">// 3. åŒæ­¥ä»£ç </span>
<span class="comment">// 2. Promiseï¼ˆå¾®ä»»åŠ¡ï¼‰- å¾®ä»»åŠ¡ä¼˜å…ˆäºä¸‹ä¸€ä¸ªå®ä»»åŠ¡</span>
<span class="comment">// 4. setTimeoutï¼ˆå®ä»»åŠ¡ï¼‰</span></code></pre></div>
                    
                    <p><strong>å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡åˆ†ç±»ï¼š</strong></p>
                    <table>
                        <tr>
                            <th>ç±»å‹</th>
                            <th>ç¤ºä¾‹</th>
                        </tr>
                        <tr>
                            <td><strong>å®ä»»åŠ¡</strong></td>
                            <td>
                                â€¢ scriptï¼ˆæ•´ä½“ä»£ç ï¼‰<br>
                                â€¢ setTimeout/setInterval<br>
                                â€¢ UIäº‹ä»¶ï¼ˆclickã€scrollç­‰ï¼‰<br>
                                â€¢ I/Oæ“ä½œ<br>
                                â€¢ postMessage<br>
                                â€¢ MessageChannel
                            </td>
                        </tr>
                        <tr>
                            <td><strong>å¾®ä»»åŠ¡</strong></td>
                            <td>
                                â€¢ Promise.then/catch/finally<br>
                                â€¢ MutationObserver<br>
                                â€¢ process.nextTickï¼ˆNode.jsï¼‰<br>
                                â€¢ queueMicrotask
                            </td>
                        </tr>
                    </table>
                    
                    <p><strong>å¤æ‚ç¤ºä¾‹ï¼š</strong></p>
                    <div class="code-question"><pre><code><span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'1. åŒæ­¥å¼€å§‹'</span><span class="bracket">)</span>;

button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'3. ç‚¹å‡»å›è°ƒ'</span><span class="bracket">)</span>;
    
    <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'4. å¾®ä»»åŠ¡1'</span><span class="bracket">)</span>;
        
        <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
            <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'5. å¾®ä»»åŠ¡2'</span><span class="bracket">)</span>;
        <span class="bracket">}</span><span class="bracket">)</span>;
    <span class="bracket">}</span><span class="bracket">)</span>;
    
    <span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
        <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'6. ä¸‹ä¸€ä¸ªå®ä»»åŠ¡'</span><span class="bracket">)</span>;
    <span class="bracket">}</span>, <span class="number">0</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'2. åŒæ­¥ç»“æŸ'</span><span class="bracket">)</span>;

<span class="comment">// è¾“å‡ºé¡ºåºï¼ˆç‚¹å‡»åï¼‰ï¼š</span>
<span class="comment">// 1. åŒæ­¥å¼€å§‹</span>
<span class="comment">// 2. åŒæ­¥ç»“æŸ</span>
<span class="comment">// [ç‚¹å‡»]</span>
<span class="comment">// 3. ç‚¹å‡»å›è°ƒ</span>
<span class="comment">// 4. å¾®ä»»åŠ¡1</span>
<span class="comment">// 5. å¾®ä»»åŠ¡2</span>
<span class="comment">// 6. ä¸‹ä¸€ä¸ªå®ä»»åŠ¡</span></code></pre></div>
                    
                    <p><strong>å®æˆ˜åº”ç”¨ï¼šrequestAnimationFrame</strong></p>
                    <div class="code-question"><pre><code><span class="comment">// RAFæ—¢ä¸æ˜¯å®ä»»åŠ¡ä¹Ÿä¸æ˜¯å¾®ä»»åŠ¡</span>
<span class="comment">// å®ƒåœ¨æµè§ˆå™¨é‡ç»˜ä¹‹å‰æ‰§è¡Œ</span>

button.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'click'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'1. ç‚¹å‡»'</span><span class="bracket">)</span>;
    
    <span class="property">Promise</span>.<span class="function">resolve</span><span class="bracket">(</span><span class="bracket">)</span>.<span class="function">then</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'2. å¾®ä»»åŠ¡'</span><span class="bracket">)</span><span class="bracket">)</span>;
    
    <span class="function">requestAnimationFrame</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'3. RAF'</span><span class="bracket">)</span><span class="bracket">)</span>;
    
    <span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'4. å®ä»»åŠ¡'</span><span class="bracket">)</span>, <span class="number">0</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;

<span class="comment">// è¾“å‡ºï¼š1 â†’ 2 â†’ 3 â†’ 4</span></code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šäº‹ä»¶å¾ªç¯</span>
            </div>
        </div>

        <!-- Q10: äº‹ä»¶æ€§èƒ½ä¼˜åŒ– -->
        <div class="quiz-item" data-question="10">
            <div class="quiz-item-header">
                <span class="difficulty hard">ğŸ”´ å›°éš¾</span>
                <span class="tag">æ€§èƒ½ä¼˜åŒ–</span>
            </div>
            
            <div class="question">Q10: å¦‚ä½•ä¼˜åŒ–é«˜é¢‘è§¦å‘çš„äº‹ä»¶ï¼ˆå¦‚scrollã€resizeï¼‰ï¼Ÿ</div>
            
            <div class="options">
                <div class="option" data-answer="A">
                    <strong>A.</strong> ä½¿ç”¨é˜²æŠ–ï¼ˆdebounceï¼‰æˆ–èŠ‚æµï¼ˆthrottleï¼‰
                </div>
                <div class="option" data-answer="B">
                    <strong>B.</strong> ä½¿ç”¨äº‹ä»¶å§”æ‰˜
                </div>
                <div class="option" data-answer="C">
                    <strong>C.</strong> ä½¿ç”¨stopPropagation
                </div>
                <div class="option" data-answer="D">
                    <strong>D.</strong> æ— æ³•ä¼˜åŒ–
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" onclick="checkAnswer(10, 'A')">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-secondary" onclick="showAnswer(10)">æŸ¥çœ‹è§£æ</button>
            </div>
            
            <div class="answer-section" id="answer-10">
                <div class="answer-label">âœ… æ­£ç¡®ç­”æ¡ˆï¼šA</div>
                <div class="explanation">
                    <h4>é«˜é¢‘äº‹ä»¶ä¼˜åŒ–è¯¦è§£ï¼š</h4>
                    
                    <p><strong>é—®é¢˜ï¼š</strong>scrollã€resizeã€mousemoveç­‰äº‹ä»¶è§¦å‘é¢‘ç‡æé«˜ï¼ˆæ¯ç§’å¯è¾¾æ•°ç™¾æ¬¡ï¼‰ï¼Œç›´æ¥å¤„ç†ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</p>
                    
                    <p><strong>è§£å†³æ–¹æ¡ˆ1ï¼šé˜²æŠ–ï¼ˆDebounceï¼‰</strong></p>
                    <p><strong>åŸç†ï¼š</strong>å»¶è¿Ÿæ‰§è¡Œï¼Œå¦‚æœåœ¨å»¶è¿ŸæœŸé—´å†æ¬¡è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶</p>
                    <p><strong>é€‚ç”¨ï¼š</strong>æœç´¢æ¡†è¾“å…¥ã€çª—å£resizeåçš„æ“ä½œ</p>
                    
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">debounce</span><span class="bracket">(</span>func, wait<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">let</span> timeout;
    
    <span class="keyword">return</span> <span class="keyword">function</span><span class="bracket">(</span>...<span class="property">args</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="function">clearTimeout</span><span class="bracket">(</span>timeout<span class="bracket">)</span>;
        timeout <span class="operator">=</span> <span class="function">setTimeout</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
            <span class="function">func</span>.<span class="function">apply</span><span class="bracket">(</span><span class="keyword">this</span>, args<span class="bracket">)</span>;
        <span class="bracket">}</span>, wait<span class="bracket">)</span>;
    <span class="bracket">}</span>;
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="keyword">const</span> handleResize <span class="operator">=</span> <span class="function">debounce</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'çª—å£å¤§å°æ”¹å˜äº†'</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="number">300</span><span class="bracket">)</span>;

window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'resize'</span>, handleResize<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>è§£å†³æ–¹æ¡ˆ2ï¼šèŠ‚æµï¼ˆThrottleï¼‰</strong></p>
                    <p><strong>åŸç†ï¼š</strong>å›ºå®šæ—¶é—´é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡</p>
                    <p><strong>é€‚ç”¨ï¼š</strong>æ»šåŠ¨åŠ è½½ã€æ‹–æ‹½ã€æ¸¸æˆæŒ‰é”®</p>
                    
                    <div class="code-question"><pre><code><span class="keyword">function</span> <span class="function">throttle</span><span class="bracket">(</span>func, wait<span class="bracket">)</span> <span class="bracket">{</span>
    <span class="keyword">let</span> lastTime <span class="operator">=</span> <span class="number">0</span>;
    
    <span class="keyword">return</span> <span class="keyword">function</span><span class="bracket">(</span>...<span class="property">args</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="keyword">const</span> now <span class="operator">=</span> <span class="property">Date</span>.<span class="function">now</span><span class="bracket">(</span><span class="bracket">)</span>;
        
        <span class="keyword">if</span> <span class="bracket">(</span>now <span class="operator">-</span> lastTime <span class="operator">&gt;=</span> wait<span class="bracket">)</span> <span class="bracket">{</span>
            <span class="function">func</span>.<span class="function">apply</span><span class="bracket">(</span><span class="keyword">this</span>, args<span class="bracket">)</span>;
            lastTime <span class="operator">=</span> now;
        <span class="bracket">}</span>
    <span class="bracket">}</span>;
<span class="bracket">}</span>

<span class="comment">// ä½¿ç”¨</span>
<span class="keyword">const</span> handleScroll <span class="operator">=</span> <span class="function">throttle</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="property">console</span>.<span class="function">log</span><span class="bracket">(</span><span class="string">'æ»šåŠ¨ä½ç½®ï¼š'</span>, window.<span class="property">scrollY</span><span class="bracket">)</span>;
<span class="bracket">}</span>, <span class="number">200</span><span class="bracket">)</span>;

window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'scroll'</span>, handleScroll<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>é˜²æŠ– vs èŠ‚æµå¯¹æ¯”ï¼š</strong></p>
                    <table>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>é˜²æŠ–ï¼ˆDebounceï¼‰</th>
                            <th>èŠ‚æµï¼ˆThrottleï¼‰</th>
                        </tr>
                        <tr>
                            <td>æ‰§è¡Œæ—¶æœº</td>
                            <td>åœæ­¢è§¦å‘åå»¶è¿Ÿæ‰§è¡Œ</td>
                            <td>å›ºå®šé—´éš”æ‰§è¡Œ</td>
                        </tr>
                        <tr>
                            <td>æ‰§è¡Œæ¬¡æ•°</td>
                            <td>æœ€åä¸€æ¬¡</td>
                            <td>å¤šæ¬¡ï¼ˆæŒ‰é—´éš”ï¼‰</td>
                        </tr>
                        <tr>
                            <td>é€‚ç”¨åœºæ™¯</td>
                            <td>æœç´¢ã€resize</td>
                            <td>scrollã€æ‹–æ‹½</td>
                        </tr>
                    </table>
                    
                    <p><strong>å®æˆ˜ç¤ºä¾‹ï¼šæœç´¢æ¡†</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> searchInput <span class="operator">=</span> document.<span class="function">querySelector</span><span class="bracket">(</span><span class="string">'#search'</span><span class="bracket">)</span>;

<span class="keyword">const</span> search <span class="operator">=</span> <span class="function">debounce</span><span class="bracket">(</span><span class="keyword">async</span> <span class="bracket">(</span>keyword<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">const</span> results <span class="operator">=</span> <span class="keyword">await</span> <span class="function">fetch</span><span class="bracket">(</span><span class="string">`/api/search?q=${keyword}`</span><span class="bracket">)</span>;
    <span class="comment">// æ˜¾ç¤ºç»“æœ...</span>
<span class="bracket">}</span>, <span class="number">500</span><span class="bracket">)</span>;

searchInput.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'input'</span>, <span class="bracket">(</span>e<span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="function">search</span><span class="bracket">(</span>e.<span class="property">target</span>.<span class="property">value</span><span class="bracket">)</span>;
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>å®æˆ˜ç¤ºä¾‹ï¼šæ— é™æ»šåŠ¨</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">const</span> loadMore <span class="operator">=</span> <span class="function">throttle</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">const</span> scrollTop <span class="operator">=</span> window.<span class="property">scrollY</span>;
    <span class="keyword">const</span> windowHeight <span class="operator">=</span> window.<span class="property">innerHeight</span>;
    <span class="keyword">const</span> docHeight <span class="operator">=</span> document.<span class="property">documentElement</span>.<span class="property">scrollHeight</span>;
    
    <span class="keyword">if</span> <span class="bracket">(</span>scrollTop <span class="operator">+</span> windowHeight <span class="operator">&gt;=</span> docHeight <span class="operator">-</span> <span class="number">100</span><span class="bracket">)</span> <span class="bracket">{</span>
        <span class="comment">// åŠ è½½æ›´å¤šæ•°æ®</span>
        <span class="function">fetchMoreData</span><span class="bracket">(</span><span class="bracket">)</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span>, <span class="number">300</span><span class="bracket">)</span>;

window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'scroll'</span>, loadMore<span class="bracket">)</span>;</code></pre></div>
                    
                    <p><strong>è¿›é˜¶ï¼šrequestAnimationFrameä¼˜åŒ–</strong></p>
                    <div class="code-question"><pre><code><span class="keyword">let</span> ticking <span class="operator">=</span> <span class="keyword">false</span>;

window.<span class="function">addEventListener</span><span class="bracket">(</span><span class="string">'scroll'</span>, <span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
    <span class="keyword">if</span> <span class="bracket">(</span><span class="operator">!</span>ticking<span class="bracket">)</span> <span class="bracket">{</span>
        <span class="function">requestAnimationFrame</span><span class="bracket">(</span><span class="bracket">(</span><span class="bracket">)</span> <span class="operator">=></span> <span class="bracket">{</span>
            <span class="comment">// å¤„ç†æ»šåŠ¨</span>
            <span class="function">handleScroll</span><span class="bracket">(</span><span class="bracket">)</span>;
            ticking <span class="operator">=</span> <span class="keyword">false</span>;
        <span class="bracket">}</span><span class="bracket">)</span>;
        ticking <span class="operator">=</span> <span class="keyword">true</span>;
    <span class="bracket">}</span>
<span class="bracket">}</span><span class="bracket">)</span>;</code></pre></div>
                </div>
                <span class="source-tag">ğŸ“Œ æ¥æºï¼šæ€§èƒ½ä¼˜åŒ–</span>
            </div>
        </div>

        <div class="nav-links" style="margin-top: 3rem; display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="10-dom-basics.html" style="padding: 0.75rem 1.5rem; background: #e2e8f0; color: #2d3748; text-decoration: none; border-radius: 6px;">â¬…ï¸ ä¸Šä¸€èŠ‚ï¼šDOMåŸºç¡€æ“ä½œ</a>
            <a href="../index.html" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; text-decoration: none; border-radius: 6px;">ğŸ“‹ é¢è¯•é¢˜å¯¼èˆª</a>
        </div>
    </div>
    
    <script>
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const parent = this.closest('.quiz-item');
                parent.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        function checkAnswer(questionNum, correctAnswer) {
            const quizItem = document.querySelector(`[data-question="${questionNum}"]`);
            const selectedOption = quizItem.querySelector('.option.selected');
            
            if (!selectedOption) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            const userAnswer = selectedOption.getAttribute('data-answer');
            const allOptions = quizItem.querySelectorAll('.option');
            
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt.getAttribute('data-answer') === correctAnswer) {
                    opt.classList.add('correct');
                } else if (opt === selectedOption && userAnswer !== correctAnswer) {
                    opt.classList.add('wrong');
                }
            });
            
            if (userAnswer === correctAnswer) {
                alert('âœ… å›ç­”æ­£ç¡®ï¼');
            } else {
                alert('âŒ å›ç­”é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆå·²æ ‡è®°ä¸ºç»¿è‰²');
            }
            
            showAnswer(questionNum);
        }

        function showAnswer(questionNum) {
            const answerSection = document.getElementById(`answer-${questionNum}`);
            answerSection.classList.add('show');
        }
    </script>
</body>
</html>
