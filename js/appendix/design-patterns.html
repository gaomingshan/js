<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript è®¾è®¡æ¨¡å¼ - JavaScript æ·±åº¦å­¦ä¹ </title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/page.css">
</head>
<body>
    <div class="page-layout">
        <div class="doc-panel">
            <h1>JavaScript è®¾è®¡æ¨¡å¼</h1>
            
            <h2>æ¦‚è¿°</h2>
            <p>è®¾è®¡æ¨¡å¼æ˜¯è§£å†³å¸¸è§é—®é¢˜çš„ç»å…¸æ–¹æ¡ˆï¼ŒæŒæ¡è®¾è®¡æ¨¡å¼å¯ä»¥æå‡ä»£ç è´¨é‡ã€‚</p>
            
            <h2>ä¸€ã€åˆ›å»ºå‹æ¨¡å¼</h2>
            
            <h3>å•ä¾‹æ¨¡å¼</h3>
            <pre><code>class Singleton {
    static instance;
    
    static getInstance() {
        if (!Singleton.instance) {
            Singleton.instance = new Singleton();
        }
        return Singleton.instance;
    }
}</code></pre>
            
            <h3>å·¥å‚æ¨¡å¼</h3>
            <pre><code>class UserFactory {
    static createUser(type) {
        switch (type) {
            case 'admin': return new AdminUser();
            case 'guest': return new GuestUser();
            default: return new RegularUser();
        }
    }
}</code></pre>
            
            <h2>äºŒã€ç»“æ„å‹æ¨¡å¼</h2>
            
            <h3>è£…é¥°å™¨æ¨¡å¼</h3>
            <pre><code>function readonly(target, key, descriptor) {
    descriptor.writable = false;
    return descriptor;
}</code></pre>
            
            <h3>ä»£ç†æ¨¡å¼</h3>
            <pre><code>const proxy = new Proxy(obj, {
    get(target, prop) {
        console.log(`è®¿é—® ${prop}`);
        return target[prop];
    }
});</code></pre>
            
            <h2>ä¸‰ã€è¡Œä¸ºå‹æ¨¡å¼</h2>
            
            <h3>è§‚å¯Ÿè€…æ¨¡å¼</h3>
            <pre><code>class EventEmitter {
    constructor() {
        this.events = {};
    }
    
    on(event, callback) {
        (this.events[event] || (this.events[event] = [])).push(callback);
    }
    
    emit(event, ...args) {
        this.events[event]?.forEach(cb => cb(...args));
    }
}</code></pre>
            
            <h2>å‚è€ƒèµ„æ–™</h2>
            <ul>
                <li><a href="https://refactoring.guru/design-patterns" target="_blank">Refactoring Guru - Design Patterns</a></li>
            </ul>
            
            <div class="nav-links">
                <a href="../deep-dive/27-pattern-matching.html" class="nav-link prev">ä¸Šä¸€èŠ‚ï¼šæ¨¡å¼åŒ¹é…</a>
                <a href="../index.html" class="nav-link home">è¿”å›é¦–é¡µ</a>
                <a href="best-practices.html" class="nav-link next">ä¸‹ä¸€èŠ‚ï¼šæœ€ä½³å®è·µ</a>
            </div>
        </div>
        
        <div class="code-panel">
            <h2 style="color: #60a5fa; margin-bottom: 1.5rem;">ğŸ’» äº¤äº’å¼ä»£ç ç¤ºä¾‹</h2>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ï¼šå•ä¾‹æ¨¡å¼</h3>
                <div class="code-block">
                    <pre><code>console.log('=== å•ä¾‹æ¨¡å¼ ===\n');

class Database {
    static instance;
    
    constructor() {
        if (Database.instance) {
            return Database.instance;
        }
        this.connection = 'connected';
        Database.instance = this;
    }
}

const db1 = new Database();
const db2 = new Database();

console.log('db1 === db2:', db1 === db2);
console.log('connection:', db1.connection);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ï¼šè§‚å¯Ÿè€…æ¨¡å¼</h3>
                <div class="code-block">
                    <pre><code>console.log('=== è§‚å¯Ÿè€…æ¨¡å¼ ===\n');

class EventEmitter {
    constructor() {
        this.events = {};
    }
    
    on(event, callback) {
        (this.events[event] = this.events[event] || []).push(callback);
    }
    
    emit(event, ...args) {
        this.events[event]?.forEach(cb => cb(...args));
    }
}

const emitter = new EventEmitter();

emitter.on('login', (user) => {
    console.log(`ç”¨æˆ· ${user} ç™»å½•`);
});

emitter.on('login', (user) => {
    console.log(`æ¬¢è¿ ${user}ï¼`);
});

emitter.emit('login', 'Alice');</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/common.js"></script>
</body>
</html>
