<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¡ä»¶è¯­å¥ - JavaScript æ·±åº¦å­¦ä¹ </title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/page.css">
</head>
<body>
    <div class="page-layout">
        <div class="doc-panel">
            <h1>æ¡ä»¶è¯­å¥</h1>
            
            <h2>æ¦‚è¿°</h2>
            <p>æ¡ä»¶è¯­å¥å…è®¸ç¨‹åºæ ¹æ®ä¸åŒæ¡ä»¶æ‰§è¡Œä¸åŒçš„ä»£ç åˆ†æ”¯ï¼Œæ˜¯å®ç°ç¨‹åºé€»è¾‘çš„åŸºç¡€ã€‚</p>
            
            <h2>ä¸€ã€if è¯­å¥</h2>
            
            <h3>1.1 åŸºæœ¬è¯­æ³•</h3>
            <pre><code>if (condition) {
    // æ¡ä»¶ä¸ºçœŸæ—¶æ‰§è¡Œ
}</code></pre>
            
            <h3>1.2 if...else è¯­å¥</h3>
            <pre><code>if (condition) {
    // æ¡ä»¶ä¸ºçœŸæ—¶æ‰§è¡Œ
} else {
    // æ¡ä»¶ä¸ºå‡æ—¶æ‰§è¡Œ
}</code></pre>
            
            <h3>1.3 if...else if...else è¯­å¥</h3>
            <pre><code>if (condition1) {
    // condition1 ä¸ºçœŸæ—¶æ‰§è¡Œ
} else if (condition2) {
    // condition2 ä¸ºçœŸæ—¶æ‰§è¡Œ
} else {
    // æ‰€æœ‰æ¡ä»¶éƒ½ä¸ºå‡æ—¶æ‰§è¡Œ
}</code></pre>
            
            <div class="tip">
                æ¡ä»¶è¡¨è¾¾å¼ä¼šè¢«è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œéµå¾ªçœŸå€¼/å‡å€¼è§„åˆ™ã€‚
            </div>
            
            <h3>1.4 åµŒå¥— if è¯­å¥</h3>
            <pre><code>if (condition1) {
    if (condition2) {
        // ä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºçœŸ
    }
}</code></pre>
            
            <div class="warning">
                é¿å…è¿‡æ·±çš„åµŒå¥—ï¼ˆå»ºè®®ä¸è¶…è¿‡ 3 å±‚ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æå‰è¿”å›æˆ–é€»è¾‘è¿ç®—ç¬¦ç®€åŒ–ã€‚
            </div>
            
            <h2>äºŒã€switch è¯­å¥</h2>
            
            <h3>2.1 åŸºæœ¬è¯­æ³•</h3>
            <pre><code>switch (expression) {
    case value1:
        // expression === value1 æ—¶æ‰§è¡Œ
        break;
    case value2:
        // expression === value2 æ—¶æ‰§è¡Œ
        break;
    default:
        // æ‰€æœ‰ case éƒ½ä¸åŒ¹é…æ—¶æ‰§è¡Œ
}</code></pre>
            
            <h3>2.2 switch ç‰¹æ€§</h3>
            <ul>
                <li>ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰ï¼ˆ===ï¼‰è¿›è¡Œæ¯”è¾ƒ</li>
                <li>éœ€è¦ <code>break</code> è·³å‡ºï¼Œå¦åˆ™ä¼šç»§ç»­æ‰§è¡Œï¼ˆfall-throughï¼‰</li>
                <li><code>default</code> å¯ä»¥æ”¾åœ¨ä»»æ„ä½ç½®ï¼ˆé€šå¸¸æ”¾åœ¨æœ€åï¼‰</li>
                <li>å¤šä¸ª case å¯ä»¥å…±äº«åŒä¸€ä¸ªä»£ç å—</li>
            </ul>
            
            <h3>2.3 case ç©¿é€ï¼ˆFall-throughï¼‰</h3>
            <pre><code>switch (value) {
    case 1:
    case 2:
    case 3:
        console.log('1-3');
        break;
    case 4:
        console.log('4');
        // æ²¡æœ‰ breakï¼Œä¼šç»§ç»­æ‰§è¡Œ case 5
    case 5:
        console.log('5');
        break;
}</code></pre>
            
            <div class="warning">
                <strong>æ³¨æ„ï¼š</strong>å¿˜è®° <code>break</code> æ˜¯å¸¸è§é”™è¯¯ï¼å¦‚æœæ•…æ„ä½¿ç”¨ fall-throughï¼Œåº”è¯¥æ·»åŠ æ³¨é‡Šè¯´æ˜ã€‚
            </div>
            
            <h3>2.4 switch vs if...else</h3>
            <table>
                <thead>
                    <tr>
                        <th>åœºæ™¯</th>
                        <th>æ¨èä½¿ç”¨</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>å•ä¸ªå˜é‡å¤šä¸ªå›ºå®šå€¼</td>
                        <td>switch</td>
                    </tr>
                    <tr>
                        <td>å¤æ‚æ¡ä»¶åˆ¤æ–­</td>
                        <td>if...else</td>
                    </tr>
                    <tr>
                        <td>èŒƒå›´åˆ¤æ–­</td>
                        <td>if...else</td>
                    </tr>
                    <tr>
                        <td>å¤šä¸ªæ¡ä»¶ç»„åˆ</td>
                        <td>if...else</td>
                    </tr>
                </tbody>
            </table>
            
            <h2>ä¸‰ã€ä¸‰å…ƒè¿ç®—ç¬¦</h2>
            
            <h3>3.1 åŸºæœ¬è¯­æ³•</h3>
            <pre><code>condition ? valueIfTrue : valueIfFalse</code></pre>
            
            <h3>3.2 ä½¿ç”¨åœºæ™¯</h3>
            <p>é€‚åˆç®€å•çš„æ¡ä»¶èµ‹å€¼ï¼š</p>
            <pre><code>const message = isLoggedIn ? 'Welcome' : 'Please login';
const max = a > b ? a : b;</code></pre>
            
            <h3>3.3 åµŒå¥—ä¸‰å…ƒè¿ç®—ç¬¦</h3>
            <pre><code>// å¯ä»¥åµŒå¥—ï¼Œä½†ä¸æ¨è
const grade = score >= 90 ? 'A' :
              score >= 80 ? 'B' :
              score >= 70 ? 'C' : 'D';</code></pre>
            
            <div class="warning">
                åµŒå¥—ä¸‰å…ƒè¿ç®—ç¬¦ä¼šé™ä½å¯è¯»æ€§ï¼Œå¤æ‚é€»è¾‘åº”ä½¿ç”¨ if...else æˆ– switchã€‚
            </div>
            
            <h2>å››ã€é€»è¾‘è¿ç®—ç¬¦æ¡ä»¶åˆ¤æ–­</h2>
            
            <h3>4.1 é€»è¾‘ä¸ï¼ˆ&&ï¼‰</h3>
            <p>çŸ­è·¯æ±‚å€¼ï¼Œå¯ç”¨äºæ¡ä»¶æ‰§è¡Œï¼š</p>
            <pre><code>isLoggedIn && console.log('Welcome');
// ç­‰ä»·äºï¼š
if (isLoggedIn) {
    console.log('Welcome');
}</code></pre>
            
            <h3>4.2 é€»è¾‘æˆ–ï¼ˆ||ï¼‰</h3>
            <p>ç”¨äºè®¾ç½®é»˜è®¤å€¼ï¼š</p>
            <pre><code>const name = userName || 'Guest';
// ç­‰ä»·äºï¼š
const name = userName ? userName : 'Guest';</code></pre>
            
            <h3>4.3 ç©ºå€¼åˆå¹¶ï¼ˆ??ï¼‰</h3>
            <p>åªå¯¹ null å’Œ undefined ç”Ÿæ•ˆï¼š</p>
            <pre><code>const count = userCount ?? 0;
// ä¸ || çš„åŒºåˆ«ï¼š
const a = 0 || 10;   // 10ï¼ˆ0 æ˜¯å‡å€¼ï¼‰
const b = 0 ?? 10;   // 0ï¼ˆ0 ä¸æ˜¯ null/undefinedï¼‰</code></pre>
            
            <h2>äº”ã€æ¡ä»¶è¯­å¥æœ€ä½³å®è·µ</h2>
            
            <h3>5.1 æå‰è¿”å›ï¼ˆEarly Returnï¼‰</h3>
            <div class="tip">
                <strong>ä¸æ¨èï¼š</strong>
                <pre><code>function process(data) {
    if (data) {
        if (data.isValid) {
            // ä¸»è¦é€»è¾‘
            return result;
        } else {
            return null;
        }
    } else {
        return null;
    }
}</code></pre>
                
                <strong>æ¨èï¼š</strong>
                <pre><code>function process(data) {
    if (!data) return null;
    if (!data.isValid) return null;
    
    // ä¸»è¦é€»è¾‘
    return result;
}</code></pre>
            </div>
            
            <h3>5.2 é¿å…é­”æ³•æ•°å­—</h3>
            <pre><code>// ä¸æ¨è
if (status === 1) { ... }

// æ¨è
const STATUS_ACTIVE = 1;
if (status === STATUS_ACTIVE) { ... }</code></pre>
            
            <h3>5.3 ä½¿ç”¨å¯¹è±¡æ˜ å°„ä»£æ›¿å¤šé‡ if</h3>
            <pre><code>// ä¸æ¨è
let message;
if (type === 'success') message = 'æˆåŠŸ';
else if (type === 'error') message = 'é”™è¯¯';
else if (type === 'warning') message = 'è­¦å‘Š';

// æ¨è
const messages = {
    success: 'æˆåŠŸ',
    error: 'é”™è¯¯',
    warning: 'è­¦å‘Š'
};
const message = messages[type] || 'æœªçŸ¥';</code></pre>
            
            <h3>5.4 æ˜ç¡®çš„æ¡ä»¶è¡¨è¾¾å¼</h3>
            <div class="tip">
                <pre><code>// ä¸æ¸…æ™°
if (user) { ... }

// æ¸…æ™°
if (user !== null) { ... }
if (user !== undefined) { ... }
if (user?.isActive === true) { ... }</code></pre>
            </div>
            
            <h2>å…­ã€ç°ä»£æ¡ä»¶åˆ¤æ–­æ¨¡å¼</h2>
            
            <h3>6.1 å¯é€‰é“¾ï¼ˆ?.ï¼‰</h3>
            <pre><code>// ä¼ ç»Ÿæ–¹å¼
if (user && user.profile && user.profile.name) {
    console.log(user.profile.name);
}

// ç°ä»£æ–¹å¼
console.log(user?.profile?.name);</code></pre>
            
            <h3>6.2 é€»è¾‘èµ‹å€¼ï¼ˆES2021ï¼‰</h3>
            <pre><code>// ä¼ ç»Ÿæ–¹å¼
if (!obj.value) {
    obj.value = 'default';
}

// ç°ä»£æ–¹å¼
obj.value ||= 'default';
obj.value ??= 'default';  // åªå¯¹ null/undefined ç”Ÿæ•ˆ</code></pre>
            
            <h2>å‚è€ƒèµ„æ–™</h2>
            <ul>
                <li><a href="https://tc39.es/ecma262/#sec-if-statement" target="_blank">ECMAScript - if Statement</a></li>
                <li><a href="https://tc39.es/ecma262/#sec-switch-statement" target="_blank">ECMAScript - switch Statement</a></li>
                <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/if...else" target="_blank">MDN - if...else</a></li>
            </ul>
            
            <div class="nav-links">
                <a href="02-expressions.html" class="nav-link prev">ä¸Šä¸€èŠ‚ï¼šè¡¨è¾¾å¼ä¸ä¼˜å…ˆçº§</a>
                <a href="../index.html" class="nav-link home">è¿”å›é¦–é¡µ</a>
                <a href="03-loops.html" class="nav-link next">ä¸‹ä¸€èŠ‚ï¼šå¾ªç¯è¯­å¥</a>
            </div>
        </div>
        
        <div class="code-panel">
            <h2 style="color: #60a5fa; margin-bottom: 1.5rem;">ğŸ’» äº¤äº’å¼ä»£ç ç¤ºä¾‹</h2>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 1ï¼šif è¯­å¥åŸºç¡€</h3>
                <div class="code-block">
                    <pre><code>// ç®€å• if
const score = 85;
if (score >= 60) {
    console.log('åŠæ ¼');
}

// if...else
const age = 16;
if (age >= 18) {
    console.log('æˆå¹´äºº');
} else {
    console.log('æœªæˆå¹´äºº');
}

// if...else if...else
const temperature = 25;
if (temperature > 30) {
    console.log('ç‚çƒ­');
} else if (temperature > 20) {
    console.log('æ¸©æš–');
} else if (temperature > 10) {
    console.log('å‡‰çˆ½');
} else {
    console.log('å¯’å†·');
}</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 2ï¼šswitch è¯­å¥</h3>
                <div class="code-block">
                    <pre><code>// åŸºæœ¬ switch
const day = 3;
let dayName;

switch (day) {
    case 1:
        dayName = 'æ˜ŸæœŸä¸€';
        break;
    case 2:
        dayName = 'æ˜ŸæœŸäºŒ';
        break;
    case 3:
        dayName = 'æ˜ŸæœŸä¸‰';
        break;
    default:
        dayName = 'å…¶ä»–';
}
console.log('ä»Šå¤©æ˜¯:', dayName);

// case ç©¿é€
const fruit = 'apple';
switch (fruit) {
    case 'apple':
    case 'banana':
    case 'orange':
        console.log(fruit + ' æ˜¯æ°´æœ');
        break;
    case 'carrot':
        console.log('carrot æ˜¯è”¬èœ');
        break;
}

// æ²¡æœ‰ break çš„ç©¿é€ï¼ˆæ¼”ç¤ºï¼‰
const num = 2;
console.log('\nç©¿é€æ¼”ç¤º:');
switch (num) {
    case 1:
        console.log('case 1');
    case 2:
        console.log('case 2');
    case 3:
        console.log('case 3');
        break;
    default:
        console.log('default');
}</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 3ï¼šä¸‰å…ƒè¿ç®—ç¬¦</h3>
                <div class="code-block">
                    <pre><code>// ç®€å•ä¸‰å…ƒè¿ç®—ç¬¦
const isLoggedIn = true;
const message = isLoggedIn ? 'Welcome back!' : 'Please login';
console.log(message);

// åµŒå¥—ä¸‰å…ƒè¿ç®—ç¬¦
const score = 85;
const grade = score >= 90 ? 'A' :
              score >= 80 ? 'B' :
              score >= 70 ? 'C' :
              score >= 60 ? 'D' : 'F';
console.log('æˆç»©:', grade);

// å®ç”¨ï¼šæ±‚æœ€å¤§å€¼
const a = 10, b = 20;
const max = a > b ? a : b;
console.log('æœ€å¤§å€¼:', max);

// æ¡ä»¶æ¸²æŸ“
const user = { name: 'Alice', age: 25 };
const displayName = user ? user.name : 'Guest';
console.log('æ˜¾ç¤ºåç§°:', displayName);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 4ï¼šé€»è¾‘è¿ç®—ç¬¦æ¡ä»¶åˆ¤æ–­</h3>
                <div class="code-block">
                    <pre><code>// && æ¡ä»¶æ‰§è¡Œ
const isAdmin = true;
isAdmin && console.log('ç®¡ç†å‘˜æƒé™');

// || é»˜è®¤å€¼
const userName = '';
const displayName = userName || 'Guest';
console.log('ç”¨æˆ·å:', displayName);

// ?? ç©ºå€¼åˆå¹¶
const count1 = 0;
const count2 = null;

console.log('ä½¿ç”¨ ||:', count1 || 10);    // 10
console.log('ä½¿ç”¨ ??:', count1 ?? 10);    // 0

console.log('ä½¿ç”¨ ||:', count2 || 10);    // 10
console.log('ä½¿ç”¨ ??:', count2 ?? 10);    // 10

// å®ç”¨ç»„åˆ
const config = {
    timeout: 0,
    retries: null
};

const timeout = config.timeout ?? 3000;  // 0
const retries = config.retries ?? 3;     // 3
console.log('\né…ç½®:', { timeout, retries });</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 5ï¼šæœ€ä½³å®è·µ - æå‰è¿”å›</h3>
                <div class="code-block">
                    <pre><code>// ä¸æ¨èï¼šåµŒå¥—è¿‡æ·±
function processOrder1(order) {
    if (order) {
        if (order.items && order.items.length > 0) {
            if (order.isPaid) {
                return 'è®¢å•å¤„ç†æˆåŠŸ';
            } else {
                return 'è®¢å•æœªæ”¯ä»˜';
            }
        } else {
            return 'è®¢å•æ— å•†å“';
        }
    } else {
        return 'è®¢å•ä¸å­˜åœ¨';
    }
}

console.log('åµŒå¥—æ–¹å¼:', processOrder1({ items: [1], isPaid: true }));

// æ¨èï¼šæå‰è¿”å›
function processOrder2(order) {
    if (!order) return 'è®¢å•ä¸å­˜åœ¨';
    if (!order.items || order.items.length === 0) return 'è®¢å•æ— å•†å“';
    if (!order.isPaid) return 'è®¢å•æœªæ”¯ä»˜';
    
    return 'è®¢å•å¤„ç†æˆåŠŸ';
}

console.log('æå‰è¿”å›:', processOrder2({ items: [1], isPaid: true }));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 6ï¼šå¯¹è±¡æ˜ å°„ä»£æ›¿å¤šé‡ if</h3>
                <div class="code-block">
                    <pre><code>// ä¸æ¨èï¼šå¤šé‡ if
function getStatusMessage1(status) {
    if (status === 'pending') return 'å¾…å¤„ç†';
    else if (status === 'processing') return 'å¤„ç†ä¸­';
    else if (status === 'completed') return 'å·²å®Œæˆ';
    else if (status === 'failed') return 'å¤±è´¥';
    else return 'æœªçŸ¥çŠ¶æ€';
}

console.log('å¤šé‡ if:', getStatusMessage1('completed'));

// æ¨èï¼šå¯¹è±¡æ˜ å°„
const statusMessages = {
    pending: 'å¾…å¤„ç†',
    processing: 'å¤„ç†ä¸­',
    completed: 'å·²å®Œæˆ',
    failed: 'å¤±è´¥'
};

function getStatusMessage2(status) {
    return statusMessages[status] || 'æœªçŸ¥çŠ¶æ€';
}

console.log('å¯¹è±¡æ˜ å°„:', getStatusMessage2('completed'));

// æ›´å¤æ‚çš„åœºæ™¯ï¼šæ˜ å°„åˆ°å‡½æ•°
const actions = {
    add: (a, b) => a + b,
    subtract: (a, b) => a - b,
    multiply: (a, b) => a * b,
    divide: (a, b) => a / b
};

function calculate(operation, a, b) {
    return actions[operation]?.(a, b) ?? 'Invalid operation';
}

console.log('\nè®¡ç®—å™¨:');
console.log('10 + 5 =', calculate('add', 10, 5));
console.log('10 * 5 =', calculate('multiply', 10, 5));</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/common.js"></script>
</body>
</html>
