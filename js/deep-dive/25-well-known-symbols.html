<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Well-Known Symbols - JavaScript æ·±åº¦å­¦ä¹ </title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/page.css">
</head>
<body>
    <div class="page-layout">
        <div class="doc-panel">
            <h1>Well-Known Symbols</h1>
            
            <h2>æ¦‚è¿°</h2>
            <p>Well-Known Symbols æ˜¯è¯­è¨€å†…ç½®çš„ç‰¹æ®Š Symbolï¼Œç”¨äºè‡ªå®šä¹‰å¯¹è±¡çš„å†…éƒ¨è¡Œä¸ºã€‚</p>
            
            <h2>ä¸€ã€å¸¸ç”¨ Well-Known Symbols</h2>
            
            <h3>1.1 Symbol.iterator</h3>
            <pre><code>// è‡ªå®šä¹‰è¿­ä»£è¡Œä¸º
const range = {
    from: 1,
    to: 5,
    
    [Symbol.iterator]() {
        let current = this.from;
        return {
            next: () => {
                if (current <= this.to) {
                    return { value: current++, done: false };
                }
                return { done: true };
            }
        };
    }
};

for (const num of range) {
    console.log(num);  // 1, 2, 3, 4, 5
}</code></pre>
            
            <h3>1.2 Symbol.toStringTag</h3>
            <pre><code>// è‡ªå®šä¹‰ toString è¾“å‡º
class MyClass {
    get [Symbol.toStringTag]() {
        return 'MyClass';
    }
}

const obj = new MyClass();
console.log(obj.toString());  // "[object MyClass]"</code></pre>
            
            <h3>1.3 Symbol.toPrimitive</h3>
            <pre><code>// è‡ªå®šä¹‰ç±»å‹è½¬æ¢
const obj = {
    [Symbol.toPrimitive](hint) {
        if (hint === 'number') return 42;
        if (hint === 'string') return 'hello';
        return true;
    }
};

console.log(+obj);      // 42
console.log(`${obj}`);  // "hello"</code></pre>
            
            <h2>äºŒã€å…¶ä»– Well-Known Symbols</h2>
            
            <h3>2.1 Symbol.hasInstance</h3>
            <pre><code>class MyArray {
    static [Symbol.hasInstance](instance) {
        return Array.isArray(instance);
    }
}

console.log([] instanceof MyArray);  // true</code></pre>
            
            <h3>2.2 Symbol.species</h3>
            <pre><code>class MyArray extends Array {
    static get [Symbol.species]() {
        return Array;
    }
}

const arr = new MyArray(1, 2, 3);
const mapped = arr.map(x => x * 2);
console.log(mapped instanceof Array);  // true</code></pre>
            
            <h2>ä¸‰ã€æœ€ä½³å®è·µ</h2>
            
            <div class="tip">
                <ol>
                    <li><strong>åˆç†ä½¿ç”¨</strong>ï¼šä¸è¦è¿‡åº¦è‡ªå®šä¹‰</li>
                    <li><strong>ä¿æŒä¸€è‡´</strong>ï¼šç¬¦åˆé¢„æœŸè¡Œä¸º</li>
                    <li><strong>æ–‡æ¡£åŒ–</strong>ï¼šè¯´æ˜è‡ªå®šä¹‰è¡Œä¸º</li>
                </ol>
            </div>
            
            <h2>å‚è€ƒèµ„æ–™</h2>
            <ul>
                <li><a href="https://tc39.es/ecma262/#sec-well-known-symbols" target="_blank">ECMAScript - Well-Known Symbols</a></li>
            </ul>
            
            <div class="nav-links">
                <a href="25-symbol-internals.html" class="nav-link prev">ä¸Šä¸€èŠ‚ï¼šSymbol å†…éƒ¨æ§½ä½</a>
                <a href="../index.html" class="nav-link home">è¿”å›é¦–é¡µ</a>
                <a href="25-private-fields.html" class="nav-link next">ä¸‹ä¸€èŠ‚ï¼šç§æœ‰å­—æ®µå®ç°</a>
            </div>
        </div>
        
        <div class="code-panel">
            <h2 style="color: #60a5fa; margin-bottom: 1.5rem;">ğŸ’» äº¤äº’å¼ä»£ç ç¤ºä¾‹</h2>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 1ï¼šSymbol.iterator</h3>
                <div class="code-block">
                    <pre><code>console.log('=== Symbol.iterator ===\n');

const range = {
    from: 1,
    to: 5,
    
    [Symbol.iterator]() {
        let current = this.from;
        return {
            next: () => {
                if (current <= this.to) {
                    return { value: current++, done: false };
                }
                return { done: true };
            }
        };
    }
};

for (const num of range) {
    console.log(num);
}</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 2ï¼šSymbol.toPrimitive</h3>
                <div class="code-block">
                    <pre><code>console.log('=== Symbol.toPrimitive ===\n');

const obj = {
    value: 42,
    
    [Symbol.toPrimitive](hint) {
        console.log('hint:', hint);
        if (hint === 'number') return this.value;
        if (hint === 'string') return `Value: ${this.value}`;
        return this.value;
    }
};

console.log(+obj);
console.log(`${obj}`);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/common.js"></script>
</body>
</html>
