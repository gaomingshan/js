<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯é€‰é“¾ä¸ç©ºå€¼åˆå¹¶ - JavaScript æ·±åº¦å­¦ä¹ </title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/page.css">
</head>
<body>
    <div class="page-layout">
        <div class="doc-panel">
            <h1>å¯é€‰é“¾ä¸ç©ºå€¼åˆå¹¶</h1>
            
            <h2>æ¦‚è¿°</h2>
            <p>å¯é€‰é“¾ï¼ˆ?.ï¼‰å’Œç©ºå€¼åˆå¹¶ï¼ˆ??ï¼‰æ˜¯ ES2020 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œç®€åŒ–äº†å¤„ç† null/undefined çš„ä»£ç ã€‚</p>
            
            <h2>ä¸€ã€å¯é€‰é“¾</h2>
            
            <h3>1.1 åŸºæœ¬ç”¨æ³•</h3>
            <pre><code>// ä¼ ç»Ÿæ–¹å¼
if (user && user.profile && user.profile.name) {
    console.log(user.profile.name);
}

// å¯é€‰é“¾
console.log(user?.profile?.name);</code></pre>
            
            <h3>1.2 ä¸‰ç§å½¢å¼</h3>
            <pre><code>obj?.prop        // å±æ€§è®¿é—®
obj?.[expr]      // è®¡ç®—å±æ€§
func?.()         // å‡½æ•°è°ƒç”¨</code></pre>
            
            <h2>äºŒã€ç©ºå€¼åˆå¹¶</h2>
            
            <h3>2.1 ä¸ || çš„åŒºåˆ«</h3>
            <pre><code>// || æŠŠ 0ã€''ã€false å½“ä½œ falsy
const count = 0;
const v1 = count || 10;  // 10ï¼ˆé”™è¯¯ï¼‰

// ?? åªæ£€æŸ¥ null/undefined
const v2 = count ?? 10;  // 0ï¼ˆæ­£ç¡®ï¼‰</code></pre>
            
            <h3>2.2 é…åˆä½¿ç”¨</h3>
            <pre><code>const theme = user?.profile?.theme ?? 'light';</code></pre>
            
            <h2>ä¸‰ã€æœ€ä½³å®è·µ</h2>
            
            <div class="tip">
                <ol>
                    <li><strong>ä¼˜å…ˆä½¿ç”¨å¯é€‰é“¾</strong></li>
                    <li><strong>é…åˆç©ºå€¼åˆå¹¶æä¾›é»˜è®¤å€¼</strong></li>
                    <li><strong>é¿å…è¿‡åº¦ä½¿ç”¨</strong></li>
                </ol>
            </div>
            
            <h2>å‚è€ƒèµ„æ–™</h2>
            <ul>
                <li><a href="https://tc39.es/proposal-optional-chaining/" target="_blank">TC39 - Optional Chaining</a></li>
            </ul>
            
            <div class="nav-links">
                <a href="23-template-literals.html" class="nav-link prev">ä¸Šä¸€èŠ‚ï¼šæ¨¡æ¿å­—ç¬¦ä¸²</a>
                <a href="../index.html" class="nav-link home">è¿”å›é¦–é¡µ</a>
                <a href="24-module-resolution.html" class="nav-link next">ä¸‹ä¸€èŠ‚ï¼šæ¨¡å—è§£æç®—æ³•</a>
            </div>
        </div>
        
        <div class="code-panel">
            <h2 style="color: #60a5fa; margin-bottom: 1.5rem;">ğŸ’» äº¤äº’å¼ä»£ç ç¤ºä¾‹</h2>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 1ï¼šå¯é€‰é“¾</h3>
                <div class="code-block">
                    <pre><code>console.log('=== å¯é€‰é“¾ ===\n');

const user = { profile: { name: 'Alice' } };

console.log(user?.profile?.name);
console.log(user?.email);

const nullUser = null;
console.log(nullUser?.profile?.name);</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
            
            <div class="code-example">
                <h3>ç¤ºä¾‹ 2ï¼šç©ºå€¼åˆå¹¶</h3>
                <div class="code-block">
                    <pre><code>console.log('=== ç©ºå€¼åˆå¹¶ ===\n');

const count = 0;
console.log('count || 10:', count || 10);
console.log('count ?? 10:', count ?? 10);

const str = '';
console.log('str || "default":', str || 'default');
console.log('str ?? "default":', str ?? 'default');</code></pre>
                </div>
                <button class="run-btn">â–¶ è¿è¡Œä»£ç </button>
                <div class="output"></div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/common.js"></script>
</body>
</html>
