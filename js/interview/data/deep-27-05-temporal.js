/**
 * Temporal API提案
 * 包含多种题型：单选、多选、代码输出、判断、代码补全
 */
window.quizData_Deep2705Temporal = {
  "config": {
    "title": "Temporal API提案",
    "icon": "⏰",
    "description": "掌握现代日期时间API",
    "primaryColor": "#10b981",
    "bgGradient": "linear-gradient(135deg, #10b981 0%, #059669 100%)"
  },
  "questions": [
    {"type": "single-choice", "difficulty": "easy", "tags": ["Temporal"], "question": "Temporal的主要目的是？", "options": ["替代Date对象", "时区转换", "性能优化", "字符串处理"], "correctAnswer": "A", "explanation": {"title": "Temporal API", "code": "// Temporal：现代日期时间API\n// 解决Date的问题\n\n// ❌ Date问题\nconst d = new Date('2024-01-01');\n// - 可变\n// - 时区混乱\n// - API设计差\n\n// ✅ Temporal\nconst instant = Temporal.Now.instant();\nconst date = Temporal.PlainDate.from('2024-01-01');\n// - 不可变\n// - 时区明确\n// - API清晰"}},
    {"type": "multiple-choice", "difficulty": "hard", "tags": ["类型"], "question": "Temporal包含哪些类型？", "options": ["PlainDate", "PlainTime", "Instant", "Duration", "Calendar", "String"], "correctAnswer": ["A", "B", "C", "D", "E"], "explanation": {"title": "Temporal类型", "code": "// 1. Instant：时间戳\nconst instant = Temporal.Now.instant();\n\n// 2. PlainDate：日期（无时间）\nconst date = Temporal.PlainDate.from('2024-01-01');\n\n// 3. PlainTime：时间（无日期）\nconst time = Temporal.PlainTime.from('14:30:00');\n\n// 4. PlainDateTime：日期时间（无时区）\nconst dt = Temporal.PlainDateTime.from('2024-01-01T14:30');\n\n// 5. ZonedDateTime：带时区的日期时间\nconst zdt = Temporal.ZonedDateTime.from({\n  timeZone: 'Asia/Shanghai',\n  year: 2024,\n  month: 1,\n  day: 1\n});\n\n// 6. Duration：时间段\nconst dur = Temporal.Duration.from({ hours: 2, minutes: 30 });"}},
    {"type": "true-false", "difficulty": "medium", "tags": ["不可变"], "question": "Temporal对象是不可变的", "correctAnswer": "A", "explanation": {"title": "不可变性", "code": "// Temporal对象不可变\nconst date = Temporal.PlainDate.from('2024-01-01');\n\n// ❌ 无法直接修改\n// date.day = 15;  // Error\n\n// ✅ 返回新对象\nconst newDate = date.add({ days: 7 });\nconsole.log(date);     // 2024-01-01（未变）\nconsole.log(newDate);  // 2024-01-08（新对象）\n\n// vs Date（可变）\nconst d = new Date('2024-01-01');\nd.setDate(15);  // 修改原对象"}},
    {"type": "code-completion", "difficulty": "hard", "tags": ["创建"], "question": "创建日期对象，空白处填什么？", "code": "const date = Temporal.______.from('2024-12-25');", "options": ["PlainDate", "Date", "Instant", "DateTime"], "correctAnswer": "A", "explanation": {"title": "创建Temporal对象", "code": "// PlainDate：纯日期\nconst date = Temporal.PlainDate.from('2024-12-25');\nconst date2 = Temporal.PlainDate.from({\n  year: 2024,\n  month: 12,\n  day: 25\n});\n\n// PlainTime：纯时间\nconst time = Temporal.PlainTime.from('14:30:00');\n\n// PlainDateTime：日期+时间\nconst dt = Temporal.PlainDateTime.from('2024-12-25T14:30:00');\n\n// Instant：时间戳\nconst instant = Temporal.Instant.from('2024-12-25T14:30:00Z');\n\n// 当前时间\nconst now = Temporal.Now.plainDateISO();\nconst nowTime = Temporal.Now.plainTimeISO();"}},
    {"type": "code-output", "difficulty": "hard", "tags": ["运算"], "question": "日期运算的输出？", "code": "const date = Temporal.PlainDate.from('2024-01-01');\nconst newDate = date.add({ months: 1, days: 15 });\nconsole.log(newDate.toString());", "options": ["'2024-02-16'", "'2024-01-16'", "'2024-02-15'", "报错"], "correctAnswer": "A", "explanation": {"title": "日期运算", "code": "// 加法\nconst date = Temporal.PlainDate.from('2024-01-01');\nconst newDate = date.add({ months: 1, days: 15 });\n// 2024-01-01 + 1月 = 2024-02-01\n// 2024-02-01 + 15天 = 2024-02-16\n\n// 减法\nconst earlier = date.subtract({ days: 7 });\n// 2024-01-01 - 7天 = 2023-12-25\n\n// 比较\nconst d1 = Temporal.PlainDate.from('2024-01-01');\nconst d2 = Temporal.PlainDate.from('2024-12-31');\nTemporal.PlainDate.compare(d1, d2);  // -1\n\n// 差值\nconst diff = d2.since(d1);\nconsole.log(diff.days);  // 365"}},
    {"type": "multiple-choice", "difficulty": "hard", "tags": ["时区"], "question": "时区处理的特点？", "options": ["明确的时区", "DST处理", "时区转换", "总是UTC", "IANA数据库", "自动检测"], "correctAnswer": ["A", "B", "C", "E"], "explanation": {"title": "时区处理", "code": "// ZonedDateTime：带时区\nconst zdt = Temporal.ZonedDateTime.from({\n  timeZone: 'Asia/Shanghai',\n  year: 2024,\n  month: 1,\n  day: 1,\n  hour: 12\n});\n\n// 时区转换\nconst tokyo = zdt.withTimeZone('Asia/Tokyo');\nconst ny = zdt.withTimeZone('America/New_York');\n\n// DST（夏令时）自动处理\nconst spring = Temporal.ZonedDateTime.from({\n  timeZone: 'America/New_York',\n  year: 2024,\n  month: 3,\n  day: 10,  // DST开始\n  hour: 2\n});\n\n// 时区信息\nconsole.log(zdt.timeZone.id);  // 'Asia/Shanghai'\nconsole.log(zdt.offset);       // '+08:00'"}},
    {"type": "true-false", "difficulty": "easy", "tags": ["提案"], "question": "Temporal目前是Stage 3提案", "correctAnswer": "A", "explanation": {"title": "提案状态", "code": "// Temporal：Stage 3\n// 接近完成，语法稳定\n\n// 使用polyfill\nimport { Temporal } from '@js-temporal/polyfill';\n\nconst date = Temporal.Now.plainDateISO();\n\n// 或CDN\n<script src=\"https://cdn.jsdelivr.net/npm/@js-temporal/polyfill/dist/index.umd.js\"></script>\n\n// 浏览器支持：\n// 目前无原生支持，需要polyfill"}},
    {"type": "code-completion", "difficulty": "hard", "tags": ["格式化"], "question": "格式化日期，空白处填什么？", "code": "const date = Temporal.PlainDate.from('2024-12-25');\nconst str = date.______({\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric'\n});", "options": ["toLocaleString", "format", "toString", "print"], "correctAnswer": "A", "explanation": {"title": "格式化", "code": "// toLocaleString：本地化格式\nconst date = Temporal.PlainDate.from('2024-12-25');\n\nconst str = date.toLocaleString('zh-CN', {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric'\n});\n// '2024年12月25日'\n\nconst en = date.toLocaleString('en-US', {\n  year: 'numeric',\n  month: 'short',\n  day: 'numeric'\n});\n// 'Dec 25, 2024'\n\n// toString：ISO格式\nconsole.log(date.toString());  // '2024-12-25'\n\n// 自定义格式\nfunction format(date, pattern) {\n  return pattern\n    .replace('YYYY', date.year)\n    .replace('MM', String(date.month).padStart(2, '0'))\n    .replace('DD', String(date.day).padStart(2, '0'));\n}\n\nformat(date, 'YYYY-MM-DD');  // '2024-12-25'"}},
    {"type": "multiple-choice", "difficulty": "hard", "tags": ["Duration"], "question": "Duration的用途？", "options": ["表示时间段", "加减运算", "时间比较", "格式化日期", "计算差值", "倒计时"], "correctAnswer": ["A", "B", "E", "F"], "explanation": {"title": "Duration", "code": "// Duration：时间段\nconst dur = Temporal.Duration.from({\n  hours: 2,\n  minutes: 30,\n  seconds: 15\n});\n\n// 应用到日期\nconst date = Temporal.PlainDate.from('2024-01-01');\nconst newDate = date.add(dur);  // 加2.5小时\n\n// 计算差值\nconst d1 = Temporal.PlainDate.from('2024-01-01');\nconst d2 = Temporal.PlainDate.from('2024-12-31');\nconst diff = d2.since(d1);\nconsole.log(diff.days);    // 365\nconsole.log(diff.weeks);   // 52\nconsole.log(diff.months);  // 11\n\n// Duration运算\nconst dur1 = Temporal.Duration.from({ hours: 2 });\nconst dur2 = Temporal.Duration.from({ minutes: 30 });\nconst total = dur1.add(dur2);\nconsole.log(total.hours, total.minutes);  // 2, 30"}},
    {"type": "code-output", "difficulty": "hard", "tags": ["最佳实践"], "question": "Temporal vs Date的优势？", "code": "// Date问题\nconst d = new Date('2024-01-01');\nd.setMonth(d.getMonth() + 1);\n\n// Temporal\nconst t = Temporal.PlainDate.from('2024-01-01');\nconst t2 = t.add({ months: 1 });\n\n// 主要区别？", "options": ["Temporal不可变", "Temporal可变", "一样", "Temporal更慢"], "correctAnswer": "A", "explanation": {"title": "Temporal优势", "code": "// 1. 不可变\n// ❌ Date（可变，容易出错）\nconst d = new Date('2024-01-01');\nconst d2 = d;\nd.setMonth(1);\nconsole.log(d2);  // 也被修改了！\n\n// ✅ Temporal（不可变，安全）\nconst t = Temporal.PlainDate.from('2024-01-01');\nconst t2 = t;\nconst t3 = t.add({ months: 1 });\nconsole.log(t);   // 2024-01-01（未变）\nconsole.log(t3);  // 2024-02-01（新对象）\n\n// 2. 时区明确\n// ❌ Date（混乱）\nconst d = new Date('2024-01-01');\n// 本地时区？UTC？不清楚！\n\n// ✅ Temporal（明确）\nconst plain = Temporal.PlainDate.from('2024-01-01');  // 无时区\nconst zoned = Temporal.ZonedDateTime.from({\n  timeZone: 'Asia/Shanghai',\n  year: 2024, month: 1, day: 1\n});  // 明确时区\n\n// 3. API清晰\n// ❌ Date\nd.getMonth();  // 0-11（混乱）\nd.getDay();    // 星期（不是日期！）\n\n// ✅ Temporal\nt.month;       // 1-12（直观）\nt.day;         // 日期\nt.dayOfWeek;   // 星期\n\n// 4. 准确计算\n// ❌ Date（不准确）\nconst d = new Date('2024-01-31');\nd.setMonth(1);  // 2月31日？变成3月！\n\n// ✅ Temporal（可控）\nconst t = Temporal.PlainDate.from('2024-01-31');\nconst t2 = t.add({ months: 1 }, { overflow: 'constrain' });\nconsole.log(t2);  // 2024-02-29（2月最后一天）"}}
  ],
  "navigation": {
    "prev": {"title": "装饰器提案", "url": "27-04-decorators-proposal.html"},
    "next": {"title": "返回首页", "url": "../index.html"}
  }
};
