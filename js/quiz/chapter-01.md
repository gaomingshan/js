# ç¬¬ 1 ç« ï¼šJavaScript åŸºç¡€ä¸è¯­æ³• - é¢è¯•é¢˜

**éš¾åº¦åˆ†å¸ƒï¼š** ğŸŸ¢ ç®€å• x3 | ğŸŸ¡ ä¸­ç­‰ x4 | ğŸ”´ å›°éš¾ x3

---

## ç¬¬ 1 é¢˜ ğŸŸ¢

**ç±»å‹ï¼š** å•é€‰é¢˜  
**æ ‡ç­¾ï¼š** åŸºç¡€æ¦‚å¿µ

### é¢˜ç›®

JavaScript æ˜¯ä¸€ç§ä»€ä¹ˆç±»å‹çš„è¯­è¨€ï¼Ÿ

**é€‰é¡¹ï¼š**
- A. ç¼–è¯‘å‹è¯­è¨€
- B. è§£é‡Šå‹è¯­è¨€
- C. æ±‡ç¼–è¯­è¨€
- D. æ ‡è®°è¯­è¨€

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šB

### ğŸ“– è§£æ

**JavaScript æ˜¯è§£é‡Šå‹è¯­è¨€ï¼ˆå¸¦ JIT ç¼–è¯‘ï¼‰**

**æ‰§è¡Œè¿‡ç¨‹ï¼š**
```
æºä»£ç  â†’ è§£æ â†’ å­—èŠ‚ç  â†’ è§£é‡Šæ‰§è¡Œï¼ˆæˆ– JIT ç¼–è¯‘ï¼‰
```

**å…³é”®ç‰¹æ€§ï¼š**
- âœ… é€è¡Œè§£é‡Šæ‰§è¡Œ
- âœ… æ— éœ€é¢„å…ˆç¼–è¯‘
- âœ… è·¨å¹³å°è¿è¡Œ
- âœ… ç°ä»£å¼•æ“ä½¿ç”¨ JITï¼ˆå³æ—¶ç¼–è¯‘ï¼‰ä¼˜åŒ–

**ä¸ç¼–è¯‘å‹è¯­è¨€å¯¹æ¯”ï¼š**
- **ç¼–è¯‘å‹**ï¼ˆå¦‚ C++ï¼‰ï¼šæºä»£ç  â†’ ç¼–è¯‘ â†’ æœºå™¨ç  â†’ æ‰§è¡Œ
- **è§£é‡Šå‹**ï¼ˆå¦‚ JavaScriptï¼‰ï¼šæºä»£ç  â†’ è§£é‡Šå™¨ â†’ æ‰§è¡Œ

**æ³¨æ„ï¼š** è™½ç„¶ V8 ç­‰å¼•æ“ä¼šå°†çƒ­ç‚¹ä»£ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œä½† JavaScript æœ¬è´¨ä¸Šä»æ˜¯è§£é‡Šå‹è¯­è¨€ã€‚

</details>

---

## ç¬¬ 2 é¢˜ ğŸŸ¢

**ç±»å‹ï¼š** å•é€‰é¢˜  
**æ ‡ç­¾ï¼š** ECMAScript ç‰ˆæœ¬

### é¢˜ç›®

ES6 æ˜¯å“ªä¸€å¹´å‘å¸ƒçš„ï¼Ÿ

**é€‰é¡¹ï¼š**
- A. 2009
- B. 2011
- C. 2015
- D. 2016

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šC

### ğŸ“– è§£æ

**ES6ï¼ˆES2015ï¼‰äº 2015 å¹´ 6 æœˆå‘å¸ƒ**

**é‡è¦ç‰ˆæœ¬æ—¶é—´çº¿ï¼š**
- **1997**ï¼šES1ï¼ˆECMAScript 1ï¼‰
- **2009**ï¼šES5ï¼ˆå¹¿æ³›ä½¿ç”¨çš„ç‰ˆæœ¬ï¼‰
- **2015**ï¼šES6/ES2015ï¼ˆé‡å¤§æ›´æ–°ï¼‰
- **2016+**ï¼šES2016ã€ES2017...ï¼ˆæ¯å¹´æ›´æ–°ï¼‰

**ES6 ä¸»è¦æ–°ç‰¹æ€§ï¼š**
```javascript
// let å’Œ const
let x = 1;
const y = 2;

// ç®­å¤´å‡½æ•°
const add = (a, b) => a + b;

// æ¨¡æ¿å­—ç¬¦ä¸²
const msg = `Hello, ${name}`;

// è§£æ„èµ‹å€¼
const { name, age } = user;

// Promise
fetch(url).then(res => res.json());

// Class
class User {
  constructor(name) {
    this.name = name;
  }
}
```

**å‘½åè§„åˆ™ï¼š** ä» ES2016 å¼€å§‹ï¼Œé‡‡ç”¨å¹´ä»½å‘½åï¼ˆES2016ã€ES2017...ï¼‰

</details>

---

## ç¬¬ 3 é¢˜ ğŸŸ¢

**ç±»å‹ï¼š** åˆ¤æ–­é¢˜  
**æ ‡ç­¾ï¼š** å˜é‡å£°æ˜

### é¢˜ç›®

ä½¿ç”¨ `var` å£°æ˜çš„å˜é‡å­˜åœ¨å—çº§ä½œç”¨åŸŸã€‚

**é€‰é¡¹ï¼š**
- A. âœ… æ­£ç¡®
- B. âŒ é”™è¯¯

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šBï¼ˆé”™è¯¯ï¼‰

### ğŸ“– è§£æ

**`var` åªæœ‰å‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸ**

```javascript
// var æ²¡æœ‰å—çº§ä½œç”¨åŸŸ
if (true) {
  var x = 10;
}
console.log(x);  // 10ï¼ˆå¯ä»¥è®¿é—®ï¼‰

// let/const æœ‰å—çº§ä½œç”¨åŸŸ
if (true) {
  let y = 20;
}
console.log(y);  // ReferenceError: y is not defined
```

**var çš„ä½œç”¨åŸŸè§„åˆ™ï¼š**

**1. å‡½æ•°ä½œç”¨åŸŸ**
```javascript
function test() {
  var a = 1;
}
console.log(a);  // ReferenceError
```

**2. å…¨å±€ä½œç”¨åŸŸ**
```javascript
var b = 2;  // å…¨å±€å˜é‡
console.log(window.b);  // 2ï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰
```

**3. å˜é‡æå‡**
```javascript
console.log(c);  // undefinedï¼ˆä¸æŠ¥é”™ï¼‰
var c = 3;

// ç­‰ä»·äº
var c;
console.log(c);
c = 3;
```

**æœ€ä½³å®è·µï¼š** ä½¿ç”¨ `let` å’Œ `const` æ›¿ä»£ `var`

</details>

---

## ç¬¬ 4 é¢˜ ğŸŸ¡

**ç±»å‹ï¼š** å¤šé€‰é¢˜  
**æ ‡ç­¾ï¼š** æ•°æ®ç±»å‹

### é¢˜ç›®

JavaScript çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆPrimitive Typesï¼‰åŒ…æ‹¬å“ªäº›ï¼Ÿ

**é€‰é¡¹ï¼š**
- A. Stringã€Numberã€Boolean
- B. Nullã€Undefined
- C. Symbolã€BigInt
- D. Objectã€Array

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šA, B, C

### ğŸ“– è§£æ

**JavaScript çš„ 7 ç§åŸºæœ¬æ•°æ®ç±»å‹**

**1. Stringï¼ˆå­—ç¬¦ä¸²ï¼‰**
```javascript
const str = "Hello";
typeof str;  // "string"
```

**2. Numberï¼ˆæ•°å­—ï¼‰**
```javascript
const num = 42;
const float = 3.14;
const infinity = Infinity;
const nan = NaN;
typeof num;  // "number"
```

**3. Booleanï¼ˆå¸ƒå°”ï¼‰**
```javascript
const flag = true;
typeof flag;  // "boolean"
```

**4. Nullï¼ˆç©ºï¼‰**
```javascript
const empty = null;
typeof empty;  // "object"ï¼ˆå†å²é—ç•™ bugï¼‰
```

**5. Undefinedï¼ˆæœªå®šä¹‰ï¼‰**
```javascript
let x;
typeof x;  // "undefined"
```

**6. Symbolï¼ˆç¬¦å·ï¼‰- ES6**
```javascript
const sym = Symbol('id');
typeof sym;  // "symbol"
```

**7. BigIntï¼ˆå¤§æ•´æ•°ï¼‰- ES2020**
```javascript
const big = 9007199254740991n;
typeof big;  // "bigint"
```

**ä¸ºä»€ä¹ˆ D é€‰é¡¹é”™è¯¯ï¼Ÿ**
- **Object** å’Œ **Array** æ˜¯å¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰ï¼Œä¸æ˜¯åŸºæœ¬ç±»å‹
- å¼•ç”¨ç±»å‹å­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼ŒåŸºæœ¬ç±»å‹å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­

</details>

---

## ç¬¬ 5 é¢˜ ğŸŸ¡

**ç±»å‹ï¼š** ä»£ç è¾“å‡ºé¢˜  
**æ ‡ç­¾ï¼š** ç±»å‹è½¬æ¢

### é¢˜ç›®

ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ

```javascript
console.log(1 + '2');
console.log(1 - '2');
console.log('5' * 2);
console.log('5' / 2);
```

**é€‰é¡¹ï¼š**
- A. `"12"`, `-1`, `10`, `2.5`
- B. `"12"`, `NaN`, `NaN`, `NaN`
- C. `3`, `-1`, `10`, `2.5`
- D. `"12"`, `"1-2"`, `"52"`, `"5/2"`

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šA

### ğŸ“– è§£æ

**ç±»å‹è½¬æ¢è§„åˆ™**

**1. åŠ æ³•è¿ç®—ç¬¦ï¼ˆ`+`ï¼‰**
```javascript
1 + '2'  // "12"
// è§„åˆ™ï¼šå¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªä¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸²
// 1 â†’ "1"
// "1" + "2" = "12"
```

**2. å‡æ³•è¿ç®—ç¬¦ï¼ˆ`-`ï¼‰**
```javascript
1 - '2'  // -1
// è§„åˆ™ï¼šå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—
// '2' â†’ 2
// 1 - 2 = -1
```

**3. ä¹˜æ³•è¿ç®—ç¬¦ï¼ˆ`*`ï¼‰**
```javascript
'5' * 2  // 10
// è§„åˆ™ï¼šå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—
// '5' â†’ 5
// 5 * 2 = 10
```

**4. é™¤æ³•è¿ç®—ç¬¦ï¼ˆ`/`ï¼‰**
```javascript
'5' / 2  // 2.5
// è§„åˆ™ï¼šå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—
// '5' â†’ 5
// 5 / 2 = 2.5
```

**æ€»ç»“ï¼š**
- â• åŠ æ³•ï¼šå­—ç¬¦ä¸²æ‹¼æ¥ä¼˜å…ˆ
- â–âœ–ï¸â— å‡ä¹˜é™¤ï¼šæ•°å­—è¿ç®—ä¼˜å…ˆ

**æ›´å¤šä¾‹å­ï¼š**
```javascript
// åŠ æ³•ç‰¹ä¾‹
true + 1        // 2ï¼ˆtrue â†’ 1ï¼‰
false + 1       // 1ï¼ˆfalse â†’ 0ï¼‰
'5' + null      // "5null"
'5' + undefined // "5undefined"

// ç®—æœ¯è¿ç®—
'5' - null      // 5ï¼ˆnull â†’ 0ï¼‰
'5' - undefined // NaNï¼ˆundefined â†’ NaNï¼‰
```

</details>

---

## ç¬¬ 6 é¢˜ ğŸŸ¡

**ç±»å‹ï¼š** å•é€‰é¢˜  
**æ ‡ç­¾ï¼š** å˜é‡å£°æ˜

### é¢˜ç›®

ä»¥ä¸‹å…³äº `let`ã€`const`ã€`var` çš„è¯´æ³•ï¼Œå“ªä¸ªæ˜¯é”™è¯¯çš„ï¼Ÿ

**é€‰é¡¹ï¼š**
- A. `let` å’Œ `const` å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œ`var` æ²¡æœ‰
- B. `const` å£°æ˜çš„å˜é‡ä¸èƒ½è¢«é‡æ–°èµ‹å€¼
- C. `let` å’Œ `const` å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰
- D. `const` å£°æ˜çš„å¯¹è±¡çš„å±æ€§ä¸èƒ½è¢«ä¿®æ”¹

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šD

### ğŸ“– è§£æ

**D é€‰é¡¹é”™è¯¯ï¼š`const` å£°æ˜çš„å¯¹è±¡å±æ€§å¯ä»¥è¢«ä¿®æ”¹**

```javascript
const obj = { name: 'Alice' };

// âœ… å¯ä»¥ä¿®æ”¹å±æ€§
obj.name = 'Bob';
obj.age = 25;
console.log(obj);  // { name: 'Bob', age: 25 }

// âŒ ä¸èƒ½é‡æ–°èµ‹å€¼
obj = { name: 'Charlie' };  // TypeError: Assignment to constant variable
```

**const çš„æœ¬è´¨ï¼š**
- `const` ä¿è¯çš„æ˜¯**å˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ä¸å˜**
- å¯¹äºåŸºæœ¬ç±»å‹ï¼šå€¼ä¸å¯å˜
- å¯¹äºå¼•ç”¨ç±»å‹ï¼šå¼•ç”¨åœ°å€ä¸å¯å˜ï¼Œä½†å¯¹è±¡å†…å®¹å¯å˜

**è¯¦ç»†å¯¹æ¯”ï¼š**

| ç‰¹æ€§ | var | let | const |
|------|-----|-----|-------|
| ä½œç”¨åŸŸ | å‡½æ•°ä½œç”¨åŸŸ | å—çº§ä½œç”¨åŸŸ | å—çº§ä½œç”¨åŸŸ |
| å˜é‡æå‡ | æœ‰ï¼ˆåˆå§‹åŒ–ä¸º undefinedï¼‰ | æœ‰ï¼ˆä½†ä¸å¯è®¿é—®ï¼‰ | æœ‰ï¼ˆä½†ä¸å¯è®¿é—®ï¼‰ |
| æš‚æ—¶æ€§æ­»åŒº | æ—  | æœ‰ | æœ‰ |
| é‡å¤å£°æ˜ | å…è®¸ | ä¸å…è®¸ | ä¸å…è®¸ |
| é‡æ–°èµ‹å€¼ | å…è®¸ | å…è®¸ | ä¸å…è®¸ |
| å…¨å±€å¯¹è±¡å±æ€§ | æ˜¯ | å¦ | å¦ |

**æš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰ç¤ºä¾‹ï¼š**
```javascript
console.log(a);  // ReferenceError: Cannot access 'a' before initialization
let a = 1;

// TDZ åŒºåŸŸ
{
  // TDZ å¼€å§‹
  console.log(x);  // ReferenceError
  let x = 10;  // TDZ ç»“æŸ
}
```

**å†»ç»“å¯¹è±¡ï¼š**
```javascript
const obj = Object.freeze({ name: 'Alice' });
obj.name = 'Bob';  // ä¸¥æ ¼æ¨¡å¼ä¸‹æŠ¥é”™ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹é™é»˜å¤±è´¥
```

</details>

---

## ç¬¬ 7 é¢˜ ğŸŸ¡

**ç±»å‹ï¼š** ä»£ç è¾“å‡ºé¢˜  
**æ ‡ç­¾ï¼š** typeof è¿ç®—ç¬¦

### é¢˜ç›®

ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ

```javascript
console.log(typeof null);
console.log(typeof undefined);
console.log(typeof []);
console.log(typeof function(){});
```

**é€‰é¡¹ï¼š**
- A. `"null"`, `"undefined"`, `"array"`, `"function"`
- B. `"object"`, `"undefined"`, `"object"`, `"function"`
- C. `"null"`, `"undefined"`, `"object"`, `"object"`
- D. `"object"`, `"undefined"`, `"array"`, `"object"`

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šB

### ğŸ“– è§£æ

**typeof è¿ç®—ç¬¦çš„è¿”å›å€¼**

```javascript
// åŸºæœ¬ç±»å‹
typeof undefined     // "undefined"
typeof true          // "boolean"
typeof 42            // "number"
typeof "hello"       // "string"
typeof Symbol('id')  // "symbol"
typeof 9007n         // "bigint"

// ç‰¹æ®Šæƒ…å†µ
typeof null          // "object"ï¼ˆå†å²é—ç•™ bugï¼‰
typeof []            // "object"
typeof {}            // "object"
typeof function(){}  // "function"

// NaN ä¹Ÿæ˜¯ number
typeof NaN           // "number"
```

**ä¸ºä»€ä¹ˆ `typeof null` è¿”å› `"object"`ï¼Ÿ**

è¿™æ˜¯ JavaScript çš„ä¸€ä¸ªå†å²é—ç•™ bugï¼š
- åœ¨ JavaScript æœ€åˆçš„å®ç°ä¸­ï¼Œå€¼ä»¥ 32 ä½å­˜å‚¨
- ç±»å‹æ ‡ç­¾å­˜å‚¨åœ¨ä½ 3 ä½ï¼š
  - `000`: å¯¹è±¡
  - `001`: æ•´æ•°
  - `010`: æµ®ç‚¹æ•°
  - `100`: å­—ç¬¦ä¸²
  - `110`: å¸ƒå°”
- `null` çš„å€¼æ˜¯å…¨ 0ï¼Œå› æ­¤è¢«é”™è¯¯è¯†åˆ«ä¸ºå¯¹è±¡
- è™½ç„¶æ˜¯ bugï¼Œä½†ç”±äºå‘åå…¼å®¹æ€§ï¼Œä¸€ç›´ä¿ç•™è‡³ä»Š

**æ­£ç¡®åˆ¤æ–­ nullï¼š**
```javascript
// âŒ é”™è¯¯æ–¹å¼
typeof null === 'object'  // trueï¼ˆä½†è¿™ä¸æ˜¯åˆ¤æ–­ null çš„å¥½æ–¹æ³•ï¼‰

// âœ… æ­£ç¡®æ–¹å¼
value === null
```

**åˆ¤æ–­æ•°ç»„ï¼š**
```javascript
// âŒ ä¸å‡†ç¡®
typeof [] === 'object'  // trueï¼ˆä½†ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ•°ç»„ï¼‰

// âœ… æ¨èæ–¹æ³•
Array.isArray([])  // true
Array.isArray({})  // false
```

**åˆ¤æ–­å¯¹è±¡ç±»å‹çš„å®Œæ•´æ–¹æ³•ï¼š**
```javascript
Object.prototype.toString.call(null)       // "[object Null]"
Object.prototype.toString.call([])         // "[object Array]"
Object.prototype.toString.call({})         // "[object Object]"
Object.prototype.toString.call(function(){}) // "[object Function]"
```

</details>

---

## ç¬¬ 8 é¢˜ ğŸ”´

**ç±»å‹ï¼š** ä»£ç åˆ†æé¢˜  
**æ ‡ç­¾ï¼š** å˜é‡æå‡

### é¢˜ç›®

ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ

```javascript
var a = 1;
function test() {
  console.log(a);
  var a = 2;
  console.log(a);
}
test();
```

**é€‰é¡¹ï¼š**
- A. `1`, `2`
- B. `undefined`, `2`
- C. `ReferenceError`
- D. `1`, `undefined`

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šB

### ğŸ“– è§£æ

**å˜é‡æå‡ï¼ˆHoistingï¼‰æœºåˆ¶**

**ä»£ç æ‰§è¡Œè¿‡ç¨‹ï¼š**

åŸå§‹ä»£ç ï¼š
```javascript
var a = 1;
function test() {
  console.log(a);  // ç¬¬ä¸€æ¬¡è¾“å‡º
  var a = 2;
  console.log(a);  // ç¬¬äºŒæ¬¡è¾“å‡º
}
test();
```

å®é™…æ‰§è¡Œç­‰ä»·äºï¼š
```javascript
var a = 1;
function test() {
  var a;  // å˜é‡å£°æ˜è¢«æå‡åˆ°å‡½æ•°é¡¶éƒ¨
  console.log(a);  // undefinedï¼ˆå·²å£°æ˜ä½†æœªèµ‹å€¼ï¼‰
  a = 2;  // èµ‹å€¼
  console.log(a);  // 2
}
test();
```

**å…³é”®ç‚¹ï¼š**

**1. å˜é‡æå‡è§„åˆ™**
- å˜é‡å£°æ˜ä¼šè¢«æå‡åˆ°å‡½æ•°é¡¶éƒ¨
- ä½†èµ‹å€¼æ“ä½œä¸ä¼šè¢«æå‡
- å±€éƒ¨å˜é‡ä¼šè¦†ç›–åŒåçš„å¤–éƒ¨å˜é‡

**2. ä¸ºä»€ä¹ˆç¬¬ä¸€æ¬¡è¾“å‡ºæ˜¯ `undefined`ï¼Ÿ**
```javascript
function test() {
  // æ­¤æ—¶ a å·²åœ¨å‡½æ•°ä½œç”¨åŸŸå£°æ˜ï¼ˆå› ä¸ºæå‡ï¼‰
  // ä½†è¿˜æ²¡æœ‰èµ‹å€¼ï¼Œæ‰€ä»¥æ˜¯ undefined
  console.log(a);  // undefined
  
  // è¿™é‡Œä¸ä¼šè®¿é—®å…¨å±€çš„ a = 1
  // å› ä¸ºå±€éƒ¨ä½œç”¨åŸŸå·²ç»æœ‰å˜é‡ a äº†
  
  var a = 2;  // èµ‹å€¼
  console.log(a);  // 2
}
```

**å¯¹æ¯” let/constï¼š**
```javascript
var a = 1;
function test() {
  console.log(a);  // ReferenceError: Cannot access 'a' before initialization
  let a = 2;
  console.log(a);
}
test();
```

**let/const çš„æš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰ï¼š**
- `let` å’Œ `const` ä¹Ÿä¼šæå‡
- ä½†åœ¨å£°æ˜å‰è®¿é—®ä¼šæŠ¥é”™ï¼ˆTDZï¼‰
- æ›´å®‰å…¨ï¼Œèƒ½åŠæ—¶å‘ç°é”™è¯¯

**å‡½æ•°æå‡ï¼š**
```javascript
// å‡½æ•°å£°æ˜ä¹Ÿä¼šæå‡
test();  // "Hello"ï¼ˆå¯ä»¥åœ¨å£°æ˜å‰è°ƒç”¨ï¼‰

function test() {
  console.log("Hello");
}

// ä½†å‡½æ•°è¡¨è¾¾å¼ä¸ä¼š
test2();  // TypeError: test2 is not a function

var test2 = function() {
  console.log("World");
};
```

**æœ€ä½³å®è·µï¼š**
- âœ… ä½¿ç”¨ `let` å’Œ `const` é¿å…å˜é‡æå‡é—®é¢˜
- âœ… åœ¨ä½œç”¨åŸŸé¡¶éƒ¨å£°æ˜å˜é‡
- âœ… ä½¿ç”¨ ESLint è§„åˆ™æ£€æŸ¥

</details>

---

## ç¬¬ 9 é¢˜ ğŸ”´

**ç±»å‹ï¼š** ç»¼åˆåˆ†æé¢˜  
**æ ‡ç­¾ï¼š** æ•°æ®ç±»å‹è½¬æ¢

### é¢˜ç›®

ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ

```javascript
console.log([] == false);
console.log([] == ![]);
console.log({} == !{});
```

**é€‰é¡¹ï¼š**
- A. `true`, `true`, `true`
- B. `false`, `false`, `false`
- C. `true`, `true`, `false`
- D. `true`, `false`, `false`

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šC

### ğŸ“– è§£æ

**ç›¸ç­‰æ€§æ¯”è¾ƒçš„å¤æ‚è½¬æ¢è§„åˆ™**

**ç¬¬ 1 é¢˜ï¼š`[] == false`**

```javascript
[] == false  // true
```

**è½¬æ¢æ­¥éª¤ï¼š**
1. `[]` æ˜¯å¯¹è±¡ï¼Œ`false` æ˜¯å¸ƒå°”å€¼
2. å¸ƒå°”å€¼è½¬æ¢ä¸ºæ•°å­—ï¼š`false` â†’ `0`
3. å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼ï¼š`[]` â†’ `""` ï¼ˆè°ƒç”¨ `toString()`ï¼‰
4. å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼š`""` â†’ `0`
5. `0 == 0` â†’ `true`

---

**ç¬¬ 2 é¢˜ï¼š`[] == ![]`**

```javascript
[] == ![]  // true
```

**è½¬æ¢æ­¥éª¤ï¼š**
1. å…ˆè®¡ç®— `![]`ï¼š
   - `[]` æ˜¯å¯¹è±¡ï¼ˆçœŸå€¼ï¼‰
   - `![]` â†’ `false`
2. æ¯”è¾ƒ `[] == false`
3. åŒç¬¬ 1 é¢˜ï¼Œç»“æœä¸º `true`

---

**ç¬¬ 3 é¢˜ï¼š`{} == !{}`**

```javascript
{} == !{}  // false
```

**è½¬æ¢æ­¥éª¤ï¼š**
1. å…ˆè®¡ç®— `!{}`ï¼š
   - `{}` æ˜¯å¯¹è±¡ï¼ˆçœŸå€¼ï¼‰
   - `!{}` â†’ `false`
2. æ¯”è¾ƒ `{} == false`
3. å¯¹è±¡è½¬æ¢ï¼š
   - `{}` â†’ `"[object Object]"` ï¼ˆè°ƒç”¨ `toString()`ï¼‰
4. å­—ç¬¦ä¸²è½¬æ•°å­—ï¼š
   - `"[object Object]"` â†’ `NaN`
5. `NaN == 0` â†’ `false`

---

**å…³é”®çŸ¥è¯†ç‚¹**

**1. å¯¹è±¡è½¬åŸå§‹å€¼çš„è§„åˆ™**
```javascript
// æ•°ç»„è½¬å­—ç¬¦ä¸²
[].toString()        // ""
[1].toString()       // "1"
[1, 2].toString()    // "1,2"

// å¯¹è±¡è½¬å­—ç¬¦ä¸²
({}).toString()      // "[object Object]"
```

**2. == çš„è½¬æ¢è§„åˆ™**
- å¦‚æœç±»å‹ç›¸åŒï¼Œç›´æ¥æ¯”è¾ƒ
- å¦‚æœç±»å‹ä¸åŒï¼Œå°è¯•è½¬æ¢ï¼š
  - `null == undefined` â†’ `true`
  - å¸ƒå°”å€¼è½¬æ•°å­—
  - å­—ç¬¦ä¸²è½¬æ•°å­—
  - å¯¹è±¡è½¬åŸå§‹å€¼ï¼ˆè°ƒç”¨ `ToPrimitive`ï¼‰

**3. ToPrimitive è½¬æ¢**
```javascript
// æ•°ç»„çš„ ToPrimitive è°ƒç”¨ toString()
[].valueOf()    // []ï¼ˆè¿”å›è‡ªèº«ï¼‰
[].toString()   // ""ï¼ˆä½¿ç”¨è¿™ä¸ªï¼‰

// å¯¹è±¡çš„ ToPrimitive è°ƒç”¨ toString()
({}).valueOf()  // {}ï¼ˆè¿”å›è‡ªèº«ï¼‰
({}).toString() // "[object Object]"ï¼ˆä½¿ç”¨è¿™ä¸ªï¼‰
```

**æ›´å¤šä¾‹å­ï¼š**
```javascript
// ç©ºæ•°ç»„
[] == 0          // trueï¼ˆ[] â†’ "" â†’ 0ï¼‰
[] == ""         // trueï¼ˆ[] â†’ ""ï¼‰
[] == []         // falseï¼ˆä¸åŒå¯¹è±¡å¼•ç”¨ï¼‰

// æ•°å­—æ•°ç»„
[1] == 1         // trueï¼ˆ[1] â†’ "1" â†’ 1ï¼‰
[1, 2] == "1,2"  // trueï¼ˆ[1,2] â†’ "1,2"ï¼‰

// å¥‡æ€ªä½†ä¸ºçœŸçš„æ¯”è¾ƒ
null == undefined // trueï¼ˆç‰¹ä¾‹ï¼‰
"" == 0          // true
false == 0       // true
true == 1        // true
```

**æœ€ä½³å®è·µï¼š**
- âœ… ä½¿ç”¨ `===` ä¸¥æ ¼ç›¸ç­‰ï¼Œé¿å…éšå¼è½¬æ¢
- âœ… æ˜ç¡®è½¬æ¢ç±»å‹ï¼š`Number(value)`ã€`String(value)`
- âŒ é¿å…ä¾èµ– `==` çš„éšå¼è½¬æ¢è§„åˆ™

```javascript
// âœ… æ¨èå†™æ³•
[] === false     // falseï¼ˆç±»å‹ä¸åŒï¼‰
String([]) === String(false)  // false

// âŒ ä¸æ¨è
[] == false      // trueï¼ˆéš¾ä»¥ç†è§£ï¼‰
```

</details>

---

## ç¬¬ 10 é¢˜ ğŸ”´

**ç±»å‹ï¼š** ä»£ç è¾“å‡ºé¢˜  
**æ ‡ç­¾ï¼š** ä½œç”¨åŸŸé“¾

### é¢˜ç›®

ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ

```javascript
for (var i = 0; i < 3; i++) {
  setTimeout(function() {
    console.log(i);
  }, 100);
}
```

**é€‰é¡¹ï¼š**
- A. `0`, `1`, `2`
- B. `3`, `3`, `3`
- C. `undefined`, `undefined`, `undefined`
- D. æŠ¥é”™

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

### âœ… æ­£ç¡®ç­”æ¡ˆï¼šB

### ğŸ“– è§£æ

**ç»å…¸çš„é—­åŒ…é™·é˜±**

**ä¸ºä»€ä¹ˆè¾“å‡º `3`, `3`, `3`ï¼Ÿ**

**1. var æ²¡æœ‰å—çº§ä½œç”¨åŸŸ**
```javascript
// å®é™…æ‰§è¡Œç­‰ä»·äº
var i;
for (i = 0; i < 3; i++) {
  setTimeout(function() {
    console.log(i);
  }, 100);
}
// å¾ªç¯ç»“æŸåï¼Œi = 3
```

**2. setTimeout æ˜¯å¼‚æ­¥çš„**
- å›è°ƒå‡½æ•°ä¼šåœ¨ 100ms åæ‰§è¡Œ
- æ­¤æ—¶å¾ªç¯å·²ç»ç»“æŸ
- `i` çš„å€¼å·²ç»å˜æˆ `3`

**3. é—­åŒ…å¼•ç”¨**
- 3 ä¸ªå›è°ƒå‡½æ•°éƒ½å¼•ç”¨åŒä¸€ä¸ªå˜é‡ `i`
- å½“å®ƒä»¬æ‰§è¡Œæ—¶ï¼Œ`i` å·²ç»æ˜¯ `3` äº†

**æ‰§è¡Œæ—¶é—´çº¿ï¼š**
```
0ms:   å¾ªç¯å¼€å§‹
       æ³¨å†Œç¬¬1ä¸ª setTimeoutï¼ˆi = 0ï¼‰
       æ³¨å†Œç¬¬2ä¸ª setTimeoutï¼ˆi = 1ï¼‰
       æ³¨å†Œç¬¬3ä¸ª setTimeoutï¼ˆi = 2ï¼‰
       å¾ªç¯ç»“æŸï¼ˆi = 3ï¼‰

100ms: ç¬¬1ä¸ªå›è°ƒæ‰§è¡Œï¼Œconsole.log(i) â†’ 3
       ç¬¬2ä¸ªå›è°ƒæ‰§è¡Œï¼Œconsole.log(i) â†’ 3
       ç¬¬3ä¸ªå›è°ƒæ‰§è¡Œï¼Œconsole.log(i) â†’ 3
```

---

**è§£å†³æ–¹æ¡ˆ**

**æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ letï¼ˆæœ€ç®€å•ï¼‰**
```javascript
for (let i = 0; i < 3; i++) {
  setTimeout(function() {
    console.log(i);  // 0, 1, 2
  }, 100);
}
```

**ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ**
- `let` æœ‰å—çº§ä½œç”¨åŸŸ
- æ¯æ¬¡å¾ªç¯åˆ›å»ºæ–°çš„ `i`
- æ¯ä¸ªå›è°ƒæ•è·ä¸åŒçš„ `i`

---

**æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°ï¼‰**
```javascript
for (var i = 0; i < 3; i++) {
  (function(j) {
    setTimeout(function() {
      console.log(j);  // 0, 1, 2
    }, 100);
  })(i);
}
```

**ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ**
- IIFE åˆ›å»ºæ–°çš„ä½œç”¨åŸŸ
- å‚æ•° `j` ä¿å­˜å½“å‰çš„ `i` å€¼
- æ¯ä¸ªå›è°ƒæ•è·ä¸åŒçš„ `j`

---

**æ–¹æ¡ˆ 3ï¼šä½¿ç”¨ bind**
```javascript
for (var i = 0; i < 3; i++) {
  setTimeout(function(j) {
    console.log(j);  // 0, 1, 2
  }.bind(null, i), 100);
}
```

---

**æ–¹æ¡ˆ 4ï¼šä½¿ç”¨é¢å¤–å‚æ•°**
```javascript
for (var i = 0; i < 3; i++) {
  setTimeout(function(j) {
    console.log(j);  // 0, 1, 2
  }, 100, i);
}
```

**åŸç†ï¼š**
- `setTimeout` çš„ç¬¬ä¸‰ä¸ªåŠåç»­å‚æ•°ä¼šä¼ é€’ç»™å›è°ƒå‡½æ•°

---

**æ·±å…¥ç†è§£ï¼šé—­åŒ…çš„æœ¬è´¨**

```javascript
// è¿™å°±æ˜¯é—­åŒ…é™·é˜±çš„æœ¬è´¨
var funcs = [];
for (var i = 0; i < 3; i++) {
  funcs.push(function() {
    return i;
  });
}

console.log(funcs[0]());  // 3
console.log(funcs[1]());  // 3
console.log(funcs[2]());  // 3

// æ‰€æœ‰å‡½æ•°éƒ½å¼•ç”¨åŒä¸€ä¸ª i
```

**æ­£ç¡®çš„é—­åŒ…ï¼š**
```javascript
var funcs = [];
for (let i = 0; i < 3; i++) {
  funcs.push(function() {
    return i;
  });
}

console.log(funcs[0]());  // 0
console.log(funcs[1]());  // 1
console.log(funcs[2]());  // 2

// æ¯ä¸ªå‡½æ•°å¼•ç”¨ä¸åŒçš„ i
```

**æœ€ä½³å®è·µï¼š**
- âœ… ä¼˜å…ˆä½¿ç”¨ `let` å’Œ `const`
- âœ… ç†è§£é—­åŒ…çš„ä½œç”¨åŸŸè§„åˆ™
- âœ… æ³¨æ„å¼‚æ­¥æ“ä½œä¸­çš„å˜é‡å¼•ç”¨

</details>

---

**æœ¬ç« æ€»ç»“ï¼š**
- âœ… JavaScript åŸºæœ¬æ¦‚å¿µå’Œå†å²
- âœ… å˜é‡å£°æ˜ï¼ˆvar/let/constï¼‰
- âœ… æ•°æ®ç±»å‹å’Œç±»å‹åˆ¤æ–­
- âœ… ç±»å‹è½¬æ¢è§„åˆ™
- âœ… å˜é‡æå‡å’Œä½œç”¨åŸŸ
- âœ… é—­åŒ…çš„åŸºç¡€åº”ç”¨

**ä¸‹ä¸€ç« ï¼š** [ç¬¬ 2 ç« ï¼šè¿ç®—ç¬¦ä¸è¡¨è¾¾å¼](./chapter-02.md)
