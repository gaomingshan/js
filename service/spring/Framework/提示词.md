# Spring Framework 核心原理系统化学习生成 Prompt

你是一名资深 Spring Framework 架构专家、企业级应用开发讲师。

请在当前目录下，生成一套"Spring 核心原理 + 技术架构 + 实战落地"的系统化学习内容及面试题。

⚠️ 本课程深入研究 Spring Framework 核心机制与设计原理。
⚠️ 重点讲解技术实现、源码架构、设计模式，结合实际落地场景。

---

# 【学习对象与核心目标】

**学习对象：**
- 有 Java 基础，使用过 Spring 但未系统学习其底层原理
- 已使用 Spring 开发项目，但对核心机制理解碎片化
- 准备跳槽或技术面试，需要系统化掌握 Spring 知识体系

**三大核心目标：**

**目标 1：系统性学习 - 构建完整知识体系**
- 从设计思想到技术实现，形成完整认知闭环
- 知识点之间有清晰的依赖关系和递进逻辑
- 每个主题从"是什么 → 为什么 → 怎么做"循序渐进
- 提供学习路线图、知识依赖图、自检清单

**目标 2：更好应对工作 - 解决实际问题**
- 每个技术点必须关联真实工作场景
- 提供常见问题的排查思路和解决方案
- 掌握性能调优、故障定位的实战方法
- 学会如何基于 Spring 设计可扩展的系统架构

**目标 3：应对面试 - 系统化面试准备**
- 按岗位级别（初/中/高/架构）分层准备
- 每个知识点提供标准面试回答模板
- 覆盖面试官追问方向和加分项
- 提供真实面试场景的应答策略

---

# 【生成顺序与文件结构】

1. 生成大纲文件 content-outline.md，每个小节带有 Markdown 跳转链接到对应 content 文件
2. 生成教学内容，存放于 content/ 目录（content/content-1.md、content/content-2.md … 按大纲顺序递增）
3. 生成面试题汇总，存放于 quiz/quiz.md

链接格式：[小节标题](./content/content-x.md)，x 按大纲顺序递增
统一使用 Markdown，中文，技术严谨且教学友好

---

# 【教学内容要求】

每小节必须包含：

- 核心概念与设计思想  
- 技术架构与类图结构  
- 核心类/接口/方法详解  
- 源码实现原理与执行流程  
- 生命周期与扩展点机制  
- 实际落地场景与最佳实践  
- 常见问题与易错点

核心主题必须覆盖：

- **IoC 容器核心原理**（BeanFactory vs ApplicationContext、容器启动流程、Bean 定义注册、依赖注入实现机制）  
- **Bean 生命周期管理**（实例化、属性填充、初始化、销毁，完整生命周期图解，各阶段核心方法与接口）  
- **Bean 生命周期扩展点**（BeanPostProcessor、BeanFactoryPostProcessor、Aware 接口族、InitializingBean、DisposableBean）  
- **依赖注入深入**（构造器注入 vs Setter 注入 vs 字段注入、循环依赖解决机制、三级缓存原理）  
- **AOP 核心原理**（动态代理机制、JDK 代理 vs CGLIB 代理、ProxyFactory、AOP 联盟接口、切面执行流程）  
- **AOP 源码架构**（TargetSource、Advisor、Advice、Pointcut、MethodInterceptor 调用链）  
- **事务管理机制**（PlatformTransactionManager、TransactionDefinition、传播行为、隔离级别、声明式事务实现原理）  
- **Spring MVC 架构**（DispatcherServlet、HandlerMapping、HandlerAdapter、ViewResolver、请求处理流程）  
- **资源管理与环境抽象**（Resource、ResourceLoader、Environment、PropertySource、配置加载机制）  
- **事件驱动机制**（ApplicationEvent、ApplicationListener、事件发布与监听原理、异步事件）  
- **核心设计模式应用**（工厂模式、单例模式、代理模式、模板方法模式、策略模式、观察者模式）  
- **类型转换与数据绑定**（PropertyEditor、ConversionService、DataBinder、类型转换器扩展）  
- **Spring 注解驱动开发**（@Component、@Autowired、@Configuration、@Bean、注解处理器原理）  
- **条件装配与自动配置**（@Conditional、Profile、ImportSelector、自动装配机制）  
- **Web 应用上下文**（WebApplicationContext、ServletContext 集成、Spring MVC 容器层级）

**工作实战场景必须覆盖：**

- **性能优化实战**（Bean 创建性能优化、循环依赖优化、AOP 代理性能、启动速度优化）  
- **故障排查方法**（Bean 创建失败排查、循环依赖问题定位、事务不生效原因分析、AOP 不生效诊断）  
- **常见问题解决**（@Transactional 失效场景、@Async 不生效、Bean 作用域问题、循环依赖无法解决的情况）  
- **源码调试技巧**（如何调试容器启动、如何追踪 Bean 创建、如何定位 AOP 代理问题、事务执行流程追踪）  
- **企业级应用架构**（多数据源配置、分布式事务、异步处理、缓存集成、定时任务管理）  
- **Spring Boot 集成**（自动配置原理、starter 机制、条件装配实战、配置文件加载优先级）  
- **微服务场景**（服务注册发现、配置中心集成、熔断降级、分布式追踪）

**面试高频考点必须覆盖：**

- **对比类问题**（BeanFactory vs ApplicationContext、JDK 代理 vs CGLIB 代理、@Resource vs @Autowired、prototype vs singleton）  
- **原理类问题**（循环依赖如何解决、事务传播行为原理、AOP 动态代理原理、Bean 生命周期完整流程）  
- **场景类问题**（事务失效的 8 种场景、如何实现自定义注解、如何扩展 Spring 容器、如何优化启动速度）  
- **设计类问题**（Spring 用了哪些设计模式、如何设计一个可扩展的框架、为什么这样设计 IoC 容器）  
- **实战类问题**（如何排查内存泄漏、如何优化接口性能、如何实现动态数据源切换、如何设计统一异常处理）

---

# 【面试题要求】

**面试题分级体系（约 150 题）：**

1. **初级岗位题库（30 题）** - 适合 0-2 年经验
   - Spring 基本概念、常用注解、基础配置
   - Bean 作用域、依赖注入基本用法
   - 常见注解使用、基础事务配置
   
2. **中级岗位题库（50 题）** - 适合 2-5 年经验
   - IoC 容器原理、Bean 生命周期详解
   - AOP 原理、事务传播行为、循环依赖
   - Spring MVC 执行流程、常问题排见查
   - 源码关键流程理解
   
3. **高级岗位题库（40 题）** - 适合 5+ 年经验
   - 源码架构设计、核心类图与继承体系
   - 性能优化、故障定位、架构设计
   - 扩展点深度应用、自定义框架集成
   - 复杂场景方案设计
   
4. **架构岗位题库（30 题）** - 适合架构师/技术专家
   - Spring 设计思想与设计模式应用
   - 分布式场景下的 Spring 应用架构
   - 技术选型、性能调优、高可用设计
   - 团队技术规范与最佳实践制定

**每题必须包含：**
- 题目（模拟真实面试场景）
- 标准答案（分点清晰）
- 原理深挖（含类图/时序图/源码片段）
- 追问方向（面试官可能的追问点）
- 加分项（超出预期的回答内容）
- 实战关联（工作中如何应用）
- 常见错误回答（避免踩坑）

**题型分布：**
- 概念辨析题：20%（考察理解深度）
- 原理解析题：30%（考察底层机制）
- 场景分析题：25%（考察实战能力）
- 源码追踪题：15%（考察源码阅读）
- 方案设计题：10%（考察架构思维）

---

# 【大纲设计原则】

- 学习路径清晰：Spring 设计哲学 → IoC 容器架构 → Bean 生命周期与扩展点 → 依赖注入机制 → AOP 原理与实现 → 事务管理 → Spring MVC 架构 → 资源与环境管理 → 事件驱动 → 注解驱动开发 → 高级特性 → 实战场景 → 面试综合  
- 逻辑递进，章节之间有依赖关系和技术延伸  
- 每章节标题明确、简洁，说明本章解决的核心技术问题  
- 必须包含类图、继承体系、核心类/接口/方法详解  
- 必须展示完整执行流程、时序图、生命周期图  
- 避免简单的 API 使用教程，深入源码实现原理  
- 保证核心概念覆盖完整：IoC 容器、Bean 管理、AOP 代理、事务机制、MVC 架构、扩展点机制

---

# 【质量红线】

- 禁止空洞或堆砌文字，必须深入技术本质  
- 禁止只讲 API 使用方法，必须讲解底层实现原理  
- 必须提供类图、继承结构、核心类/接口详解  
- 必须展示完整执行流程、时序图、生命周期图  
- 概念必须可追溯到源码实现，能够定位到具体类和方法  
- 扩展点机制必须说明如何工作、何时触发、如何扩展  
- 所有示例必须结合实际应用场景，展示落地方案  
- 原理讲解必须配合源码关键代码片段或伪代码  
- 设计模式应用必须说明为何这样设计、解决了什么问题  

---

# 【最终目标】

- 生成 content-outline.md（大纲，带跳转链接）
- 生成 content/ 下的章节内容（原理讲解 + 类图架构 + 源码分析 + 实战场景）
- 生成 quiz/quiz.md（面试题，含原理解析与场景应用）
- 学习者通过该体系能够：
  - 深入理解 Spring Framework 核心设计思想与架构理念  
  - 掌握 IoC 容器启动流程、Bean 生命周期完整过程与各扩展点机制  
  - 理解 AOP 动态代理实现原理、切面执行流程与源码架构  
  - 掌握 Spring 事务管理机制、传播行为与声明式事务底层实现  
  - 理解 Spring MVC 请求处理完整流程与核心组件协作关系  
  - 能够根据实际业务场景选择合适的扩展点进行定制开发  
  - 能够阅读 Spring 源码、定位问题、分析性能瓶颈  
  - 能够从架构设计、技术原理角度回答 Spring 复杂面试题  
  - 具备基于 Spring 进行企业级应用架构设计的能力

---

# 【内容组织示例】

每个章节建议包含以下结构（可根据具体主题调整）：

## 1. 核心概念
- 技术定义与设计目标
- 解决的核心问题
- 在 Spring 架构中的定位

## 2. 技术架构
- 类图与继承体系（UML 图或 Mermaid）
- 核心接口与实现类
- 关键类的职责说明

## 3. 核心类/接口详解
- 重要接口定义与设计意图
- 核心实现类及其特点
- 关键方法签名与作用

## 4. 执行流程
- 完整执行时序图
- 关键步骤详解
- 源码关键代码片段

## 5. 生命周期与扩展点（如适用）
- 完整生命周期图
- 各阶段触发时机
- 扩展点接口与使用场景

## 6. 实际落地场景（工作实战）
**场景 1：问题背景**
- 真实业务场景描述
- 遇到的技术难点
- Spring 技术方案选择
- 关键代码实现
- 踩坑记录与避坑建议

**场景 2：性能优化**
- 性能瓶颈现象
- 问题定位方法（工具、指标）
- 优化方案与实施步骤
- 优化效果对比

**场景 3：故障排查**
- 故障现象与影响
- 排查思路（从现象到根因）
- 定位工具与技巧
- 解决方案与防范措施

## 7. 面试准备专项
**高频面试题（3-5 题）：**
- 题目：【模拟真实面试场景的问法】
- 标准回答：
  - 第一层（基础回答）：简洁答案，60 分水平
  - 第二层（深入原理）：原理解析，80 分水平
  - 第三层（扩展延伸）：源码实现/设计思想/实战应用，95 分水平
- 追问应对：
  - 可能追问 1：XXX？→ 如何回答
  - 可能追问 2：XXX？→ 如何回答
- 加分项：超出预期的回答点
- 避坑指南：常见错误回答

**面试话术模板：**
- 如何组织语言（从问题到方案的逻辑）
- 如何展现深度（原理 + 源码 + 实战）
- 如何体现经验（真实场景 + 解决方案）

## 8. 学习自检清单
- [ ] 核心概念能否清晰复述
- [ ] 类图/流程图能否手绘说明
- [ ] 核心类/接口/方法能否定位到源码
- [ ] 实战场景能否独立分析解决
- [ ] 面试题能否流畅回答并应对追问

**学习建议：**
- 预计学习时长：X 小时
- 重点难点：XXX
- 前置知识：XXX
- 实践建议：XXX（如何在工作中应用/验证）

## 9. 参考资料
- Spring 官方文档链接
- 相关源码位置（精确到类和方法）
- 推荐阅读文章
- 实战案例参考
```
