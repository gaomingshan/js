# 新项目选型建议

## 概述

新项目选型最重要的不是“选最火的工具”，而是明确：**你要交付什么形态的应用、团队要付出什么维护成本、未来可能遇到哪些扩展点**。

一个可落地的选型顺序通常是：

```text
应用形态（SPA/MPA/SSR/库）
  → 约束（浏览器兼容/生态依赖/团队经验/CI 预算）
    → 范式（ESM Dev？Bundle-first？）
      → 工具组合（平台 + 引擎 + 组件）
```

---

## 一、先把“项目类型”说清楚

### 1.1 典型新项目类型

- **现代 Web 应用（SPA/MPA）**：中后台、营销页、可视化、管理系统
- **SSR/全栈框架应用**：对 SEO/首屏性能要求高
- **库/SDK/组件库**：要被别人项目消费
- **微前端/多团队共建**：产物与部署形态复杂

> **关键点**
>
> 你在做“应用”还是“库”，会直接决定是否优先 Rollup/是否需要多格式输出/是否需要 external。

---

## 二、再把“约束条件”列出来（这是选型的根）

### 2.1 兼容性与运行环境

- 现代浏览器为主：可以拥抱 ESM Dev（Vite）
- 需要兼容老环境：可能更依赖成熟 bundling 体系与 polyfill 策略

### 2.2 生态与历史依赖

- 是否需要大量 webpack loader/plugin 能力？
- 是否依赖某些历史资源处理链（特殊 loader、模板、老 CSS 体系）？

### 2.3 团队与维护成本

- 团队是否能维护复杂构建配置？
- 更看重“开箱即用”还是“极致可控”？

---

## 三、主流可执行建议（新项目）

### 3.1 默认优先：Vite（现代 Web 应用）

适合：

- 新项目
- 现代框架（React/Vue/Svelte）
- 希望 Dev 反馈速度快、配置更轻

你通常得到的组合是：

```text
Vite（平台）
  + esbuild（dev 转译/依赖预构建）
  + Rollup（生产 bundling）
```

### 3.2 企业级新项目：优先看 Rsbuild（或 Vite + 规范化）

如果你一开始就明确：

- 项目规模大
- 多团队协作
- 产物与发布链路要求高

Rsbuild 的价值通常在：

- 更强的工程默认值（缓存、产物策略、工程集成）
- 更贴近企业落地的“可维护配置入口”

### 3.3 需要“零配置快速跑起来”：Parcel

适合：

- 快速原型
- 小团队/学习阶段
- 不想在早期投入配置成本

注意：进入复杂产物策略阶段时，你可能会更倾向迁移到 Vite/Rsbuild/webpack。

---

## 四、选型的“决策树”（直觉版）

```text
你在做库/SDK？
  是 → 优先 Rollup（必要时配合 esbuild/tsc 输出类型）
  否 → 你在做 Web 应用

Web 应用是否依赖大量 webpack 生态？
  是 → 评估 Rsbuild/Rspack 或继续 webpack
  否 → 默认优先 Vite

是否强依赖复杂产物策略（多入口/微前端/复杂部署）？
  是 → Rsbuild/webpack 路线更稳
  否 → Vite 路线更轻、更快
```

---

## 五、落地建议：把“组合”当作默认答案

真实项目里你通常不是只选一个名字，而是选择一套组合：

- 平台（Vite/Rsbuild）提供体验与默认值
- 引擎（Rollup/webpack/Rspack）决定产物能力上限
- 组件（esbuild/SWC/Babel/Terser）解决热点环节性能

> **建议**
>
> 新项目选型时，先选“平台层”，并确认它背后的引擎/组件能覆盖你的边界需求。

---

## 参考资料

- [Vite - Why Vite](https://vite.dev/guide/why.html)
- [webpack - Concepts](https://webpack.js.org/concepts/)
- [Rsbuild](https://rsbuild.dev/)
- [Rollup](https://rollupjs.org/)
